!function(){"use strict";function i(){for(var i=1;i<arguments.length;i++)for(var t in arguments[i])arguments[i].hasOwnProperty(t)&&(arguments[0][t]=arguments[i][t]);return arguments[0]}var t=document,e=window,n=function(i){this.siteDomain=i,this.setParams=function(i){this.params=i},this.track=function(){if(["de","fr","ru"].indexOf(this.siteDomain.toLowerCase())===-1&&"ViewContent"!==this.params.ev){var i=this.buildUrl(this.params);new Image(1,1).src=i;var t=i.replace("/rt/","/tr/");new Image(1,1).src=t}},this.buildUrl=function(i){var t="https://www."+this.getDomain()+"/rt/?",e=[];for(var n in i)i.hasOwnProperty(n)&&e.push(n+"="+encodeURIComponent(i[n]));var r=e.join("&").length;return e.push("l="+r),e.push("v=1"),t+e.join("&")},this.getDomain=function(){var i=e.location.href.match(/([0-9]+)\.devklarka\.[a-z]{2,}/);if(i)return parseInt(i[1],10)+".devklarka."+this.siteDomain.toLowerCase();switch(this.siteDomain.toLowerCase()){case"br":return"glami.com.br";case"tr":return"glami.com.tr";default:return"glami."+this.siteDomain.toLowerCase()}}},r={get:function(i){for(var t=i+"=",e=document.cookie.split(";"),n=0;n<e.length;n++){for(var r=e[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return decodeURIComponent(r.substring(t.length,r.length))}return null},set:function(i,t,e,n,r){var a="";if(e){var o=new Date;o.setTime(o.getTime()+60*e*1e3);var a=o.toUTCString()}document.cookie=[i,"=",encodeURIComponent(t),a&&"; expires="+a,r&&"; path="+r,n&&"; domain="+n].join("")}},a={get:function(){var i=window.location.href.match(/gci=([a-z0-9]{40})/i);if(i&&i[1])return i[1]}},o={get:function(){var i=window.location.search.match(/gclid=([^&#]+)/i);if(i&&i[1])return i[1]}},s={sessionCookieLifetime:43200,sessionCookieName:"gp_s",exitIdCookieName:"gp_e",config:{},getBeacon:function(i){return new n(i)},create:function(i,t,e){e=e||s.DEFAULT_TRACKER_NAME,this.config[e]={},this.config[e].apiKey=i,this.config[e].siteDomain=t||"cz";var n=window.location.host.split(".");this.config[e].domain=n[n.length-2]+"."+n[n.length-1],this.storeExitClickId({gci:a.get(),gclid:o.get()},e)},track:function(t,e,n){var r,a,o={ev:e};for(var s in n)if(n.hasOwnProperty(s)){var c=n[s];if(void 0===c)continue;if(c.constructor===Array){for(r=0,a=c.length;r<a;r++)c[r]=new String(c[r]).replace(/,/g,"\\,");var h=c.join(",")}else var h=c+"";o["cd["+s+"]"]=h.substr(0,1e3)}"Purchase"===e&&this.getExitClickId()&&(o["cd[gci]"]=this.getExitClickId());var g=this.getBeacon(this.config[t].siteDomain);g.setParams(i(this.getDefaultParams(t),o)),g.track()},getDefaultParams:function(i){var n={};n.k=this.config[i].apiKey,t.referrer&&(n.r=t.referrer),n.sid=this.getSessionId(i),n.u=e.location.href,n.pt=document.title,n.w=e.screen&&e.screen.availWidth?e.screen.availWidth:"",n.h=e.screen&&e.screen.availHeight?e.screen.availHeight:"";var r=Math.round((new Date).getTime()/1e3);return n.ts=r,n},push:function(){var i=Array.prototype.slice.call(arguments),t=i.slice(0,1).toString(),e=i.slice(1),n=s.DEFAULT_TRACKER_NAME;if(t.indexOf(".")!==-1){var r=t.split(".",2);t=r[1],n=r[0]}if(this.hasOwnProperty(t))switch(t){case"create":this[t].apply(this,e);break;case"track":this[t].apply(this,[n].concat(e));break;default:console.error('Calling non-standard method "'+t+"'.")}else console.error('Calling non-standard method "'+t+"'.")},getSessionId:function(i){var t=r.get(this.sessionCookieName);return t&&t.match(/^[0-9]+\.[0-9]+$/)||(t=this.generateSessionId()),r.set(this.sessionCookieName,t,this.sessionCookieLifetime,this.config[i].domain,"/"),t},generateSessionId:function(){var i=Math.round(1*new Date/1e3);return Math.round(Math.random()*i)+"."+i},storeExitClickId:function(i,t){var e=(new Date).valueOf(),n=r.get(this.exitIdCookieName)||"",a=n.match(/([^;]+)?;(.*)?\.([0-9]+)/),o={gci:"",gclid:""};if((i.gci||i.gclid)&&(i.timestamp=e,a&&(o.gci=a[1],o.gclid=a[2],o.timestamp=a[3],!i.gci&&o.gci&&(i.gci=o.gci),!i.gclid&&o.gclid&&(i.gclid=o.gclid),o.timestamp&&(i.timestamp=o.timestamp)),i.gclid||i.gci)){var s=(void 0===i.gci?"":i.gci)+";"+(void 0===i.gclid?"":i.gclid)+"."+i.timestamp;r.set(this.exitIdCookieName,s,this.sessionCookieLifetime,this.config[t].domain,"/")}},getExitClickId:function(){var i=r.get(this.exitIdCookieName);return!!i&&i}};s.DEFAULT_TRACKER_NAME="def",function(){var i=e.GlamiTrackerObject||"glami",t=e[i];if(t&&t.q&&t.q.constructor===Array){var n,r,a=t.q;for(n=0,r=a.length;n<r;n++)s.push.apply(s,a[n])}e[i]=s.push.bind(s)}()}();