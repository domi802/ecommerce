function forEachPolyfill(a){var b,c=this.length;for(b=0;b<c;b++)a(this.item(b))}function findParentWithClass(a,b){var c=a.parentElement;return c.classList.contains(b)?c:"BODY"!==c.nodeName?findParentWithClass(c,b):null}function findParentByNodeType(a,b){var c=a.parentElement;return c.nodeName===b.toUpperCase()?c:"BODY"!==c.nodeName?findParentByNodeType(c,b):null}function checkElementVisibilityById(a){var b=document.getElementById(a);return!!b&&("none"!==b.style.display&&"hidden"!==b.style.visibility&&b.offsetWidth>0&&b.offsetHeight>0)}function checkNodeVisibility(a){return!!a&&("none"!==a.style.display&&"hidden"!==a.style.visibility&&a.offsetWidth>0&&a.offsetHeight>0)}function debounce(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function replaceString(a,b,c){return a.replace(new RegExp(b,"g"),c)}function isValidEmailAddress(a){var b=new RegExp(/^(("[\w-+\s]+")|([\w-+]+(?:\.[\w-+]+)*)|("[\w-+\s]+")([\w-+]+(?:\.[\w-+]+)*))(@((?:[\w-+]+\.)*\w[\w-+]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][\d]\.|1[\d]{2}\.|[\d]{1,2}\.))((25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\.){2}(25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\]?$)/i);return b.test(a)}function newsletterValidation(){jQuery("#newsletter-validate-detail").validate({rules:{"newsletter-accept":{required:!0},"email-input":{required:!0,email:!0}},messages:{"newsletter-accept":{required:global.i21v.regulations_req},"email-input":{required:global.i21v.newletter_req}}}),jQuery("#newsletter-checkout").validate({rules:{"newsletter-accept":{required:!0},"email-input":{required:!0,email:!0}},messages:{"newsletter-accept":{required:global.i21v.regulations_req},"email-input":{required:global.i21v.newletter_req}}}),jQuery("#newsletter-cms").validate({rules:{"newsletter-accept":{required:!0},"email-input":{required:!0,email:!0}},messages:{"newsletter-accept":{required:global.i21v.regulations_req},"email-input":{required:global.i21v.newletter_req}}})}function searchOrderForm(){var a=jQuery("#modal-search-order form");jQuery("#modal-search-order form").html();jQuery("#modal-search-order").hide(),jQuery(".cmspage a.btn").on("click",function(){"#modal-search-order"==jQuery(this).data("target")&&(jQuery("#modal-search-order form").clearValidation(),jQuery("#modal-search-order input").each(function(){jQuery(this).val(""),jQuery(this).removeClass("valid")}))}),a.validate({ignore:[],rules:{number:{required:!0,maxlength:30,accept:"[0-9]+"},email:{required:!0,email:!0},lastname:{required:!0,maxlength:70,accept:ValidationManager.basicCharacterSet}},submitHandler:function(b){jQuery.ajax({url:sessionCache.get("base_url")+"ajx/search/search/",async:!0,data:a.serialize(),type:"POST",timeout:LPP.cropp.consts.ajaxTimeout,dataType:"json",error:LPP.cropp.ajaxHandlers.error,beforeSend:function(){jQuery("body").addClass("wait"),LPP.common.openSpinner({parentSelector:"#cboxContent",keepContent:!0})},success:function(a){1==a.status?(jQuery("body").removeClass("wait"),document.location.href=a.content.url):(jQuery("body").removeClass("wait"),LPP.common.closeSpinner(),jQuery("#modal-search-order").colorbox.close(),setTimeout(function(){MessageBox.error(a.message)},600))}})}})}function resetPasswordValidation(){jQuery("#reset_forgotten_password").validate({rules:{password:{required:!0,minlength:6},confirmation:{required:!0,equalTo:"#password"}}})}function showMessagesOnPopup(){jQuery(".form-wrap-text ul.messages").length>0&&MessageBox.show(jQuery(".form-wrap-text ul.messages"),!1)}function resizeSlider(){if(jQuery(".front-page-slider ul.slides").length){var a=jQuery(window).height(),b=jQuery(window).width(),c=a-120;b>CROPP.tablet?(jQuery(".front-page-slider ul.slides").height(c),jQuery(".front-page-slider ul.slides li").width(b)):jQuery(".front-page-slider ul.slides").height("auto")}}function updateMiniCart(a){}function addslashes(a){return a.replace(/\\/g,"\\\\").replace(/\u0008/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/'/g,"\\'").replace(/"/g,'\\"')}function closeDropdown(){jQuery(".page-category-controls .filter-dropdown .close-dropdown").click(function(){jQuery(this).parent().hide().removeClass("opened"),jQuery(this).parents(".filter-options-box").find("p.opener").removeClass("active")}),jQuery(".actions .cancel").click(function(a){a.preventDefault(),jQuery(this).parents(".filter-dropdown").hide().removeClass("opened"),jQuery(this).parents(".filter-options-box").find("p.opener").removeClass("active")})}function errorDimensions(){var a=jQuery(window).height(),b=jQuery("header").height();jQuery(".error404 .span9").css("height",a-b-31)}function setFullPage(){var a=jQuery(window).height(),b=jQuery("header").height();jQuery(".full-page-content").css("min-height",a-b+parseInt(jQuery(".full-page-content").css("padding-bottom"),10)-1)}function fullHeightSection(){var a=jQuery(window).height(),b=jQuery("header").height();jQuery(".full-height-section").find(".span9").css("height",a-b-31)}function myOrdersHeight(){var a=jQuery(window).height();jQuery(".my-orders .span7").css("min-height",a-232)}function StoreLocatorHeight(){var a=jQuery(window).height();jQuery(".storelocator-container").length&&jQuery(".storelocator-container").css("min-height",a-101)}function cancelOrder(){var a={};jQuery(".cancel-order").each(function(b){a[jQuery(this).data("order-increment-id")]=jQuery(this).attr("href"),jQuery(this).attr("href","#cancel-order")}),jQuery(".cancel-order").click(function(b){b.preventDefault(),orderIncrementId=jQuery(this).data("order-increment-id"),jQuery("#cancel-order-id").html(orderIncrementId),jQuery("#cancel-order-yes").attr("href",a[orderIncrementId]),MessageBox.show(jQuery("#cancel-order-box").html())})}function orderCancelAnchor(){window.location.href=jQuery("#cancel-order-yes").attr("href"),closeMsgBox()}function tableSizes(){var a=jQuery("body"),b=jQuery("a.size-table");b.off().on("click",function(){jQuery(this).colorbox({className:"table-size-colorbox",initialWidth:"70%",width:"70%",maxHeight:"95%",onOpen:function(){a.css("overflow","hidden"),LPP.common.openSpinner({parentSelector:"#cboxContent",keepContent:!0})},onComplete:function(){setTimeout(function(){jQuery(".size-table .table-header a.alert.js-switch").on("click",function(a){a.preventDefault();var b=jQuery(this).attr("href");jQuery.colorbox({href:b,className:"no-margin-top",height:"100%"})})},1e3),LPP.common.closeSpinner()},onCleanup:function(){a.css("overflow","auto")}})})}function closeMsgBox(){jQuery.colorbox.close()}function removeAddressAnchor(){window.location.href=jQuery("#remove-address-yes").attr("href"),closeMsgBox()}function getRatio(a,b){return Number(a)/Number(b)}function getRecommended(a){var b=jQuery.ajax({url:jsVars.base_url+"ajx/recommended/getProductList/product_id/"+a,data:{page_size:3,list_name:"default"},async:!0,type:"GET",dataType:"json"});b.done(function(a){jQuery("#recommended-products").html(a.content),showInColorbox()})}function showInColorbox(){jQuery("#message-box").size()&&jQuery.colorbox({href:jQuery("#message-box"),height:"30%",width:"730px",overlayClose:!0,inline:!0,scrolling:!1,onLoad:function(){jQuery("body").css("overflow","hidden"),LPP.common.openSpinner({parentSelector:"#cboxContent",keepContent:!0})},onClosed:function(){jQuery("#message-box").hide(),jQuery("body").css("overflow","auto"),jQuery.colorbox.close(),LPP.common.closeSpinner()},onComplete:function(){jQuery("body").css("overflow","hidden"),LPP.common.closeSpinner(),jQuery("#message-box").show(),checkImgRatio(),jQuery(this).colorbox.resize()}})}function checkImgRatio(){var a=getRatio(jQuery("#s-product-img img").width(),jQuery("#s-product-img img").height());a<1.5&&jQuery("#s-product-img").hasClass("ratio_20x9")?jQuery("#s-product-img").attr("class","prod-image ratio_3x4"):a>1.5&&jQuery("#s-product-img").hasClass("ratio_3x4")&&jQuery("#s-product-img").attr("class","prod-image ratio_20x9")}function moveAdminMessages(){hideAdminMessages(),jQuery(".main-content").find(".span7").length>0?jQuery("#admin_messages").detach().prependTo(".main-content .span7"):jQuery(".main-content").find(".span9 > div:first-child").length>0?jQuery("#admin_messages").detach().prependTo(".main-content .span9 > div:first-child"):jQuery(".main-content").find(".span9").length>0?jQuery("#admin_messages").detach().prependTo(".main-content .span9"):jQuery("#admin_messages").css({"padding-left":25,"padding-top":30})}function hideAdminMessages(){var a=jQuery("#admin_messages");a.length>0&&0===a.html().length&&a.remove()}function setCookie(a,b){var c=new Date;c.setTime(c.getTime()+864e6),document.cookie=a+"="+b+";expires="+c.toUTCString()+";path=/"}function getCookie(a){var b=document.cookie.match("(^|;) ?"+a+"=([^;]*)(;|$)");return b?b[2]:null}function initAll(){subscribe(),subscribeNewsletterCheckout(),fMyAccountMenu()}function subscribe(){jQuery("#newsletter-validate-detail").submit(function(a){a.preventDefault(),jQuery("#accept-newsletter-terms",this).is(":checked")&&jQuery(this).find('[name="email-input"]').val().length&&isValidEmailAddress(jQuery(this).find('[name="email-input"]').val())&&(LPP.common.openSpinner({parentSelector:".main-content",keepContent:!0,withModal:!0}),jQuery.ajax({url:jsVars.secure_base_url+"ajx/newsletter/subscribe/",data:{email:jQuery(this).find('[name="email-input"]').val(),subscriptionPlace:jQuery(this).find('[name="subscriptionPlace"]').val()},dataType:"json",type:"POST",xhrFields:{withCredentials:!0},success:function(a){1==a.status&&a.hasOwnProperty("content")&&a.content.message?setTimeout(function(){window.location.href=jsVars.base_url+"subscription"},500):(MessageBox.error(a.message,!1),jQuery(".top-footer .show-footer").click()),LPP.common.closeSpinner()}}))})}function subscribeNewsletterCheckout(){jQuery("#newsletter-checkout").submit(function(a){a.preventDefault(),jQuery("#accept-newsletter-terms-checkout",this).is(":checked")&&jQuery(this).find('[name="email-input"]').val().length&&isValidEmailAddress(jQuery(this).find('[name="email-input"]').val())&&(LPP.common.openSpinner({parentSelector:".main-content",keepContent:!0,withModal:!0}),jQuery.post(jsVars.secure_base_url+"ajx/newsletter/subscribe/",{email:jQuery(this).find('[name="email-input"]').val(),subscriptionPlace:jQuery(this).find('[name="subscriptionPlace"]').val()},function(a){1==a.status&&a.hasOwnProperty("content")&&a.content.message?(MessageBox.success(a.content.message,!1),jQuery(".show-footer").hasClass("hide-footer")&&jQuery(".top-footer .show-footer").click()):(MessageBox.error(a.message,!1),jQuery(".show-footer").hasClass("hide-footer")&&jQuery(".top-footer .show-footer").click()),LPP.common.closeSpinner()}))})}function requestStoreAvailability(a,b){a||(a=!0);var c=jQuery("#check_availability_wrapper"),d=jQuery("#colorbox"),e=productPage.methods.getSelectedProductAttr("size_attr_id"),f={product:{product_id:productPage.methods.getSelectedProductAttr("configurable_product_id"),super_attribute:{}}};f.product.super_attribute[e]=productPage.methods.getSelectedProductAttr("size_label_id"),b?f.location={lat:b.coords.latitude,lnt:b.coords.longitude}:f.location=jQuery("#colorbox .store-search-query").val(),jQuery.ajax({url:jsVars.checkStoresAvailabilityUrl,type:"POST",data:f,success:function(b){if(0==b.status)MessageBox.error(b.message);else{var e=b.content.availability;for(a?$list=jQuery("#check_availability_wrapper .body .scroll ul"):$list=jQuery("#colorbox .body .scroll ul"),$list.html(""),$i=0;e.length>=$i;$i++)"undefined"!=typeof e[$i]&&$list.append(jQuery("<li>").attr("class","avv avv-"+e[$i].avv).append(jQuery("<span>").attr("class","icon")).append(jQuery("<span>").attr("class","text").html('<span class="info">'+e[$i].name+"<br>"+e[$i].city+"<br>"+e[$i].phone+"</span>")));a&&(MessageBox.show(c.html().replace(/enable_geolocation/g,"enable_geolocation_colorbox"),!1,"check_availability_wrapper",void 0,void 0,void 0,void 0,function(){jQuery.colorbox.resize({width:"90%",maxWidth:"660px"}),d.find(".search_location").unbind("click.storelocator").bind("click.storelocator",function(){return requestStoreAvailability(!1),!1}),d.find(".store-search-form").unbind("submit.storelocator").bind("submit.storelocator",function(){return d.find(".search_location").trigger("click.storelocator"),!1}),d.find("input.enable_geolocation_colorbox").unbind("change.storelocator").bind("change.storelocator",function(a){a.preventDefault(),this.checked&&navigator.geolocation?navigator.geolocation.getCurrentPosition(function(a){requestStoreAvailability(!1,a),jQuery("input.enable_geolocation_colorbox").prop("checked",!0),jQuery.uniform.update()}):(jQuery("input.enable_geolocation_colorbox").prop("checked",!1),jQuery.uniform.update())})}),jQuery("#message_box").click(function(a){a.stopPropagation()}))}}})}function emptyCartAfterTimeout(a){}function refreshMiniCart(a,b){}function loadDynamicContent(a){"undefined"==typeof a&&(a=["header_link","wishlist_count","customer_data"]);var b=localStorage.getItem("cartOperation"),c="undefined"!=typeof varnish.data.timestamp?varnish.data.timestamp:(new Date).getTime(),d=sessionCache.get("base_url")+"varnish/ajax/index?timestamp="+c;if("minicartjson"==a&&getCartData&&!b);else{var e={types:a};getCartData=!1}var f=jQuery("#userMenu .wishlist");getCartData||jQuery.ajax({url:d,type:"POST",data:e,success:function(a){jQuery.each(a,function(a,b){switch(a){case"customer_data":sessionCache.get("customer")||sessionCache.set("customer",b);break;case"header_link":var c=createHtmlFromJson(b.account),d=b.email,e=jQuery("#myAccountMenu");sessionCache.set("user_email",d),jQuery("#cs-email").val(d),jQuery("#myaccount .log-out").remove(),e.html(c).css("display","block");break;case"minicart":break;case"minicartjson":break;case"wishlist_count":b>0?(jQuery(".wishlist_count").text(b),f.show()):f.hide();break;default:var g=createHtmlFromJson(b);a&&jQuery(a)&&jQuery(a).length&&jQuery(a).html(g)}}),userMenu.markActiveMenuItem(userMenu.itemsArray),LPP.isNewsletterPopupTriggered||(LPP.isNewsletterPopupTriggered=!0,LPP.isLogged=a.auth,LPP.isSubscribed=a.isSubscribed,CROPP.newsletterCookie.checkCookie()),a.auth&&!a.privacy&&rodoPopupActions.init()}})}function createHtmlFromJson(a){var b="",c="",d="",e="";return jQuery.each(a,function(a,f){jQuery.each(f,function(a,f){c="<"+a+">",d="</"+a+">",b="",jQuery.each(f,function(a,d){switch(a){case"text":b+=d;break;case"html":b+=createHtmlFromJson(f.html);break;default:c=c.replace(">"," "+a+'="'+d+'">')}}),e+=c+b+d})}),e}function fMyAccountMenu(){function a(){Object.keys(l).forEach(function(a){this[a].hide()},l)}function b(){function a(){c&&(d=document.getElementById("customerAccountNavigation"),e=d.querySelector('a[data-container="customerData"]'),f=d.querySelector('a[data-container="address"]'),g=d.querySelector('a[data-container="invoiceAddress"]'),h=d.querySelector('a[data-container="creditCard"]'),i={"customer-data":e,"invoice-data":g,"address-data":f,"credit-card-data":h},i[c]&&(i[c].click(),b(d,i[c])))}function b(a,b){var c=a.querySelector("a.active");c.classList.remove("active"),b.classList.add("active")}var c,d,e,f,g,h,i,j=document.getElementById("customerAccountForm");j&&(c=window.location.hash.split("#")[1],window.addEventListener("hashchange",function(){c=window.location.hash.split("#")[1],a()},!1),a())}var c=jQuery(".my-account-settings-content"),d=jQuery(".my-account-invoice-content"),e=jQuery(".change-customer-data-container"),f=jQuery("#customerAccountNavigation a[data-container]"),g=jQuery(".my-account-creditcard-content"),h=jQuery(".my-account-settings-content"),i=h.find("div.customer-billing-address").length,j=h.find('label[for="add-new-address"]'),k=h.find("input#addNewAddress"),l={address:c,invoiceAddress:d,customerData:e,creditCard:g};f.on("click",function(){var b=jQuery(this),c=this.dataset.container;return i>9?(k.prop("disabled",!0),j.hide()):(k.prop("disabled",!1),j.show()),!b.hasClass("active")&&(f.removeClass("active"),b.addClass("active"),a(),l[c].fadeIn(),jQuery("#formType").val(b.data("type")),reValidation.initCustomerAccountForm(),void 0)}),b(),jQuery(".choose_address").click(function(){if(jQuery(this).is(":checked")){var a=jQuery(this).data("placeholder");if(!a)return void jQuery('[name="address[id]"]').val("");a=JSON.parse(window.atob(a)),a.hasOwnProperty("content")?jQuery.each(a.content,function(a,b){jQuery('[name="address['+a+']"]').val(b)}):jQuery('[name="address[id]"]').val("")}})}function removeAddress(){var a={};jQuery(".remove_address").each(function(b){a[jQuery(this).data("address-id")]=jQuery(this).attr("href"),jQuery(this).attr("href","#remove-address")}),jQuery(".remove_address").click(function(b){b.preventDefault(),addressId=jQuery(this).data("address-id"),jQuery("#remove-address-yes").attr("href",a[addressId]),MessageBox.show(jQuery("#remove-address-box").html())})}function contactFormRedirects(){MessageBox.notice(jQuery(".confirmation-wrap").html(),!0,"contact-confirmation-cbox"),jQuery("#message_box #contact-redirect-btn").click(function(){window.location=jQuery(this).find("a").attr("href")}),jQuery(document).on("click","#cboxClose",function(){window.location=jsVars.base_url+"contacts/"})}function getGooglePaymentDataRequest(){var a=Object.assign({},baseRequest);return a.allowedPaymentMethods=[cardPaymentMethod],a.transactionInfo={},a.merchantInfo={merchantId:LPP.common.payments.googlepay.merchantId,merchantName:LPP.common.payments.googlepay.merchantName},a}function getGooglePaymentsClient(){return null===paymentsClient&&(paymentsClient=new google.payments.api.PaymentsClient({environment:LPP.common.payments.googlepay.environment})),paymentsClient}function getGoogleTransactionInfo(){return LPP.common.payments.googlepay.getPriceFromQuote().then(function(a){return{countryCode:LegacyBridge.getStoreConfig("general/country/code").toUpperCase(),currencyCode:a.currencyCode,totalPriceStatus:"FINAL",totalPrice:a.totalPrice}})}!function(a,b){"object"==typeof exports&&exports?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):(a.Mustache={},b(Mustache))}(this,function(a){function b(a){return"function"==typeof a}function c(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function d(a,b){return null!=a&&"object"==typeof a&&b in a}function e(a,b){return p.call(a,b)}function f(a){return!e(q,a)}function g(a){return String(a).replace(/[&<>"'\/]/g,function(a){return r[a]})}function h(b,d){function e(){if(r&&!x)for(;q.length;)delete p[q.pop()];else q=[];r=!1,x=!1}function g(a){if("string"==typeof a&&(a=a.split(t,2)),!o(a)||2!==a.length)throw new Error("Invalid tags: "+a);h=new RegExp(c(a[0])+"\\s*"),l=new RegExp("\\s*"+c(a[1])),m=new RegExp("\\s*"+c("}"+a[1]))}if(!b)return[];var h,l,m,n=[],p=[],q=[],r=!1,x=!1;g(d||a.tags);for(var y,z,A,B,C,D,E=new k(b);!E.eos();){if(y=E.pos,A=E.scanUntil(h))for(var F=0,G=A.length;F<G;++F)B=A.charAt(F),f(B)?q.push(p.length):x=!0,p.push(["text",B,y,y+1]),y+=1,"\n"===B&&e();if(!E.scan(h))break;if(r=!0,z=E.scan(w)||"name",E.scan(s),"="===z?(A=E.scanUntil(u),E.scan(u),E.scanUntil(l)):"{"===z?(A=E.scanUntil(m),E.scan(v),E.scanUntil(l),z="&"):A=E.scanUntil(l),!E.scan(l))throw new Error("Unclosed tag at "+E.pos);if(C=[z,A,y,E.pos],p.push(C),"#"===z||"^"===z)n.push(C);else if("/"===z){if(D=n.pop(),!D)throw new Error('Unopened section "'+A+'" at '+y);if(D[1]!==A)throw new Error('Unclosed section "'+D[1]+'" at '+y)}else"name"===z||"{"===z||"&"===z?x=!0:"="===z&&g(A)}if(D=n.pop())throw new Error('Unclosed section "'+D[1]+'" at '+E.pos);return j(i(p))}function i(a){for(var b,c,d=[],e=0,f=a.length;e<f;++e)b=a[e],b&&("text"===b[0]&&c&&"text"===c[0]?(c[1]+=b[1],c[3]=b[3]):(d.push(b),c=b));return d}function j(a){for(var b,c,d=[],e=d,f=[],g=0,h=a.length;g<h;++g)switch(b=a[g],b[0]){case"#":case"^":e.push(b),f.push(b),e=b[4]=[];break;case"/":c=f.pop(),c[5]=b[2],e=f.length>0?f[f.length-1][4]:d;break;default:e.push(b)}return d}function k(a){this.string=a,this.tail=a,this.pos=0}function l(a,b){this.view=a,this.cache={".":this.view},this.parent=b}function m(){this.cache={}}var n=Object.prototype.toString,o=Array.isArray||function(a){return"[object Array]"===n.call(a)},p=RegExp.prototype.test,q=/\S/,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},s=/\s*/,t=/\s+/,u=/\s*=/,v=/\s*\}/,w=/#|\^|\/|>|\{|&|=|!/;k.prototype.eos=function(){return""===this.tail},k.prototype.scan=function(a){var b=this.tail.match(a);if(!b||0!==b.index)return"";var c=b[0];return this.tail=this.tail.substring(c.length),this.pos+=c.length,c},k.prototype.scanUntil=function(a){var b,c=this.tail.search(a);switch(c){case-1:b=this.tail,this.tail="";break;case 0:b="";break;default:b=this.tail.substring(0,c),this.tail=this.tail.substring(c)}return this.pos+=b.length,b},l.prototype.push=function(a){return new l(a,this)},l.prototype.lookup=function(a){var c,e=this.cache;if(e.hasOwnProperty(a))c=e[a];else{for(var f,g,h=this,i=!1;h;){if(a.indexOf(".")>0)for(c=h.view,f=a.split("."),g=0;null!=c&&g<f.length;)g===f.length-1&&(i=d(c,f[g])),c=c[f[g++]];else c=h.view[a],i=d(h.view,a);if(i)break;h=h.parent}e[a]=c}return b(c)&&(c=c.call(this.view)),c},m.prototype.clearCache=function(){this.cache={}},m.prototype.parse=function(a,b){var c=this.cache,d=c[a];return null==d&&(d=c[a]=h(a,b)),d},m.prototype.render=function(a,b,c){var d=this.parse(a),e=b instanceof l?b:new l(b);return this.renderTokens(d,e,c,a)},m.prototype.renderTokens=function(a,b,c,d){for(var e,f,g,h="",i=0,j=a.length;i<j;++i)g=void 0,e=a[i],f=e[0],"#"===f?g=this.renderSection(e,b,c,d):"^"===f?g=this.renderInverted(e,b,c,d):">"===f?g=this.renderPartial(e,b,c,d):"&"===f?g=this.unescapedValue(e,b):"name"===f?g=this.escapedValue(e,b):"text"===f&&(g=this.rawValue(e)),void 0!==g&&(h+=g);return h},m.prototype.renderSection=function(a,c,d,e){function f(a){return g.render(a,c,d)}var g=this,h="",i=c.lookup(a[1]);if(i){if(o(i))for(var j=0,k=i.length;j<k;++j)h+=this.renderTokens(a[4],c.push(i[j]),d,e);else if("object"==typeof i||"string"==typeof i||"number"==typeof i)h+=this.renderTokens(a[4],c.push(i),d,e);else if(b(i)){if("string"!=typeof e)throw new Error("Cannot use higher-order sections without the original template");i=i.call(c.view,e.slice(a[3],a[5]),f),null!=i&&(h+=i)}else h+=this.renderTokens(a[4],c,d,e);return h}},m.prototype.renderInverted=function(a,b,c,d){var e=b.lookup(a[1]);if(!e||o(e)&&0===e.length)return this.renderTokens(a[4],b,c,d)},m.prototype.renderPartial=function(a,c,d){if(d){var e=b(d)?d(a[1]):d[a[1]];return null!=e?this.renderTokens(this.parse(e),c,d,e):void 0}},m.prototype.unescapedValue=function(a,b){var c=b.lookup(a[1]);if(null!=c)return c},m.prototype.escapedValue=function(b,c){var d=c.lookup(b[1]);if(null!=d)return a.escape(d)},m.prototype.rawValue=function(a){return a[1]},a.name="mustache.js",a.version="2.1.2",a.tags=["{{","}}"];var x=new m;a.clearCache=function(){return x.clearCache()},a.parse=function(a,b){return x.parse(a,b)},a.render=function(a,b,c){return x.render(a,b,c)},a.to_html=function(c,d,e,f){var g=a.render(c,d,e);return b(f)?void f(g):g},a.escape=g,a.Scanner=k,a.Context=l,a.Writer=m}),function(a,b){function c(a){var b=a.length,c=ka.type(a);return!ka.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)))}function d(a){var b=za[a]={};return ka.each(a.match(ma)||[],function(a,c){b[c]=!0}),b}function e(a,c,d,e){if(ka.acceptData(a)){var f,g,h=ka.expando,i=a.nodeType,j=i?ka.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||d!==b||"string"!=typeof c)return k||(k=i?a[h]=ba.pop()||ka.guid++:h),j[k]||(j[k]=i?{}:{toJSON:ka.noop}),("object"==typeof c||"function"==typeof c)&&(e?j[k]=ka.extend(j[k],c):j[k].data=ka.extend(j[k].data,c)),g=j[k],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[ka.camelCase(c)]=d),"string"==typeof c?(f=g[c],null==f&&(f=g[ka.camelCase(c)])):f=g,f}}function f(a,b,c){if(ka.acceptData(a)){var d,e,f=a.nodeType,g=f?ka.cache:a,i=f?a[ka.expando]:ka.expando;if(g[i]){if(b&&(d=c?g[i]:g[i].data)){ka.isArray(b)?b=b.concat(ka.map(b,ka.camelCase)):b in d?b=[b]:(b=ka.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!h(d):!ka.isEmptyObject(d))return}(c||(delete g[i].data,h(g[i])))&&(f?ka.cleanData([a],!0):ka.support.deleteExpando||g!=g.window?delete g[i]:g[i]=null)}}}function g(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(Ba,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d||"false"!==d&&("null"===d?null:+d+""===d?+d:Aa.test(d)?ka.parseJSON(d):d)}catch(f){}ka.data(a,c,d)}else d=b}return d}function h(a){var b;for(b in a)if(("data"!==b||!ka.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function i(){return!0}function j(){return!1}function k(){try{return Y.activeElement}catch(a){}}function l(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function m(a,b,c){if(ka.isFunction(b))return ka.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return ka.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(Qa.test(b))return ka.filter(b,a,c);b=ka.filter(b,a)}return ka.grep(a,function(a){return ka.inArray(a,b)>=0!==c})}function n(a){var b=Ua.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function o(a,b){return ka.nodeName(a,"table")&&ka.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function p(a){return a.type=(null!==ka.find.attr(a,"type"))+"/"+a.type,a}function q(a){var b=eb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function r(a,b){for(var c,d=0;null!=(c=a[d]);d++)ka._data(c,"globalEval",!b||ka._data(b[d],"globalEval"))}function s(a,b){if(1===b.nodeType&&ka.hasData(a)){var c,d,e,f=ka._data(a),g=ka._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)ka.event.add(b,c,h[c][d])}g.data&&(g.data=ka.extend({},g.data))}}function t(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!ka.support.noCloneEvent&&b[ka.expando]){e=ka._data(b);for(d in e.events)ka.removeEvent(b,d,e.handle);b.removeAttribute(ka.expando)}"script"===c&&b.text!==a.text?(p(b).text=a.text,q(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),ka.support.html5Clone&&a.innerHTML&&!ka.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&bb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function u(a,c){var d,e,f=0,g=typeof a.getElementsByTagName!==W?a.getElementsByTagName(c||"*"):typeof a.querySelectorAll!==W?a.querySelectorAll(c||"*"):b;if(!g)for(g=[],d=a.childNodes||a;null!=(e=d[f]);f++)!c||ka.nodeName(e,c)?g.push(e):ka.merge(g,u(e,c));return c===b||c&&ka.nodeName(a,c)?ka.merge([a],g):g}function v(a){bb.test(a.type)&&(a.defaultChecked=a.checked)}function w(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=yb.length;e--;)if(b=yb[e]+c,b in a)return b;return d}function x(a,b){return a=b||a,"none"===ka.css(a,"display")||!ka.contains(a.ownerDocument,a)}function y(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=ka._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&x(d)&&(f[g]=ka._data(d,"olddisplay",C(d.nodeName)))):f[g]||(e=x(d),(c&&"none"!==c||!e)&&ka._data(d,"olddisplay",e?c:ka.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function z(a,b,c){var d=rb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function A(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=ka.css(a,c+xb[f],!0,e)),d?("content"===c&&(g-=ka.css(a,"padding"+xb[f],!0,e)),"margin"!==c&&(g-=ka.css(a,"border"+xb[f]+"Width",!0,e))):(g+=ka.css(a,"padding"+xb[f],!0,e),"padding"!==c&&(g+=ka.css(a,"border"+xb[f]+"Width",!0,e)));return g}function B(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=kb(a),g=ka.support.boxSizing&&"border-box"===ka.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=lb(a,b,f),(0>e||null==e)&&(e=a.style[b]),sb.test(e))return e;d=g&&(ka.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+A(a,b,c||(g?"border":"content"),d,f)+"px"}function C(a){var b=Y,c=ub[a];return c||(c=D(a,b),"none"!==c&&c||(jb=(jb||ka("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(jb[0].contentWindow||jb[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=D(a,b),jb.detach()),ub[a]=c),c}function D(a,b){var c=ka(b.createElement(a)).appendTo(b.body),d=ka.css(c[0],"display");return c.remove(),d}function E(a,b,c,d){var e;if(ka.isArray(b))ka.each(b,function(b,e){c||Ab.test(a)?d(a,e):E(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==ka.type(b))d(a,b);else for(e in b)E(a+"["+e+"]",b[e],c,d)}function F(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ma)||[];if(ka.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function G(a,c,d,e){function f(i){var j;return g[i]=!0,ka.each(a[i]||[],function(a,i){var k=i(c,d,e);return"string"!=typeof k||h||g[k]?h?!(j=k):b:(c.dataTypes.unshift(k),f(k),!1)}),j}var g={},h=a===Rb;return f(c.dataTypes[0])||!g["*"]&&f("*")}function H(a,c){var d,e,f=ka.ajaxSettings.flatOptions||{};for(e in c)c[e]!==b&&((f[e]?a:d||(d={}))[e]=c[e]);return d&&ka.extend(!0,a,d),a}function I(a,c,d){for(var e,f,g,h,i=a.contents,j=a.dataTypes;"*"===j[0];)j.shift(),f===b&&(f=a.mimeType||c.getResponseHeader("Content-Type"));if(f)for(h in i)if(i[h]&&i[h].test(f)){j.unshift(h);break}if(j[0]in d)g=j[0];else{for(h in d){if(!j[0]||a.converters[h+" "+j[0]]){g=h;break}e||(e=h)}g=g||e}return g?(g!==j[0]&&j.unshift(g),d[g]):b}function J(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function K(){try{return new a.XMLHttpRequest}catch(b){}}function L(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function M(){return setTimeout(function(){$b=b}),$b=ka.now()}function N(a,b,c){for(var d,e=(ec[b]||[]).concat(ec["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function O(a,b,c){var d,e,f=0,g=dc.length,h=ka.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$b||M(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:ka.extend({},b),opts:ka.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||M(),duration:c.duration,tweens:[],createTween:function(b,c){var d=ka.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(P(k,j.opts.specialEasing);g>f;f++)if(d=dc[f].call(j,a,k,j.opts))return d;return ka.map(k,N,j),ka.isFunction(j.opts.start)&&j.opts.start.call(a,j),ka.fx.timer(ka.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always);
}function P(a,b){var c,d,e,f,g;for(c in a)if(d=ka.camelCase(c),e=b[d],f=a[c],ka.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=ka.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Q(a,b,c){var d,e,f,g,h,i,j=this,k={},l=a.style,m=a.nodeType&&x(a),n=ka._data(a,"fxshow");c.queue||(h=ka._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,j.always(function(){j.always(function(){h.unqueued--,ka.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[l.overflow,l.overflowX,l.overflowY],"inline"===ka.css(a,"display")&&"none"===ka.css(a,"float")&&(ka.support.inlineBlockNeedsLayout&&"inline"!==C(a.nodeName)?l.zoom=1:l.display="inline-block")),c.overflow&&(l.overflow="hidden",ka.support.shrinkWrapBlocks||j.always(function(){l.overflow=c.overflow[0],l.overflowX=c.overflow[1],l.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ac.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(m?"hide":"show"))continue;k[d]=n&&n[d]||ka.style(a,d)}if(!ka.isEmptyObject(k)){n?"hidden"in n&&(m=n.hidden):n=ka._data(a,"fxshow",{}),f&&(n.hidden=!m),m?ka(a).show():j.done(function(){ka(a).hide()}),j.done(function(){var b;ka._removeData(a,"fxshow");for(b in k)ka.style(a,b,k[b])});for(d in k)g=N(m?n[d]:0,d,j),d in n||(n[d]=g.start,m&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function R(a,b,c,d,e){return new R.prototype.init(a,b,c,d,e)}function S(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=xb[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function T(a){return ka.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var U,V,W=typeof b,X=a.location,Y=a.document,Z=Y.documentElement,$=a.jQuery,_=a.$,aa={},ba=[],ca="1.10.2",da=ba.concat,ea=ba.push,fa=ba.slice,ga=ba.indexOf,ha=aa.toString,ia=aa.hasOwnProperty,ja=ca.trim,ka=function(a,b){return new ka.fn.init(a,b,V)},la=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ma=/\S+/g,na=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,oa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,pa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,qa=/^[\],:{}\s]*$/,ra=/(?:^|:|,)(?:\s*\[)+/g,sa=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ta=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ua=/^-ms-/,va=/-([\da-z])/gi,wa=function(a,b){return b.toUpperCase()},xa=function(a){(Y.addEventListener||"load"===a.type||"complete"===Y.readyState)&&(ya(),ka.ready())},ya=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",xa,!1),a.removeEventListener("load",xa,!1)):(Y.detachEvent("onreadystatechange",xa),a.detachEvent("onload",xa))};ka.fn=ka.prototype={jquery:ca,constructor:ka,init:function(a,c,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:oa.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1]){if(c=c instanceof ka?c[0]:c,ka.merge(this,ka.parseHTML(e[1],c&&c.nodeType?c.ownerDocument||c:Y,!0)),pa.test(e[1])&&ka.isPlainObject(c))for(e in c)ka.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}if(f=Y.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=Y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):ka.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),ka.makeArray(a,this))},selector:"",length:0,toArray:function(){return fa.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=ka.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return ka.each(this,a,b)},ready:function(a){return ka.ready.promise().done(a),this},slice:function(){return this.pushStack(fa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(ka.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:ea,sort:[].sort,splice:[].splice},ka.fn.init.prototype=ka.fn,ka.extend=ka.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||ka.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(ka.isPlainObject(d)||(c=ka.isArray(d)))?(c?(c=!1,g=a&&ka.isArray(a)?a:[]):g=a&&ka.isPlainObject(a)?a:{},h[e]=ka.extend(k,g,d)):d!==b&&(h[e]=d));return h},ka.extend({expando:"jQuery"+(ca+Math.random()).replace(/\D/g,""),noConflict:function(b){return a.$===ka&&(a.$=_),b&&a.jQuery===ka&&(a.jQuery=$),ka},isReady:!1,readyWait:1,holdReady:function(a){a?ka.readyWait++:ka.ready(!0)},ready:function(a){if(a===!0?!--ka.readyWait:!ka.isReady){if(!Y.body)return setTimeout(ka.ready);ka.isReady=!0,a!==!0&&--ka.readyWait>0||(U.resolveWith(Y,[ka]),ka.fn.trigger&&ka(Y).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===ka.type(a)},isArray:Array.isArray||function(a){return"array"===ka.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?aa[ha.call(a)]||"object":typeof a},isPlainObject:function(a){var c;if(!a||"object"!==ka.type(a)||a.nodeType||ka.isWindow(a))return!1;try{if(a.constructor&&!ia.call(a,"constructor")&&!ia.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}if(ka.support.ownLast)for(c in a)return ia.call(a,c);for(c in a);return c===b||ia.call(a,c)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Y;var d=pa.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=ka.buildFragment([a],b,e),e&&ka(e).remove(),ka.merge([],d.childNodes))},parseJSON:function(c){return a.JSON&&a.JSON.parse?a.JSON.parse(c):null===c?c:"string"==typeof c&&(c=ka.trim(c),c&&qa.test(c.replace(sa,"@").replace(ta,"]").replace(ra,"")))?Function("return "+c)():(ka.error("Invalid JSON: "+c),b)},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||ka.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&ka.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ua,"ms-").replace(va,wa)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:ja&&!ja.call("\ufeff ")?function(a){return null==a?"":ja.call(a)}:function(a){return null==a?"":(a+"").replace(na,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?ka.merge(d,"string"==typeof a?[a]:a):ea.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if(ga)return ga.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&(i[i.length]=e);else for(f in a)e=b(a[f],f,d),null!=e&&(i[i.length]=e);return da.apply([],i)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(f=a[c],c=a,a=f),ka.isFunction(a)?(d=fa.call(arguments,2),e=function(){return a.apply(c||this,d.concat(fa.call(arguments)))},e.guid=a.guid=a.guid||ka.guid++,e):b},access:function(a,c,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===ka.type(d)){f=!0;for(i in d)ka.access(a,c,i,d[i],!0,g,h)}else if(e!==b&&(f=!0,ka.isFunction(e)||(h=!0),k&&(h?(c.call(a,e),c=null):(k=c,c=function(a,b,c){return k.call(ka(a),c)})),c))for(;j>i;i++)c(a[i],d,h?e:e.call(a[i],i,c(a[i],d)));return f?a:k?c.call(a):j?c(a[0],d):g},now:function(){return(new Date).getTime()},swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),ka.ready.promise=function(b){if(!U)if(U=ka.Deferred(),"complete"===Y.readyState)setTimeout(ka.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",xa,!1),a.addEventListener("load",xa,!1);else{Y.attachEvent("onreadystatechange",xa),a.attachEvent("onload",xa);var c=!1;try{c=null==a.frameElement&&Y.documentElement}catch(d){}c&&c.doScroll&&function a(){if(!ka.isReady){try{c.doScroll("left")}catch(b){return setTimeout(a,50)}ya(),ka.ready()}}()}return U.promise(b)},ka.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){aa["[object "+b+"]"]=b.toLowerCase()}),V=ka(Y),function(a,b){function c(a,b,c,d){var e,f,g,h,i,j,k,l,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=ta.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return aa.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return aa.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(l=k=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(k=b.getAttribute("id"))?l=k.replace(wa,"\\$&"):b.setAttribute("id",l),l="[id='"+l+"'] ",i=j.length;i--;)j[i]=l+n(j[i]);o=na.test(a)&&b.parentNode||b,p=j.join(",")}if(p)try{return aa.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{k||b.removeAttribute("id")}}}return v(a.replace(ja,"$1"),b,c,d)}function d(){function a(c,d){return b.push(c+=" ")>z.cacheLength&&delete a[b.shift()],a[c]=d}var b=[];return a}function e(a){return a[N]=!0,a}function f(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function g(a,b){for(var c=a.split("|"),d=a.length;d--;)z.attrHandle[c[d]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||X)-(~a.sourceIndex||X);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function i(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function j(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(){}function m(a,b){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=z.preFilter;h;){(!d||(e=la.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ma.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ja," ")}),h=h.slice(d.length));for(g in z.filter)!(e=ra[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=P+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[N]||(b[N]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===y)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||y,i[1]===!0)return!0}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,d,f,g){return d&&!d[N]&&(d=r(d)),f&&!f[N]&&(f=r(f,g)),e(function(e,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=e||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?p:q(p,m,a,h,i),s=c?f||(e?a:o||d)?[]:g:r;if(c&&c(r,s,h,i),d)for(j=q(s,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(e){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?ca.call(e,l):m[k])>-1&&(e[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):aa.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=z.relative[a[0].type],g=f||z.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return ca.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=z.relative[a[h].type])k=[o(p(k),c)];else{if(c=z.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!z.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ja,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,b){var d=0,f=b.length>0,g=a.length>0,h=function(e,h,i,j,k){var l,m,n,o=[],p=0,r="0",s=e&&[],t=null!=k,u=D,v=e||g&&z.find.TAG("*",k&&h.parentNode||h),w=P+=null==u?1:Math.random()||.1;for(t&&(D=h!==G&&h,y=d);null!=(l=v[r]);r++){if(g&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}t&&(P=w,y=++d)}f&&((l=!n&&l)&&p--,e&&s.push(l))}if(p+=r,f&&r!==p){for(m=0;n=b[m++];)n(s,o,h,i);if(e){if(p>0)for(;r--;)s[r]||o[r]||(o[r]=$.call(j));o=q(o)}aa.apply(j,o),t&&!e&&o.length>0&&p+b.length>1&&c.uniqueSort(j)}return t&&(P=w,D=u),s};return f?e(h):h}function u(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&z.relative[f[1].type]){if(b=(z.find.ID(g.matches[0].replace(xa,ya),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=ra.needsContext.test(a)?0:f.length;e--&&(g=f[e],!z.relative[h=g.type]);)if((i=z.find[h])&&(d=i(g.matches[0].replace(xa,ya),na.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return aa.apply(c,d),c;break}}return C(a,j)(d,b,!I,c,na.test(a)),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=d(),S=d(),T=d(),U=!1,V=function(a,b){return a===b?(U=!0,0):0},W=typeof b,X=1<<31,Y={}.hasOwnProperty,Z=[],$=Z.pop,_=Z.push,aa=Z.push,ba=Z.slice,ca=Z.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},da="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ea="[\\x20\\t\\r\\n\\f]",fa="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ga=fa.replace("w","w#"),ha="\\["+ea+"*("+fa+")"+ea+"*(?:([*^$|!~]?=)"+ea+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ga+")|)|)"+ea+"*\\]",ia=":("+fa+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ha.replace(3,8)+")*)|.*)\\)|)",ja=RegExp("^"+ea+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ea+"+$","g"),la=RegExp("^"+ea+"*,"+ea+"*"),ma=RegExp("^"+ea+"*([>+~]|"+ea+")"+ea+"*"),na=RegExp(ea+"*[+~]"),oa=RegExp("="+ea+"*([^\\]'\"]*)"+ea+"*\\]","g"),pa=RegExp(ia),qa=RegExp("^"+ga+"$"),ra={ID:RegExp("^#("+fa+")"),CLASS:RegExp("^\\.("+fa+")"),TAG:RegExp("^("+fa.replace("w","w*")+")"),ATTR:RegExp("^"+ha),PSEUDO:RegExp("^"+ia),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ea+"*(even|odd|(([+-]|)(\\d*)n|)"+ea+"*(?:([+-]|)"+ea+"*(\\d+)|))"+ea+"*\\)|)","i"),bool:RegExp("^(?:"+da+")$","i"),needsContext:RegExp("^"+ea+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ea+"*((?:-\\d)?\\d*)"+ea+"*\\)|)(?=[^-]|$)","i")},sa=/^[^{]+\{\s*\[native \w/,ta=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ua=/^(?:input|select|textarea|button)$/i,va=/^h\d$/i,wa=/'|\\/g,xa=RegExp("\\\\([\\da-f]{1,6}"+ea+"?|("+ea+")|.)","ig"),ya=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(55296|d>>10,56320|1023&d)};try{aa.apply(Z=ba.call(O.childNodes),O.childNodes),Z[O.childNodes.length].nodeType}catch(za){aa={apply:Z.length?function(a,b){_.apply(a,ba.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}B=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},x=c.support={},F=c.setDocument=function(a){var c=a?a.ownerDocument||a:O,d=c.defaultView;return c!==G&&9===c.nodeType&&c.documentElement?(G=c,H=c.documentElement,I=!B(c),d&&d.attachEvent&&d!==d.top&&d.attachEvent("onbeforeunload",function(){F()}),x.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=f(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=f(function(a){return H.appendChild(a).id=N,!c.getElementsByName||!c.getElementsByName(N).length}),x.getById?(z.find.ID=function(a,b){if(typeof b.getElementById!==W&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},z.filter.ID=function(a){var b=a.replace(xa,ya);return function(a){return a.getAttribute("id")===b}}):(delete z.find.ID,z.filter.ID=function(a){var b=a.replace(xa,ya);return function(a){var c=typeof a.getAttributeNode!==W&&a.getAttributeNode("id");return c&&c.value===b}}),z.find.TAG=x.getElementsByTagName?function(a,c){return typeof c.getElementsByTagName!==W?c.getElementsByTagName(a):b}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},z.find.CLASS=x.getElementsByClassName&&function(a,c){return typeof c.getElementsByClassName!==W&&I?c.getElementsByClassName(a):b},K=[],J=[],(x.qsa=sa.test(c.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||J.push("\\["+ea+"*(?:value|"+da+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),f(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("t",""),a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+ea+"*(?:''|\"\")"),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=sa.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&f(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ia)}),J=J.length&&RegExp(J.join("|")),K=K.length&&RegExp(K.join("|")),M=sa.test(H.contains)||H.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=H.compareDocumentPosition?function(a,b){if(a===b)return U=!0,0;var d=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);return d?1&d||!x.sortDetached&&b.compareDocumentPosition(a)===d?a===c||M(O,a)?-1:b===c||M(O,b)?1:E?ca.call(E,a)-ca.call(E,b):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var d,e=0,f=a.parentNode,g=b.parentNode,i=[a],j=[b];if(a===b)return U=!0,0;if(!f||!g)return a===c?-1:b===c?1:f?-1:g?1:E?ca.call(E,a)-ca.call(E,b):0;if(f===g)return h(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?h(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},c):G},c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){if((a.ownerDocument||a)!==G&&F(a),b=b.replace(oa,"='$1']"),!(!x.matchesSelector||!I||K&&K.test(b)||J&&J.test(b)))try{var d=L.call(a,b);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return c(b,G,null,[a]).length>0},c.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},c.attr=function(a,c){(a.ownerDocument||a)!==G&&F(a);var d=z.attrHandle[c.toLowerCase()],e=d&&Y.call(z.attrHandle,c.toLowerCase())?d(a,c,!I):b;return e===b?x.attributes||!I?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e},c.error=function(a){throw Error("Syntax error, unrecognized expression: "+a)},c.uniqueSort=function(a){var b,c=[],d=0,e=0;if(U=!x.detectDuplicates,E=!x.sortStable&&a.slice(0),a.sort(V),U){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a},A=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=A(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=A(b);return c},z=c.selectors={cacheLength:50,createPseudo:e,match:ra,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(xa,ya),a[3]=(a[4]||a[5]||"").replace(xa,ya),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var c,d=!a[5]&&a[2];return ra.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:d&&pa.test(d)&&(c=m(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(a[0]=a[0].slice(0,c),a[2]=d.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(xa,ya).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=RegExp("(^|"+ea+")"+a+"("+ea+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==W&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:!b||(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.slice(-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||0===m%d&&m/d>=0}}},PSEUDO:function(a,b){var d,f=z.pseudos[a]||z.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[N]?f(b):f.length>1?(d=[a,a,"",b],z.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var d,e=f(a,b),g=e.length;g--;)d=ca.call(a,e[g]),a[d]=!(c[d]=e[g])}):function(a){return f(a,0,d)}):f}},pseudos:{not:e(function(a){var b=[],c=[],d=C(a.replace(ja,"$1"));return d[N]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:e(function(a){return function(b){return c(a,b).length>0}}),contains:e(function(a){return function(b){return(b.textContent||b.innerText||A(b)).indexOf(a)>-1}}),lang:e(function(a){return qa.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(xa,ya).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!z.pseudos.empty(a)},header:function(a){return va.test(a.nodeName)},input:function(a){return ua.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;b>++d;)a.push(d);return a})}},z.pseudos.nth=z.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[w]=i(w);for(w in{submit:!0,reset:!0})z.pseudos[w]=j(w);l.prototype=z.filters=z.pseudos,z.setFilters=new l,C=c.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(V).join("")===N,x.detectDuplicates=U,F(),x.sortDetached=f(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,c,d){return d?b:a.getAttribute(c,"type"===c.toLowerCase()?1:2)}),x.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||g("value",function(a,c,d){return d||"input"!==a.nodeName.toLowerCase()?b:a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||g(da,function(a,c,d){var e;return d?b:(e=a.getAttributeNode(c))&&e.specified?e.value:a[c]===!0?c.toLowerCase():null}),ka.find=c,ka.expr=c.selectors,ka.expr[":"]=ka.expr.pseudos,ka.unique=c.uniqueSort,ka.text=c.getText,ka.isXMLDoc=c.isXML,ka.contains=c.contains}(a);var za={};ka.Callbacks=function(a){a="string"==typeof a?za[a]||d(a):ka.extend({},a);var c,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(e=a.memory&&b,f=!0,h=i||0,i=0,g=j.length,c=!0;j&&g>h;h++)if(j[h].apply(b[0],b[1])===!1&&a.stopOnFalse){e=!1;break}c=!1,j&&(k?k.length&&l(k.shift()):e?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function b(c){ka.each(c,function(c,d){var e=ka.type(d);"function"===e?a.unique&&m.has(d)||j.push(d):d&&d.length&&"string"!==e&&b(d)})}(arguments),c?g=j.length:e&&(i=b,l(e))}return this},remove:function(){return j&&ka.each(arguments,function(a,b){for(var d;(d=ka.inArray(b,j,d))>-1;)j.splice(d,1),c&&(g>=d&&g--,h>=d&&h--)}),this},has:function(a){return a?ka.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],g=0,this},disable:function(){return j=k=e=b,this},disabled:function(){return!j},lock:function(){return k=b,e||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return!j||f&&!k||(b=b||[],b=[a,b.slice?b.slice():b],c?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!f}};return m},ka.extend({Deferred:function(a){var b=[["resolve","done",ka.Callbacks("once memory"),"resolved"],["reject","fail",ka.Callbacks("once memory"),"rejected"],["notify","progress",ka.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return ka.Deferred(function(c){ka.each(b,function(b,f){var g=f[0],h=ka.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&ka.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?ka.extend(a,d):d}},e={};return d.pipe=d.then,ka.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=fa.call(arguments),g=f.length,h=1!==g||a&&ka.isFunction(a.promise)?g:0,i=1===h?a:ka.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?fa.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=Array(g),c=Array(g),d=Array(g);g>e;e++)f[e]&&ka.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),ka.support=function(b){var c,d,e,f,g,h,i,j,k,l=Y.createElement("div");if(l.setAttribute("className","t"),l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=l.getElementsByTagName("*")||[],d=l.getElementsByTagName("a")[0],!d||!d.style||!c.length)return b;f=Y.createElement("select"),h=f.appendChild(Y.createElement("option")),e=l.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b.getSetAttribute="t"!==l.className,b.leadingWhitespace=3===l.firstChild.nodeType,b.tbody=!l.getElementsByTagName("tbody").length,b.htmlSerialize=!!l.getElementsByTagName("link").length,b.style=/top/.test(d.getAttribute("style")),b.hrefNormalized="/a"===d.getAttribute("href"),b.opacity=/^0.5/.test(d.style.opacity),b.cssFloat=!!d.style.cssFloat,b.checkOn=!!e.value,b.optSelected=h.selected,b.enctype=!!Y.createElement("form").enctype,b.html5Clone="<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,b.inlineBlockNeedsLayout=!1,b.shrinkWrapBlocks=!1,b.pixelPosition=!1,b.deleteExpando=!0,b.noCloneEvent=!0,b.reliableMarginRight=!0,b.boxSizingReliable=!0,e.checked=!0,b.noCloneChecked=e.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!h.disabled;try{delete l.test}catch(m){b.deleteExpando=!1}e=Y.createElement("input"),e.setAttribute("value",""),b.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),b.radioValue="t"===e.value,e.setAttribute("checked","t"),e.setAttribute("name","t"),g=Y.createDocumentFragment(),g.appendChild(e),b.appendChecked=e.checked,b.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,l.attachEvent&&(l.attachEvent("onclick",function(){b.noCloneEvent=!1}),l.cloneNode(!0).click());for(k in{submit:!0,change:!0,focusin:!0})l.setAttribute(i="on"+k,"t"),b[k+"Bubbles"]=i in a||l.attributes[i].expando===!1;l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===l.style.backgroundClip;for(k in ka(b))break;return b.ownLast="0"!==k,ka(function(){var c,d,e,f="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",g=Y.getElementsByTagName("body")[0];
g&&(c=Y.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=l.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",j=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=j&&0===e[0].offsetHeight,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ka.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){b.boxSizing=4===l.offsetWidth}),a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(l,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(l,null)||{width:"4px"}).width,d=l.appendChild(Y.createElement("div")),d.style.cssText=l.style.cssText=f,d.style.marginRight=d.style.width="0",l.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof l.style.zoom!==W&&(l.innerHTML="",l.style.cssText=f+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===l.offsetWidth,l.style.display="block",l.innerHTML="<div></div>",l.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==l.offsetWidth,b.inlineBlockNeedsLayout&&(g.style.zoom=1)),g.removeChild(c),c=l=e=d=null)}),c=f=g=h=d=e=null,b}({});var Aa=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ba=/([A-Z])/g;ka.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?ka.cache[a[ka.expando]]:a[ka.expando],!!a&&!h(a)},data:function(a,b,c){return e(a,b,c)},removeData:function(a,b){return f(a,b)},_data:function(a,b,c){return e(a,b,c,!0)},_removeData:function(a,b){return f(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&ka.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),ka.fn.extend({data:function(a,c){var d,e,f=null,h=0,i=this[0];if(a===b){if(this.length&&(f=ka.data(i),1===i.nodeType&&!ka._data(i,"parsedAttrs"))){for(d=i.attributes;d.length>h;h++)e=d[h].name,0===e.indexOf("data-")&&(e=ka.camelCase(e.slice(5)),g(i,e,f[e]));ka._data(i,"parsedAttrs",!0)}return f}return"object"==typeof a?this.each(function(){ka.data(this,a)}):arguments.length>1?this.each(function(){ka.data(this,a,c)}):i?g(i,a,ka.data(i,a)):null},removeData:function(a){return this.each(function(){ka.removeData(this,a)})}}),ka.extend({queue:function(a,c,d){var e;return a?(c=(c||"fx")+"queue",e=ka._data(a,c),d&&(!e||ka.isArray(d)?e=ka._data(a,c,ka.makeArray(d)):e.push(d)),e||[]):b},dequeue:function(a,b){b=b||"fx";var c=ka.queue(a,b),d=c.length,e=c.shift(),f=ka._queueHooks(a,b),g=function(){ka.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ka._data(a,c)||ka._data(a,c,{empty:ka.Callbacks("once memory").add(function(){ka._removeData(a,b+"queue"),ka._removeData(a,c)})})}}),ka.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),d>arguments.length?ka.queue(this[0],a):c===b?this:this.each(function(){var b=ka.queue(this,a,c);ka._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&ka.dequeue(this,a)})},dequeue:function(a){return this.each(function(){ka.dequeue(this,a)})},delay:function(a,b){return a=ka.fx?ka.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=ka.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=ka._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var Ca,Da,Ea=/[\t\r\n\f]/g,Fa=/\r/g,Ga=/^(?:input|select|textarea|button|object)$/i,Ha=/^(?:a|area)$/i,Ia=/^(?:checked|selected)$/i,Ja=ka.support.getSetAttribute,Ka=ka.support.input;ka.fn.extend({attr:function(a,b){return ka.access(this,ka.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){ka.removeAttr(this,a)})},prop:function(a,b){return ka.access(this,ka.prop,a,b,arguments.length>1)},removeProp:function(a){return a=ka.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(ka.isFunction(a))return this.each(function(b){ka(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ma)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ea," "):" ")){for(f=0;e=b[f++];)0>d.indexOf(" "+e+" ")&&(d+=e+" ");c.className=ka.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(ka.isFunction(a))return this.each(function(b){ka(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ma)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ea," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?ka.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):ka.isFunction(a)?this.each(function(c){ka(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=ka(this),f=a.match(ma)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===W||"boolean"===c)&&(this.className&&ka._data(this,"__className__",this.className),this.className=this.className||a===!1?"":ka._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Ea," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];return arguments.length?(e=ka.isFunction(a),this.each(function(c){var f;1===this.nodeType&&(f=e?a.call(this,c,ka(this).val()):a,null==f?f="":"number"==typeof f?f+="":ka.isArray(f)&&(f=ka.map(f,function(a){return null==a?"":a+""})),d=ka.valHooks[this.type]||ka.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,f,"value")!==b||(this.value=f))})):f?(d=ka.valHooks[f.type]||ka.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&(c=d.get(f,"value"))!==b?c:(c=f.value,"string"==typeof c?c.replace(Fa,""):null==c?"":c)):void 0}}),ka.extend({valHooks:{option:{get:function(a){var b=ka.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(ka.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&ka.nodeName(c.parentNode,"optgroup"))){if(b=ka(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=ka.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=ka.inArray(ka(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}},attr:function(a,c,d){var e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return typeof a.getAttribute===W?ka.prop(a,c,d):(1===g&&ka.isXMLDoc(a)||(c=c.toLowerCase(),e=ka.attrHooks[c]||(ka.expr.match.bool.test(c)?Da:Ca)),d===b?e&&"get"in e&&null!==(f=e.get(a,c))?f:(f=ka.find.attr(a,c),null==f?b:f):null!==d?e&&"set"in e&&(f=e.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):(ka.removeAttr(a,c),b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ma);if(f&&1===a.nodeType)for(;c=f[e++];)d=ka.propFix[c]||c,ka.expr.match.bool.test(c)?Ka&&Ja||!Ia.test(c)?a[d]=!1:a[ka.camelCase("default-"+c)]=a[d]=!1:ka.attr(a,c,""),a.removeAttribute(Ja?c:d)},attrHooks:{type:{set:function(a,b){if(!ka.support.radioValue&&"radio"===b&&ka.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!ka.isXMLDoc(a),g&&(c=ka.propFix[c]||c,f=ka.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var b=ka.find.attr(a,"tabindex");return b?parseInt(b,10):Ga.test(a.nodeName)||Ha.test(a.nodeName)&&a.href?0:-1}}}}),Da={set:function(a,b,c){return b===!1?ka.removeAttr(a,c):Ka&&Ja||!Ia.test(c)?a.setAttribute(!Ja&&ka.propFix[c]||c,c):a[ka.camelCase("default-"+c)]=a[c]=!0,c}},ka.each(ka.expr.match.bool.source.match(/\w+/g),function(a,c){var d=ka.expr.attrHandle[c]||ka.find.attr;ka.expr.attrHandle[c]=Ka&&Ja||!Ia.test(c)?function(a,c,e){var f=ka.expr.attrHandle[c],g=e?b:(ka.expr.attrHandle[c]=b)!=d(a,c,e)?c.toLowerCase():null;return ka.expr.attrHandle[c]=f,g}:function(a,c,d){return d?b:a[ka.camelCase("default-"+c)]?c.toLowerCase():null}}),Ka&&Ja||(ka.attrHooks.value={set:function(a,c,d){return ka.nodeName(a,"input")?(a.defaultValue=c,b):Ca&&Ca.set(a,c,d)}}),Ja||(Ca={set:function(a,c,d){var e=a.getAttributeNode(d);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(d)),e.value=c+="","value"===d||c===a.getAttribute(d)?c:b}},ka.expr.attrHandle.id=ka.expr.attrHandle.name=ka.expr.attrHandle.coords=function(a,c,d){var e;return d?b:(e=a.getAttributeNode(c))&&""!==e.value?e.value:null},ka.valHooks.button={get:function(a,c){var d=a.getAttributeNode(c);return d&&d.specified?d.value:b},set:Ca.set},ka.attrHooks.contenteditable={set:function(a,b,c){Ca.set(a,""!==b&&b,c)}},ka.each(["width","height"],function(a,c){ka.attrHooks[c]={set:function(a,d){return""===d?(a.setAttribute(c,"auto"),d):b}}})),ka.support.hrefNormalized||ka.each(["href","src"],function(a,b){ka.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),ka.support.style||(ka.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}}),ka.support.optSelected||(ka.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),ka.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ka.propFix[this.toLowerCase()]=this}),ka.support.enctype||(ka.propFix.enctype="encoding"),ka.each(["radio","checkbox"],function(){ka.valHooks[this]={set:function(a,c){return ka.isArray(c)?a.checked=ka.inArray(ka(a).val(),c)>=0:b}},ka.support.checkOn||(ka.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var La=/^(?:input|select|textarea)$/i,Ma=/^key/,Na=/^(?:mouse|contextmenu)|click/,Oa=/^(?:focusinfocus|focusoutblur)$/,Pa=/^([^.]*)(?:\.(.+)|)$/;ka.event={global:{},add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=ka._data(a);if(r){for(d.handler&&(j=d,d=j.handler,f=j.selector),d.guid||(d.guid=ka.guid++),(h=r.events)||(h=r.events={}),(l=r.handle)||(l=r.handle=function(a){return typeof ka===W||a&&ka.event.triggered===a.type?b:ka.event.dispatch.apply(l.elem,arguments)},l.elem=a),c=(c||"").match(ma)||[""],i=c.length;i--;)g=Pa.exec(c[i])||[],o=q=g[1],p=(g[2]||"").split(".").sort(),o&&(k=ka.event.special[o]||{},o=(f?k.delegateType:k.bindType)||o,k=ka.event.special[o]||{},m=ka.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&ka.expr.match.needsContext.test(f),namespace:p.join(".")},j),(n=h[o])||(n=h[o]=[],n.delegateCount=0,k.setup&&k.setup.call(a,e,p,l)!==!1||(a.addEventListener?a.addEventListener(o,l,!1):a.attachEvent&&a.attachEvent("on"+o,l))),k.add&&(k.add.call(a,m),m.handler.guid||(m.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,m):n.push(m),ka.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ka.hasData(a)&&ka._data(a);if(q&&(k=q.events)){for(b=(b||"").match(ma)||[""],j=b.length;j--;)if(h=Pa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=ka.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||ka.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)ka.event.remove(a,n+b[j],c,d,!0);ka.isEmptyObject(k)&&(delete q.handle,ka._removeData(a,"events"))}},trigger:function(c,d,e,f){var g,h,i,j,k,l,m,n=[e||Y],o=ia.call(c,"type")?c.type:c,p=ia.call(c,"namespace")?c.namespace.split("."):[];if(i=l=e=e||Y,3!==e.nodeType&&8!==e.nodeType&&!Oa.test(o+ka.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),h=0>o.indexOf(":")&&"on"+o,c=c[ka.expando]?c:new ka.Event(o,"object"==typeof c&&c),c.isTrigger=f?2:3,c.namespace=p.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:ka.makeArray(d,[c]),k=ka.event.special[o]||{},f||!k.trigger||k.trigger.apply(e,d)!==!1)){if(!f&&!k.noBubble&&!ka.isWindow(e)){for(j=k.delegateType||o,Oa.test(j+o)||(i=i.parentNode);i;i=i.parentNode)n.push(i),l=i;l===(e.ownerDocument||Y)&&n.push(l.defaultView||l.parentWindow||a)}for(m=0;(i=n[m++])&&!c.isPropagationStopped();)c.type=m>1?j:k.bindType||o,g=(ka._data(i,"events")||{})[c.type]&&ka._data(i,"handle"),g&&g.apply(i,d),g=h&&i[h],g&&ka.acceptData(i)&&g.apply&&g.apply(i,d)===!1&&c.preventDefault();if(c.type=o,!f&&!c.isDefaultPrevented()&&(!k._default||k._default.apply(n.pop(),d)===!1)&&ka.acceptData(e)&&h&&e[o]&&!ka.isWindow(e)){l=e[h],l&&(e[h]=null),ka.event.triggered=o;try{e[o]()}catch(q){}ka.event.triggered=b,l&&(e[h]=l)}return c.result}},dispatch:function(a){a=ka.event.fix(a);var c,d,e,f,g,h=[],i=fa.call(arguments),j=(ka._data(this,"events")||{})[a.type]||[],k=ka.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=ka.event.handlers.call(this,a,j),c=0;(f=h[c++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,d=((ka.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),d!==b&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,h=[],i=c.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!=this;j=j.parentNode||this)if(1===j.nodeType&&(j.disabled!==!0||"click"!==a.type)){for(f=[],g=0;i>g;g++)e=c[g],d=e.selector+" ",f[d]===b&&(f[d]=e.needsContext?ka(d,this).index(j)>=0:ka.find(d,this,null,[j]).length),f[d]&&f.push(e);f.length&&h.push({elem:j,handlers:f})}return c.length>i&&h.push({elem:this,handlers:c.slice(i)}),h},fix:function(a){if(a[ka.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Na.test(e)?this.mouseHooks:Ma.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new ka.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||Y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(e=a.target.ownerDocument||Y,f=e.documentElement,d=e.body,a.pageX=c.clientX+(f&&f.scrollLeft||d&&d.scrollLeft||0)-(f&&f.clientLeft||d&&d.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||d&&d.scrollTop||0)-(f&&f.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===k()&&this.blur?(this.blur(),!1):b},delegateType:"focusout"},click:{trigger:function(){return ka.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):b},_default:function(a){return ka.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=ka.extend(new ka.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?ka.event.trigger(e,null,b):ka.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},ka.removeEvent=Y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===W&&(a[d]=null),a.detachEvent(d,c))},ka.Event=function(a,c){return this instanceof ka.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?i:j):this.type=a,c&&ka.extend(this,c),this.timeStamp=a&&a.timeStamp||ka.now(),this[ka.expando]=!0,b):new ka.Event(a,c)},ka.Event.prototype={isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=i,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=i,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()}},ka.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){ka.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!ka.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),ka.support.submitBubbles||(ka.event.special.submit={setup:function(){return!ka.nodeName(this,"form")&&(ka.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=ka.nodeName(c,"input")||ka.nodeName(c,"button")?c.form:b;d&&!ka._data(d,"submitBubbles")&&(ka.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),ka._data(d,"submitBubbles",!0))}),b)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&ka.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return!ka.nodeName(this,"form")&&(ka.event.remove(this,"._submit"),b)}}),ka.support.changeBubbles||(ka.event.special.change={setup:function(){return La.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ka.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),ka.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),ka.event.simulate("change",this,a,!0)})),!1):(ka.event.add(this,"beforeactivate._change",function(a){var b=a.target;La.test(b.nodeName)&&!ka._data(b,"changeBubbles")&&(ka.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||ka.event.simulate("change",this.parentNode,a,!0)}),ka._data(b,"changeBubbles",!0))}),b)},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||"radio"!==c.type&&"checkbox"!==c.type?a.handleObj.handler.apply(this,arguments):b},teardown:function(){return ka.event.remove(this,"._change"),!La.test(this.nodeName)}}),ka.support.focusinBubbles||ka.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){ka.event.simulate(b,a.target,ka.event.fix(a),!0)};ka.event.special[b]={setup:function(){0===c++&&Y.addEventListener(a,d,!0)},teardown:function(){0===--c&&Y.removeEventListener(a,d,!0)}}}),ka.fn.extend({on:function(a,c,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(g in a)this.on(g,c,d,a[g],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=j;else if(!e)return this;return 1===f&&(h=e,e=function(a){return ka().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=ka.guid++)),this.each(function(){ka.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,ka(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=j),this.each(function(){ka.event.remove(this,a,d,c)})},trigger:function(a,b){return this.each(function(){ka.event.trigger(a,b,this)})},triggerHandler:function(a,c){var d=this[0];return d?ka.event.trigger(a,c,d,!0):b}});var Qa=/^.[^:#\[\.,]*$/,Ra=/^(?:parents|prev(?:Until|All))/,Sa=ka.expr.match.needsContext,Ta={children:!0,contents:!0,next:!0,prev:!0};ka.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(ka(a).filter(function(){for(b=0;e>b;b++)if(ka.contains(d[b],this))return!0}));for(b=0;e>b;b++)ka.find(a,d[b],c);return c=this.pushStack(e>1?ka.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b,c=ka(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(ka.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(m(this,a||[],!0))},filter:function(a){return this.pushStack(m(this,a||[],!1))},is:function(a){return!!m(this,"string"==typeof a&&Sa.test(a)?ka(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Sa.test(a)||"string"!=typeof a?ka(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(g?g.index(c)>-1:1===c.nodeType&&ka.find.matchesSelector(c,a))){c=f.push(c);break}return this.pushStack(f.length>1?ka.unique(f):f)},index:function(a){return a?"string"==typeof a?ka.inArray(this[0],ka(a)):ka.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?ka(a,b):ka.makeArray(a&&a.nodeType?[a]:a),d=ka.merge(this.get(),c);return this.pushStack(ka.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),ka.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ka.dir(a,"parentNode")},parentsUntil:function(a,b,c){return ka.dir(a,"parentNode",c)},next:function(a){return l(a,"nextSibling")},prev:function(a){return l(a,"previousSibling")},nextAll:function(a){return ka.dir(a,"nextSibling")},prevAll:function(a){return ka.dir(a,"previousSibling")},nextUntil:function(a,b,c){return ka.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return ka.dir(a,"previousSibling",c)},siblings:function(a){return ka.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return ka.sibling(a.firstChild)},contents:function(a){return ka.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:ka.merge([],a.childNodes)}},function(a,b){ka.fn[a]=function(c,d){var e=ka.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=ka.filter(d,e)),this.length>1&&(Ta[a]||(e=ka.unique(e)),Ra.test(a)&&(e=e.reverse())),this.pushStack(e)}}),ka.extend({filter:function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?ka.find.matchesSelector(d,a)?[d]:[]:ka.find.matches(a,ka.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!ka(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ua="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Va=/ jQuery\d+="(?:null|\d+)"/g,Wa=RegExp("<(?:"+Ua+")[\\s/>]","i"),Xa=/^\s+/,Ya=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Za=/<([\w:]+)/,$a=/<tbody/i,_a=/<|&#?\w+;/,ab=/<(?:script|style|link)/i,bb=/^(?:checkbox|radio)$/i,cb=/checked\s*(?:[^=]|=\s*.checked.)/i,db=/^$|\/(?:java|ecma)script/i,eb=/^true\/(.*)/,fb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ka.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},hb=n(Y),ib=hb.appendChild(Y.createElement("div"));gb.optgroup=gb.option,gb.tbody=gb.tfoot=gb.colgroup=gb.caption=gb.thead,gb.th=gb.td,ka.fn.extend({text:function(a){return ka.access(this,function(a){return a===b?ka.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=o(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=o(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?ka.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||ka.cleanData(u(c)),c.parentNode&&(b&&ka.contains(c.ownerDocument,c)&&r(u(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&ka.cleanData(u(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&ka.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return ka.clone(this,a,b)})},html:function(a){return ka.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Va,""):b;if(!("string"!=typeof a||ab.test(a)||!ka.support.htmlSerialize&&Wa.test(a)||!ka.support.leadingWhitespace&&Xa.test(a)||gb[(Za.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Ya,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(ka.cleanData(u(c,!1)),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=ka.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var d=a[b++],e=a[b++];e&&(d&&d.parentNode!==e&&(d=this.nextSibling),ka(this).remove(),e.insertBefore(c,d))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=da.apply([],a);var d,e,f,g,h,i,j=0,k=this.length,l=this,m=k-1,n=a[0],o=ka.isFunction(n);if(o||!(1>=k||"string"!=typeof n||ka.support.checkClone)&&cb.test(n))return this.each(function(d){var e=l.eq(d);o&&(a[0]=n.call(this,d,e.html())),e.domManip(a,b,c)});if(k&&(i=ka.buildFragment(a,this[0].ownerDocument,!1,!c&&this),d=i.firstChild,1===i.childNodes.length&&(i=d),d)){for(g=ka.map(u(i,"script"),p),f=g.length;k>j;j++)e=i,j!==m&&(e=ka.clone(e,!0,!0),f&&ka.merge(g,u(e,"script"))),b.call(this[j],e,j);if(f)for(h=g[g.length-1].ownerDocument,ka.map(g,q),j=0;f>j;j++)e=g[j],db.test(e.type||"")&&!ka._data(e,"globalEval")&&ka.contains(h,e)&&(e.src?ka._evalUrl(e.src):ka.globalEval((e.text||e.textContent||e.innerHTML||"").replace(fb,"")));i=d=null}return this}}),ka.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){ka.fn[a]=function(a){for(var c,d=0,e=[],f=ka(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),ka(f[d])[b](c),ea.apply(e,c.get());return this.pushStack(e)}}),ka.extend({clone:function(a,b,c){var d,e,f,g,h,i=ka.contains(a.ownerDocument,a);if(ka.support.html5Clone||ka.isXMLDoc(a)||!Wa.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ib.innerHTML=a.outerHTML,ib.removeChild(f=ib.firstChild)),!(ka.support.noCloneEvent&&ka.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||ka.isXMLDoc(a)))for(d=u(f),h=u(a),g=0;null!=(e=h[g]);++g)d[g]&&t(e,d[g]);if(b)if(c)for(h=h||u(a),d=d||u(f),g=0;null!=(e=h[g]);g++)s(e,d[g]);else s(a,f);return d=u(f,"script"),d.length>0&&r(d,!i&&u(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=n(b),o=[],p=0;l>p;p++)if(f=a[p],f||0===f)if("object"===ka.type(f))ka.merge(o,f.nodeType?[f]:f);else if(_a.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Za.exec(f)||["",""])[1].toLowerCase(),k=gb[i]||gb._default,h.innerHTML=k[1]+f.replace(Ya,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!ka.support.leadingWhitespace&&Xa.test(f)&&o.push(b.createTextNode(Xa.exec(f)[0])),!ka.support.tbody)for(f="table"!==i||$a.test(f)?"<table>"!==k[1]||$a.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)ka.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(ka.merge(o,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else o.push(b.createTextNode(f));for(h&&m.removeChild(h),ka.support.appendChecked||ka.grep(u(o,"input"),v),p=0;f=o[p++];)if((!d||-1===ka.inArray(f,d))&&(g=ka.contains(f.ownerDocument,f),h=u(m.appendChild(f),"script"),g&&r(h),c))for(e=0;f=h[e++];)db.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=ka.expando,i=ka.cache,j=ka.support.deleteExpando,k=ka.event.special;null!=(c=a[g]);g++)if((b||ka.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?ka.event.remove(c,d):ka.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==W?c.removeAttribute(h):c[h]=null,ba.push(e))}},_evalUrl:function(a){return ka.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ka.fn.extend({wrapAll:function(a){if(ka.isFunction(a))return this.each(function(b){ka(this).wrapAll(a.call(this,b))});if(this[0]){var b=ka(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return ka.isFunction(a)?this.each(function(b){ka(this).wrapInner(a.call(this,b))}):this.each(function(){var b=ka(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ka.isFunction(a);return this.each(function(c){ka(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){ka.nodeName(this,"body")||ka(this).replaceWith(this.childNodes)}).end()}});var jb,kb,lb,mb=/alpha\([^)]*\)/i,nb=/opacity\s*=\s*([^)]*)/,ob=/^(top|right|bottom|left)$/,pb=/^(none|table(?!-c[ea]).+)/,qb=/^margin/,rb=RegExp("^("+la+")(.*)$","i"),sb=RegExp("^("+la+")(?!px)[a-z%]+$","i"),tb=RegExp("^([+-])=("+la+")","i"),ub={BODY:"block"},vb={position:"absolute",visibility:"hidden",display:"block"},wb={letterSpacing:0,fontWeight:400},xb=["Top","Right","Bottom","Left"],yb=["Webkit","O","Moz","ms"];ka.fn.extend({css:function(a,c){return ka.access(this,function(a,c,d){var e,f,g={},h=0;if(ka.isArray(c)){for(f=kb(a),e=c.length;e>h;h++)g[c[h]]=ka.css(a,c[h],!1,f);return g}return d!==b?ka.style(a,c,d):ka.css(a,c)},a,c,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(a){
return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){x(this)?ka(this).show():ka(this).hide()})}}),ka.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=lb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ka.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=ka.camelCase(c),j=a.style;if(c=ka.cssProps[i]||(ka.cssProps[i]=w(j,i)),h=ka.cssHooks[c]||ka.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=tb.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(ka.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||ka.cssNumber[i]||(d+="px"),ka.support.clearCloneStyle||""!==d||0!==c.indexOf("background")||(j[c]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=ka.camelCase(c);return c=ka.cssProps[i]||(ka.cssProps[i]=w(a.style,i)),h=ka.cssHooks[c]||ka.cssHooks[i],h&&"get"in h&&(g=h.get(a,!0,d)),g===b&&(g=lb(a,c,e)),"normal"===g&&c in wb&&(g=wb[c]),""===d||d?(f=parseFloat(g),d===!0||ka.isNumeric(f)?f||0:g):g}}),a.getComputedStyle?(kb=function(b){return a.getComputedStyle(b,null)},lb=function(a,c,d){var e,f,g,h=d||kb(a),i=h?h.getPropertyValue(c)||h[c]:b,j=a.style;return h&&(""!==i||ka.contains(a.ownerDocument,a)||(i=ka.style(a,c)),sb.test(i)&&qb.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i}):Y.documentElement.currentStyle&&(kb=function(a){return a.currentStyle},lb=function(a,c,d){var e,f,g,h=d||kb(a),i=h?h[c]:b,j=a.style;return null==i&&j&&j[c]&&(i=j[c]),sb.test(i)&&!ob.test(c)&&(e=j.left,f=a.runtimeStyle,g=f&&f.left,g&&(f.left=a.currentStyle.left),j.left="fontSize"===c?"1em":i,i=j.pixelLeft+"px",j.left=e,g&&(f.left=g)),""===i?"auto":i}),ka.each(["height","width"],function(a,c){ka.cssHooks[c]={get:function(a,d,e){return d?0===a.offsetWidth&&pb.test(ka.css(a,"display"))?ka.swap(a,vb,function(){return B(a,c,e)}):B(a,c,e):b},set:function(a,b,d){var e=d&&kb(a);return z(a,b,d?A(a,c,d,ka.support.boxSizing&&"border-box"===ka.css(a,"boxSizing",!1,e),e):0)}}}),ka.support.opacity||(ka.cssHooks.opacity={get:function(a,b){return nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=ka.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===ka.trim(f.replace(mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=mb.test(f)?f.replace(mb,e):f+" "+e)}}),ka(function(){ka.support.reliableMarginRight||(ka.cssHooks.marginRight={get:function(a,c){return c?ka.swap(a,{display:"inline-block"},lb,[a,"marginRight"]):b}}),!ka.support.pixelPosition&&ka.fn.position&&ka.each(["top","left"],function(a,c){ka.cssHooks[c]={get:function(a,d){return d?(d=lb(a,c),sb.test(d)?ka(a).position()[c]+"px":d):b}}})}),ka.expr&&ka.expr.filters&&(ka.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!ka.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||ka.css(a,"display"))},ka.expr.filters.visible=function(a){return!ka.expr.filters.hidden(a)}),ka.each({margin:"",padding:"",border:"Width"},function(a,b){ka.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+xb[d]+b]=f[d]||f[d-2]||f[0];return e}},qb.test(a)||(ka.cssHooks[a+b].set=z)});var zb=/%20/g,Ab=/\[\]$/,Bb=/\r?\n/g,Cb=/^(?:submit|button|image|reset|file)$/i,Db=/^(?:input|select|textarea|keygen)/i;ka.fn.extend({serialize:function(){return ka.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=ka.prop(this,"elements");return a?ka.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!ka(this).is(":disabled")&&Db.test(this.nodeName)&&!Cb.test(a)&&(this.checked||!bb.test(a))}).map(function(a,b){var c=ka(this).val();return null==c?null:ka.isArray(c)?ka.map(c,function(a){return{name:b.name,value:a.replace(Bb,"\r\n")}}):{name:b.name,value:c.replace(Bb,"\r\n")}}).get()}}),ka.param=function(a,c){var d,e=[],f=function(a,b){b=ka.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=ka.ajaxSettings&&ka.ajaxSettings.traditional),ka.isArray(a)||a.jquery&&!ka.isPlainObject(a))ka.each(a,function(){f(this.name,this.value)});else for(d in a)E(d,a[d],c,f);return e.join("&").replace(zb,"+")},ka.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){ka.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),ka.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Eb,Fb,Gb=ka.now(),Hb=/\?/,Ib=/#.*$/,Jb=/([?&])_=[^&]*/,Kb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mb=/^(?:GET|HEAD)$/,Nb=/^\/\//,Ob=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Pb=ka.fn.load,Qb={},Rb={},Sb="*/".concat("*");try{Fb=X.href}catch(Tb){Fb=Y.createElement("a"),Fb.href="",Fb=Fb.href}Eb=Ob.exec(Fb.toLowerCase())||[],ka.fn.load=function(a,c,d){if("string"!=typeof a&&Pb)return Pb.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),ka.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(g="POST"),h.length>0&&ka.ajax({url:a,type:g,dataType:"html",data:c}).done(function(a){f=arguments,h.html(e?ka("<div>").append(ka.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,f||[a.responseText,b,a])}),this},ka.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){ka.fn[b]=function(a){return this.on(b,a)}}),ka.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fb,type:"GET",isLocal:Lb.test(Eb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ka.parseJSON,"text xml":ka.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?H(H(a,ka.ajaxSettings),b):H(ka.ajaxSettings,a)},ajaxPrefilter:F(Qb),ajaxTransport:F(Rb),ajax:function(a,c){function d(a,c,d,e){var f,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),k=b,h=e||"",w.readyState=a>0?4:0,f=a>=200&&300>a||304===a,d&&(t=I(m,w,d)),t=J(m,t,w,f),f?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(ka.lastModified[g]=v),v=w.getResponseHeader("etag"),v&&(ka.etag[g]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,f=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--ka.active||ka.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=ka.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?ka(n):ka.event,p=ka.Deferred(),q=ka.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Kb.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||Fb)+"").replace(Ib,"").replace(Nb,Eb[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=ka.trim(m.dataType||"*").toLowerCase().match(ma)||[""],null==m.crossDomain&&(e=Ob.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===Eb[1]&&e[2]===Eb[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(Eb[3]||("http:"===Eb[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=ka.param(m.data,m.traditional)),G(Qb,m,c,w),2===u)return w;j=m.global,j&&0===ka.active++&&ka.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Mb.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Hb.test(g)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=Jb.test(g)?g.replace(Jb,"$1_="+Gb++):g+(Hb.test(g)?"&":"?")+"_="+Gb++)),m.ifModified&&(ka.lastModified[g]&&w.setRequestHeader("If-Modified-Since",ka.lastModified[g]),ka.etag[g]&&w.setRequestHeader("If-None-Match",ka.etag[g])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Sb+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=G(Rb,m,c,w)){w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return ka.get(a,b,c,"json")},getScript:function(a,c){return ka.get(a,b,c,"script")}}),ka.each(["get","post"],function(a,c){ka[c]=function(a,d,e,f){return ka.isFunction(d)&&(f=f||e,e=d,d=b),ka.ajax({url:a,type:c,dataType:f,data:d,success:e})}}),ka.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return ka.globalEval(a),a}}}),ka.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),ka.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=Y.head||ka("head")[0]||Y.documentElement;return{send:function(b,e){c=Y.createElement("script"),c.async=!0,a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||e(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(b,!0)}}}});var Ub=[],Vb=/(=)\?(?=&|$)|\?\?/;ka.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ub.pop()||ka.expando+"_"+Gb++;return this[a]=!0,a}}),ka.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.jsonp!==!1&&(Vb.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vb.test(c.data)&&"data");return i||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=ka.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,i?c[i]=c[i].replace(Vb,"$1"+f):c.jsonp!==!1&&(c.url+=(Hb.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||ka.error(f+" was not called"),h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Ub.push(f)),h&&ka.isFunction(g)&&g(h[0]),h=g=b}),"script"):b});var Wb,Xb,Yb=0,Zb=a.ActiveXObject&&function(){var a;for(a in Wb)Wb[a](b,!0)};ka.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&K()||L()}:K,Xb=ka.ajaxSettings.xhr(),ka.support.cors=!!Xb&&"withCredentials"in Xb,Xb=ka.support.ajax=!!Xb,Xb&&ka.ajaxTransport(function(c){if(!c.crossDomain||ka.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=ka.noop,Zb&&delete Wb[g]),e)4!==i.readyState&&i.abort();else{l={},h=i.status,j=i.getAllResponseHeaders(),"string"==typeof i.responseText&&(l.text=i.responseText);try{k=i.statusText}catch(m){k=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(n){e||f(-1,n)}l&&f(h,k,l,j)},c.async?4===i.readyState?setTimeout(d):(g=++Yb,Zb&&(Wb||(Wb={},ka(a).unload(Zb)),Wb[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(b,!0)}}}});var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=RegExp("^(?:([+-])=|)("+la+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[Q],ec={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bc.exec(b),f=e&&e[3]||(ka.cssNumber[a]?"":"px"),g=(ka.cssNumber[a]||"px"!==f&&+d)&&bc.exec(ka.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,ka.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};ka.Animation=ka.extend(O,{tweener:function(a,b){ka.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),ka.Tween=R,R.prototype={constructor:R,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(ka.cssNumber[c]?"":"px")},cur:function(){var a=R.propHooks[this.prop];return a&&a.get?a.get(this):R.propHooks._default.get(this)},run:function(a){var b,c=R.propHooks[this.prop];return this.pos=b=this.options.duration?ka.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=ka.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){ka.fx.step[a.prop]?ka.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[ka.cssProps[a.prop]]||ka.cssHooks[a.prop])?ka.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},ka.each(["toggle","show","hide"],function(a,b){var c=ka.fn[b];ka.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(S(b,!0),a,d,e)}}),ka.fn.extend({fadeTo:function(a,b,c,d){return this.filter(x).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=ka.isEmptyObject(a),f=ka.speed(b,c,d),g=function(){var b=O(this,ka.extend({},a),f);(e||ka._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=ka.timers,g=ka._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cc.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&ka.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=ka._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=ka.timers,g=d?d.length:0;for(c.finish=!0,ka.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),ka.each({slideDown:S("show"),slideUp:S("hide"),slideToggle:S("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){ka.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),ka.speed=function(a,b,c){var d=a&&"object"==typeof a?ka.extend({},a):{complete:c||!c&&b||ka.isFunction(a)&&a,duration:a,easing:c&&b||b&&!ka.isFunction(b)&&b};return d.duration=ka.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in ka.fx.speeds?ka.fx.speeds[d.duration]:ka.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){ka.isFunction(d.old)&&d.old.call(this),d.queue&&ka.dequeue(this,d.queue)},d},ka.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},ka.timers=[],ka.fx=R.prototype.init,ka.fx.tick=function(){var a,c=ka.timers,d=0;for($b=ka.now();c.length>d;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||ka.fx.stop(),$b=b},ka.fx.timer=function(a){a()&&ka.timers.push(a)&&ka.fx.start()},ka.fx.interval=13,ka.fx.start=function(){_b||(_b=setInterval(ka.fx.tick,ka.fx.interval))},ka.fx.stop=function(){clearInterval(_b),_b=null},ka.fx.speeds={slow:600,fast:200,_default:400},ka.fx.step={},ka.expr&&ka.expr.filters&&(ka.expr.filters.animated=function(a){return ka.grep(ka.timers,function(b){return a===b.elem}).length}),ka.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){ka.offset.setOffset(this,a,b)});var c,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;return g?(c=g.documentElement,ka.contains(c,f)?(typeof f.getBoundingClientRect!==W&&(e=f.getBoundingClientRect()),d=T(g),{top:e.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:e.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):e):void 0},ka.offset={setOffset:function(a,b,c){var d=ka.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=ka(a),h=g.offset(),i=ka.css(a,"top"),j=ka.css(a,"left"),k=("absolute"===d||"fixed"===d)&&ka.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),ka.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},ka.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===ka.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),ka.nodeName(a[0],"html")||(c=a.offset()),c.top+=ka.css(a[0],"borderTopWidth",!0),c.left+=ka.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-ka.css(d,"marginTop",!0),left:b.left-c.left-ka.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Z;a&&!ka.nodeName(a,"html")&&"static"===ka.css(a,"position");)a=a.offsetParent;return a||Z})}}),ka.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);ka.fn[a]=function(e){return ka.access(this,function(a,e,f){var g=T(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:(g?g.scrollTo(d?ka(g).scrollLeft():f,d?f:ka(g).scrollTop()):a[e]=f,b)},a,e,arguments.length,null)}}),ka.each({Height:"height",Width:"width"},function(a,c){ka.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){ka.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return ka.access(this,function(c,d,e){var f;return ka.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?ka.css(c,d,h):ka.style(c,d,e,h)},c,g?e:b,g,null)}})}),ka.fn.size=function(){return this.length},ka.fn.andSelf=ka.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ka:(a.jQuery=a.$=ka,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ka}))}(window),window.$=jQuery.noConflict(),function(a,b){"$:nomunge";var c,d=a.jQuery||a.Cowboy||(a.Cowboy={});d.throttle=c=function(a,c,e,f){function g(){function d(){i=+new Date,e.apply(j,l)}function g(){h=b}var j=this,k=+new Date-i,l=arguments;f&&!h&&d(),h&&clearTimeout(h),f===b&&k>a?d():c!==!0&&(h=setTimeout(f?g:d,f===b?a-k:a))}var h,i=0;return"boolean"!=typeof c&&(f=e,e=c,c=b),d.guid&&(g.guid=e.guid=e.guid||d.guid++),g},d.debounce=function(a,d,e){return e===b?c(a,d,!1):c(a,e,d!==!1)}}(this),function(a,b,c){function d(c,d,e){var f=b.createElement(c);return d&&(f.id=_+d),e&&(f.style.cssText=e),a(f)}function e(){return c.innerHeight?c.innerHeight:a(c).height()}function f(b,c){c!==Object(c)&&(c={}),this.cache={},this.el=b,this.value=function(b){var d;return void 0===this.cache[b]&&(d=a(this.el).attr("data-cbox-"+b),void 0!==d?this.cache[b]=d:void 0!==c[b]?this.cache[b]=c[b]:void 0!==Z[b]&&(this.cache[b]=Z[b])),this.cache[b]},this.get=function(b){var c=this.value(b);return a.isFunction(c)?c.call(this.el,this):c}}function g(a){var b=A.length,c=(R+a)%b;return c<0?b+c:c}function h(a,b){return Math.round((/%/.test(a)?("x"===b?B.width():e())/100:1)*parseInt(a,10))}function i(a,b){return a.get("photo")||a.get("photoRegex").test(b)}function j(a,b){return a.get("retinaUrl")&&c.devicePixelRatio>1?b.replace(a.get("photoRegex"),a.get("retinaSuffix")):b}function k(a){"contains"in t[0]&&!t[0].contains(a.target)&&a.target!==s[0]&&(a.stopPropagation(),t.focus())}function l(a){l.str!==a&&(t.add(s).removeClass(l.str).addClass(a),l.str=a)}function m(b){R=0,b&&b!==!1&&"nofollow"!==b?(A=a("."+aa).filter(function(){var c=a.data(this,$),d=new f(this,c);return d.get("rel")===b}),R=A.index(M.el),R===-1&&(A=A.add(M.el),R=A.length-1)):A=a(M.el)}function n(c){a(b).trigger(c),ha.triggerHandler(c)}function o(c){var e;if(!V){if(e=a(c).data("colorbox"),M=new f(c,e),m(M.get("rel")),!T){T=U=!0,l(M.get("className")),t.css({visibility:"hidden",display:"block",opacity:""}),C=d(ia,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),v.css({width:"",height:""}).append(C),N=w.height()+z.height()+v.outerHeight(!0)-v.height(),O=x.width()+y.width()+v.outerWidth(!0)-v.width(),P=C.outerHeight(!0),Q=C.outerWidth(!0);var g=h(M.get("initialWidth"),"x"),i=h(M.get("initialHeight"),"y"),j=M.get("maxWidth"),o=M.get("maxHeight");M.w=(j!==!1?Math.min(g,h(j,"x")):g)-Q-O,M.h=(o!==!1?Math.min(i,h(o,"y")):i)-P-N,C.css({width:"",height:M.h}),X.position(),n(ba),M.get("onOpen"),L.add(F).hide(),t.focus(),M.get("trapFocus")&&b.addEventListener&&(b.addEventListener("focus",k,!0),ha.one(fa,function(){b.removeEventListener("focus",k,!0)})),M.get("returnFocus")&&ha.one(fa,function(){a(M.el).focus()})}s.css({opacity:parseFloat(M.get("opacity"))||"",cursor:M.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),M.get("closeButton")?K.html(M.get("close")).appendTo(v):K.appendTo("<div/>"),r()}}function p(){!t&&b.body&&(Y=!1,B=a(c),t=d(ia).attr({id:$,"class":a.support.opacity===!1?_+"IE":"",role:"dialog",tabindex:"-1"}).hide(),s=d(ia,"Overlay").hide(),E=a([d(ia,"LoadingOverlay")[0],d(ia,"LoadingGraphic")[0]]),u=d(ia,"Wrapper"),v=d(ia,"Content").append(F=d(ia,"Title"),G=d(ia,"Current"),J=a('<button type="button"/>').attr({id:_+"Previous"}),I=a('<button type="button"/>').attr({id:_+"Next"}),H=d("button","Slideshow"),E),K=a('<button type="button"/>').attr({id:_+"Close"}),u.append(d(ia).append(d(ia,"TopLeft"),w=d(ia,"TopCenter"),d(ia,"TopRight")),d(ia,!1,"clear:left").append(x=d(ia,"MiddleLeft"),v,y=d(ia,"MiddleRight")),d(ia,!1,"clear:left").append(d(ia,"BottomLeft"),z=d(ia,"BottomCenter"),d(ia,"BottomRight"))).find("div div").css({"float":"left"}),D=d(ia,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),L=I.add(J).add(G).add(H),a(b.body).append(s,t.append(u,D)))}function q(){function c(a){a.which>1||a.shiftKey||a.altKey||a.metaKey||a.ctrlKey||(a.preventDefault(),o(this))}return!!t&&(Y||(Y=!0,I.click(function(){X.next()}),J.click(function(){X.prev()}),K.click(function(){X.close()}),s.click(function(){M.get("overlayClose")&&X.close()}),a(b).bind("keydown."+_,function(a){var b=a.keyCode;T&&M.get("escKey")&&27===b&&(a.preventDefault(),X.close()),T&&M.get("arrowKey")&&A[1]&&!a.altKey&&(37===b?(a.preventDefault(),J.click()):39===b&&(a.preventDefault(),I.click()))}),a.isFunction(a.fn.on)?a(b).on("click."+_,"."+aa,c):a("."+aa).live("click."+_,c)),!0)}function r(){var b,e,f,g=X.prep,k=++ja;if(U=!0,S=!1,n(ga),n(ca),M.get("onLoad"),M.h=M.get("height")?h(M.get("height"),"y")-P-N:M.get("innerHeight")&&h(M.get("innerHeight"),"y"),M.w=M.get("width")?h(M.get("width"),"x")-Q-O:M.get("innerWidth")&&h(M.get("innerWidth"),"x"),M.mw=M.w,M.mh=M.h,M.get("maxWidth")&&(M.mw=h(M.get("maxWidth"),"x")-Q-O,M.mw=M.w&&M.w<M.mw?M.w:M.mw),M.get("maxHeight")&&(M.mh=h(M.get("maxHeight"),"y")-P-N,M.mh=M.h&&M.h<M.mh?M.h:M.mh),b=M.get("href"),W=setTimeout(function(){E.show()},100),M.get("inline")){var l=a(b);f=a("<div>").hide().insertBefore(l),ha.one(ga,function(){f.replaceWith(l)}),g(l)}else M.get("iframe")?g(" "):M.get("html")?g(M.get("html")):i(M,b)?(b=j(M,b),S=new Image,a(S).addClass(_+"Photo").bind("error",function(){g(d(ia,"Error").html(M.get("imgError")))}).one("load",function(){k===ja&&setTimeout(function(){var b;a.each(["alt","longdesc","aria-describedby"],function(b,c){var d=a(M.el).attr(c)||a(M.el).attr("data-"+c);d&&S.setAttribute(c,d)}),M.get("retinaImage")&&c.devicePixelRatio>1&&(S.height=S.height/c.devicePixelRatio,S.width=S.width/c.devicePixelRatio),M.get("scalePhotos")&&(e=function(){S.height-=S.height*b,S.width-=S.width*b},M.mw&&S.width>M.mw&&(b=(S.width-M.mw)/S.width,e()),M.mh&&S.height>M.mh&&(b=(S.height-M.mh)/S.height,e())),M.h&&(S.style.marginTop=Math.max(M.mh-S.height,0)/2+"px"),A[1]&&(M.get("loop")||A[R+1])&&(S.style.cursor="pointer",S.onclick=function(){X.next()}),S.style.width=S.width+"px",S.style.height=S.height+"px",g(S)},1)}),S.src=b):b&&D.load(b,M.get("data"),function(b,c){k===ja&&g("error"===c?d(ia,"Error").html(M.get("xhrError")):a(this).contents())})}var s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return a(this).attr("href")},title:function(){return this.title}},$="colorbox",_="cbox",aa=_+"Element",ba=_+"_open",ca=_+"_load",da=_+"_complete",ea=_+"_cleanup",fa=_+"_closed",ga=_+"_purge",ha=a("<a/>"),ia="div",ja=0,ka={},la=function(){function a(){clearTimeout(g)}function b(){(M.get("loop")||A[R+1])&&(a(),g=setTimeout(X.next,M.get("slideshowSpeed")))}function c(){H.html(M.get("slideshowStop")).unbind(i).one(i,d),ha.bind(da,b).bind(ca,a),t.removeClass(h+"off").addClass(h+"on")}function d(){a(),ha.unbind(da,b).unbind(ca,a),H.html(M.get("slideshowStart")).unbind(i).one(i,function(){X.next(),c()}),t.removeClass(h+"on").addClass(h+"off")}function e(){f=!1,H.hide(),a(),ha.unbind(da,b).unbind(ca,a),t.removeClass(h+"off "+h+"on")}var f,g,h=_+"Slideshow_",i="click."+_;return function(){f?M.get("slideshow")||(ha.unbind(ea,e),e()):M.get("slideshow")&&A[1]&&(f=!0,ha.one(ea,e),M.get("slideshowAuto")?c():d(),H.show())}}();a.colorbox||(a(p),X=a.fn[$]=a[$]=function(b,c){var d,e=this;if(b=b||{},a.isFunction(e))e=a("<a/>"),b.open=!0;else if(!e[0])return e;return e[0]?(p(),q()&&(c&&(b.onComplete=c),e.each(function(){var c=a.data(this,$)||{};a.data(this,$,a.extend(c,b))}).addClass(aa),d=new f(e[0],b),d.get("open")&&o(e[0])),e):e},X.position=function(b,c){function d(){w[0].style.width=z[0].style.width=v[0].style.width=parseInt(t[0].style.width,10)-O+"px",v[0].style.height=x[0].style.height=y[0].style.height=parseInt(t[0].style.height,10)-N+"px"}var f,g,i,j=0,k=0,l=t.offset();if(B.unbind("resize."+_),t.css({top:-9e4,left:-9e4}),g=B.scrollTop(),i=B.scrollLeft(),M.get("fixed")?(l.top-=g,l.left-=i,t.css({position:"fixed"})):(j=g,k=i,t.css({position:"absolute"})),k+=M.get("right")!==!1?Math.max(B.width()-M.w-Q-O-h(M.get("right"),"x"),0):M.get("left")!==!1?h(M.get("left"),"x"):Math.round(Math.max(B.width()-M.w-Q-O,0)/2),j+=M.get("bottom")!==!1?Math.max(e()-M.h-P-N-h(M.get("bottom"),"y"),0):M.get("top")!==!1?h(M.get("top"),"y"):Math.round(Math.max(e()-M.h-P-N,0)/2),t.css({top:l.top,left:l.left,visibility:"visible"}),u[0].style.width=u[0].style.height="9999px",f={width:M.w+Q+O,height:M.h+P+N,top:j,left:k},b){var m=0;a.each(f,function(a){f[a]!==ka[a]&&(m=b)}),b=m}ka=f,b||t.css(f),t.dequeue().animate(f,{duration:b||0,complete:function(){d(),U=!1,u[0].style.width=M.w+Q+O+"px",u[0].style.height=M.h+P+N+"px",M.get("reposition")&&setTimeout(function(){B.bind("resize."+_,X.position)},1),c&&c()},step:d})},X.resize=function(a){var b;if(T){if(a=a||{},a.width&&(M.w=h(a.width,"x")-Q-O),a.innerWidth&&(M.w=h(a.innerWidth,"x")),a.maxWidth){var c=h(a.maxWidth,"x");M.w>c&&(M.w=c)}C.css({width:M.w}),a.height&&(M.h=h(a.height,"y")-P-N),a.innerHeight&&(M.h=h(a.innerHeight,"y")),a.innerHeight||a.height||(b=C.scrollTop(),C.css({height:"auto"}),M.h=C.height()),C.css({height:M.h}),b&&C.scrollTop(b),X.position("none"===M.get("transition")?0:M.get("speed"))}},X.prep=function(c){function e(){return M.w=M.w||C.width(),M.w=M.mw&&M.mw<M.w?M.mw:M.w,M.w}function h(){return M.h=M.h||C.height(),M.h=M.mh&&M.mh<M.h?M.mh:M.h,M.h}if(T){var k,m="none"===M.get("transition")?0:M.get("speed");C.remove(),C=d(ia,"LoadedContent").append(c),C.hide().appendTo(D.show()).css({width:e(),overflow:M.get("scrolling")?"auto":"hidden"}).css({height:h()}).prependTo(v),D.hide(),a(S).css({"float":"none"}),l(M.get("className")),k=function(){function c(){a.support.opacity===!1&&t[0].style.removeAttribute("filter")}var d,e,h=A.length;T&&(e=function(){clearTimeout(W),E.hide(),n(da),M.get("onComplete")},F.html(M.get("title")).show(),C.show(),h>1?("string"==typeof M.get("current")&&G.html(M.get("current").replace("{current}",R+1).replace("{total}",h)).show(),I[M.get("loop")||R<h-1?"show":"hide"]().html(M.get("next")),J[M.get("loop")||R?"show":"hide"]().html(M.get("previous")),la(),M.get("preloading")&&a.each([g(-1),g(1)],function(){var c,d=A[this],e=new f(d,a.data(d,$)),g=e.get("href");g&&i(e,g)&&(g=j(e,g),c=b.createElement("img"),c.src=g)})):L.hide(),M.get("iframe")?(d=b.createElement("iframe"),"frameBorder"in d&&(d.frameBorder=0),"allowTransparency"in d&&(d.allowTransparency="true"),M.get("scrolling")||(d.scrolling="no"),a(d).attr({src:M.get("href"),name:(new Date).getTime(),"class":_+"Iframe",allowFullScreen:!0}).one("load",e).appendTo(C),ha.one(ga,function(){d.src="//about:blank"}),M.get("fastIframe")&&a(d).trigger("load")):e(),"fade"===M.get("transition")?t.fadeTo(m,1,c):c())},"fade"===M.get("transition")?t.fadeTo(m,0,function(){
X.position(0,k)}):X.position(m,k)}},X.next=function(){!U&&A[1]&&(M.get("loop")||A[R+1])&&(R=g(1),o(A[R]))},X.prev=function(){!U&&A[1]&&(M.get("loop")||R)&&(R=g(-1),o(A[R]))},X.close=function(){T&&!V&&(V=!0,T=!1,n(ea),M.get("onCleanup"),B.unbind("."+_),s.fadeTo(M.get("fadeOut")||0,0),t.stop().fadeTo(M.get("fadeOut")||0,0,function(){t.hide(),s.hide(),n(ga),C.remove(),setTimeout(function(){V=!1,n(fa),M.get("onClosed")},1)}))},X.remove=function(){t&&(t.stop(),a.colorbox.close(),t.stop().remove(),s.remove(),V=!1,t=null,a("."+aa).removeData($).removeClass(aa),a(b).unbind("click."+_).unbind("keydown."+_))},X.element=function(){return a(M.el)},X.settings=Z)}(jQuery,document,window),function(a,b,c){!function(a){"function"==typeof define&&define.amd?define(["jquery","jquery-mousewheel"],a):a(jQuery)}(function(c){var d="mCustomScrollbar",e="mCS",f=".mCustomScrollbar",g={setWidth:!1,setHeight:!1,setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,autoHideScrollbar:!1,autoExpandScrollbar:!1,alwaysShowScrollbar:0,snapAmount:null,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1,disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{enable:!1,scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoExpandHorizontalScroll:!1,autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0,updateOnSelectorChange:!1},theme:"light",callbacks:{onScrollStart:!1,onScroll:!1,onTotalScroll:!1,onTotalScrollBack:!1,whileScrolling:!1,onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0},live:!1,liveSelector:null},h=0,i={},j=function(a){i[a]&&(clearTimeout(i[a]),n._delete.call(null,i[a]))},k=a.attachEvent&&!a.addEventListener?1:0,l=!1,m={init:function(a){var a=c.extend(!0,{},g,a),b=n._selector.call(this);if(a.live){var d=a.liveSelector||this.selector||f,k=c(d);if("off"===a.live)return void j(d);i[d]=setTimeout(function(){k.mCustomScrollbar(a),"once"===a.live&&k.length&&j(d)},500)}else j(d);return a.setWidth=a.set_width?a.set_width:a.setWidth,a.setHeight=a.set_height?a.set_height:a.setHeight,a.axis=a.horizontalScroll?"x":n._findAxis.call(null,a.axis),a.scrollInertia=a.scrollInertia<17?17:a.scrollInertia,"object"!=typeof a.mouseWheel&&1==a.mouseWheel&&(a.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),a.mouseWheel.scrollAmount=a.mouseWheelPixels?a.mouseWheelPixels:a.mouseWheel.scrollAmount,a.mouseWheel.normalizeDelta=a.advanced.normalizeMouseWheelDelta?a.advanced.normalizeMouseWheelDelta:a.mouseWheel.normalizeDelta,a.scrollButtons.scrollType=n._findScrollButtonsType.call(null,a.scrollButtons.scrollType),n._theme.call(null,a),c(b).each(function(){var b=c(this);if(!b.data(e)){b.data(e,{idx:++h,opt:a,scrollRatio:{y:null,x:null},overflowed:null,bindEvents:!1,tweenRunning:!1,sequential:{},langDir:b.css("direction"),cbOffsets:null,trigger:null});var d=b.data(e).opt,f=b.data("mcs-axis"),g=b.data("mcs-scrollbar-position"),i=b.data("mcs-theme");f&&(d.axis=f),g&&(d.scrollbarPosition=g),i&&(d.theme=i,n._theme.call(null,d)),n._pluginMarkup.call(this),m.update.call(null,b)}})},update:function(a){var b=a||n._selector.call(this);return c(b).each(function(){var a=c(this);if(a.data(e)){var b=a.data(e),d=b.opt,f=c("#mCSB_"+b.idx+"_container"),g=[c("#mCSB_"+b.idx+"_dragger_vertical"),c("#mCSB_"+b.idx+"_dragger_horizontal")];if(!f.length)return;b.tweenRunning&&n._stop.call(null,a),a.hasClass("mCS_disabled")&&a.removeClass("mCS_disabled"),a.hasClass("mCS_destroyed")&&a.removeClass("mCS_destroyed"),n._maxHeight.call(this),n._expandContentHorizontally.call(this),"y"===d.axis||d.advanced.autoExpandHorizontalScroll||f.css("width",n._contentWidth(f.children())),b.overflowed=n._overflowed.call(this),n._scrollbarVisibility.call(this),d.autoDraggerLength&&n._setDraggerLength.call(this),n._scrollRatio.call(this),n._bindEvents.call(this);var h=[Math.abs(f[0].offsetTop),Math.abs(f[0].offsetLeft)];"x"!==d.axis&&(b.overflowed[0]?g[0].height()>g[0].parent().height()?n._resetContentPosition.call(this):n._scrollTo.call(this,a,h[0].toString(),{dir:"y",dur:0,overwrite:"none"}):(n._resetContentPosition.call(this),"y"===d.axis?n._unbindEvents.call(this):"yx"===d.axis&&b.overflowed[1]&&n._scrollTo.call(this,a,h[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==d.axis&&(b.overflowed[1]?g[1].width()>g[1].parent().width()?n._resetContentPosition.call(this):n._scrollTo.call(this,a,h[1].toString(),{dir:"x",dur:0,overwrite:"none"}):(n._resetContentPosition.call(this),"x"===d.axis?n._unbindEvents.call(this):"yx"===d.axis&&b.overflowed[0]&&n._scrollTo.call(this,a,h[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n._autoUpdate.call(this)}})},scrollTo:function(a,b){if("undefined"!=typeof a&&null!=a){var d=n._selector.call(this);return c(d).each(function(){var d=c(this);if(d.data(e)){var f=d.data(e),g=f.opt,h={trigger:"external",scrollInertia:g.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=c.extend(!0,{},h,b),j=n._arr.call(this,a),k=i.scrollInertia<17?17:i.scrollInertia;j[0]=n._to.call(this,j[0],"y"),j[1]=n._to.call(this,j[1],"x"),i.moveDragger&&(j[0]*=f.scrollRatio.y,j[1]*=f.scrollRatio.x),i.dur=k,setTimeout(function(){null!==j[0]&&"undefined"!=typeof j[0]&&"x"!==g.axis&&f.overflowed[0]&&(i.dir="y",i.overwrite="all",n._scrollTo.call(this,d,j[0].toString(),i)),null!==j[1]&&"undefined"!=typeof j[1]&&"y"!==g.axis&&f.overflowed[1]&&(i.dir="x",i.overwrite="none",n._scrollTo.call(this,d,j[1].toString(),i))},60)}})}},stop:function(){var a=n._selector.call(this);return c(a).each(function(){var a=c(this);a.data(e)&&n._stop.call(null,a)})},disable:function(a){var b=n._selector.call(this);return c(b).each(function(){var b=c(this);if(b.data(e)){var d=b.data(e);d.opt;n._autoUpdate.call(this,"remove"),n._unbindEvents.call(this),a&&n._resetContentPosition.call(this),n._scrollbarVisibility.call(this,!0),b.addClass("mCS_disabled")}})},destroy:function(){var a=n._selector.call(this);return c(a).each(function(){var b=c(this);if(b.data(e)){var f=b.data(e),g=f.opt,h=c("#mCSB_"+f.idx),i=c("#mCSB_"+f.idx+"_container"),k=c(".mCSB_"+f.idx+"_scrollbar");g.live&&j(a),n._autoUpdate.call(this,"remove"),n._unbindEvents.call(this),n._resetContentPosition.call(this),b.removeData(e),n._delete.call(null,this.mcs),k.remove(),h.replaceWith(i.contents()),b.removeClass(d+" _"+e+"_"+f.idx+" mCS-autoHide mCS-dir-rtl mCS_no_scrollbar mCS_disabled").addClass("mCS_destroyed")}})}},n={_selector:function(){return"object"!=typeof c(this)||c(this).length<1?f:this},_theme:function(a){var b=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],d=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],e=["minimal","minimal-dark"],f=["minimal","minimal-dark"],g=["minimal","minimal-dark"];a.autoDraggerLength=!(c.inArray(a.theme,b)>-1)&&a.autoDraggerLength,a.autoExpandScrollbar=!(c.inArray(a.theme,d)>-1)&&a.autoExpandScrollbar,a.scrollButtons.enable=!(c.inArray(a.theme,e)>-1)&&a.scrollButtons.enable,a.autoHideScrollbar=c.inArray(a.theme,f)>-1||a.autoHideScrollbar,a.scrollbarPosition=c.inArray(a.theme,g)>-1?"outside":a.scrollbarPosition},_findAxis:function(a){return"yx"===a||"xy"===a||"auto"===a?"yx":"x"===a||"horizontal"===a?"x":"y"},_findScrollButtonsType:function(a){return"stepped"===a||"pixels"===a||"step"===a||"click"===a?"stepped":"stepless"},_pluginMarkup:function(){var a=c(this),b=a.data(e),f=b.opt,g=f.autoExpandScrollbar?" mCSB_scrollTools_onDrag_expand":"",h=["<div id='mCSB_"+b.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+b.idx+"_scrollbar mCS-"+f.theme+" mCSB_scrollTools_vertical"+g+"'><div class='mCSB_draggerContainer'><div id='mCSB_"+b.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+b.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+b.idx+"_scrollbar mCS-"+f.theme+" mCSB_scrollTools_horizontal"+g+"'><div class='mCSB_draggerContainer'><div id='mCSB_"+b.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],i="yx"===f.axis?"mCSB_vertical_horizontal":"x"===f.axis?"mCSB_horizontal":"mCSB_vertical",j="yx"===f.axis?h[0]+h[1]:"x"===f.axis?h[1]:h[0],k="yx"===f.axis?"<div id='mCSB_"+b.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",l=f.autoHideScrollbar?" mCS-autoHide":"",m="x"!==f.axis&&"rtl"===b.langDir?" mCS-dir-rtl":"";f.setWidth&&a.css("width",f.setWidth),f.setHeight&&a.css("height",f.setHeight),f.setLeft="y"!==f.axis&&"rtl"===b.langDir?"989999px":f.setLeft,a.addClass(d+" _"+e+"_"+b.idx+l+m).wrapInner("<div id='mCSB_"+b.idx+"' class='mCustomScrollBox mCS-"+f.theme+" "+i+"'><div id='mCSB_"+b.idx+"_container' class='mCSB_container' style='position:relative; top:"+f.setTop+"; left:"+f.setLeft+";' dir="+b.langDir+" /></div>");var o=c("#mCSB_"+b.idx),p=c("#mCSB_"+b.idx+"_container");"y"===f.axis||f.advanced.autoExpandHorizontalScroll||p.css("width",n._contentWidth(p.children())),"outside"===f.scrollbarPosition?("static"===a.css("position")&&a.css("position","relative"),a.css("overflow","visible"),o.addClass("mCSB_outside").after(j)):(o.addClass("mCSB_inside").append(j),p.wrap(k)),n._scrollButtons.call(this);var q=[c("#mCSB_"+b.idx+"_dragger_vertical"),c("#mCSB_"+b.idx+"_dragger_horizontal")];q[0].css("min-height",q[0].height()),q[1].css("min-width",q[1].width())},_contentWidth:function(a){return Math.max.apply(Math,a.map(function(){return c(this).outerWidth(!0)}).get())},_expandContentHorizontally:function(){var a=c(this),b=a.data(e),d=b.opt,f=c("#mCSB_"+b.idx+"_container");d.advanced.autoExpandHorizontalScroll&&"y"!==d.axis&&f.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(f[0].getBoundingClientRect().right+.4)-Math.floor(f[0].getBoundingClientRect().left),position:"relative"}).unwrap()},_scrollButtons:function(){var a=c(this),b=a.data(e),d=b.opt,f=c(".mCSB_"+b.idx+"_scrollbar:first"),g=["<a href='#' class='mCSB_buttonUp' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonDown' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonLeft' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonRight' oncontextmenu='return false;' />"],h=["x"===d.axis?g[2]:g[0],"x"===d.axis?g[3]:g[1],g[2],g[3]];d.scrollButtons.enable&&f.prepend(h[0]).append(h[1]).next(".mCSB_scrollTools").prepend(h[2]).append(h[3])},_maxHeight:function(){var a=c(this),b=a.data(e),d=(b.opt,c("#mCSB_"+b.idx)),f=a.css("max-height"),g=f.indexOf("%")!==-1,h=a.css("box-sizing");if("none"!==f){var i=g?a.parent().height()*parseInt(f)/100:parseInt(f);"border-box"===h&&(i-=a.innerHeight()-a.height()+(a.outerHeight()-a.innerHeight())),d.css("max-height",Math.round(i))}},_setDraggerLength:function(){var a=c(this),b=a.data(e),d=c("#mCSB_"+b.idx),f=c("#mCSB_"+b.idx+"_container"),g=[c("#mCSB_"+b.idx+"_dragger_vertical"),c("#mCSB_"+b.idx+"_dragger_horizontal")],h=[d.height()/f.outerHeight(!1),d.width()/f.outerWidth(!1)],i=[parseInt(g[0].css("min-height")),Math.round(h[0]*g[0].parent().height()),parseInt(g[1].css("min-width")),Math.round(h[1]*g[1].parent().width())],j=k&&i[1]<i[0]?i[0]:i[1],l=k&&i[3]<i[2]?i[2]:i[3];g[0].css({height:j,"max-height":g[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":i[0]+"px"}),g[1].css({width:l,"max-width":g[1].parent().width()-10})},_scrollRatio:function(){var a=c(this),b=a.data(e),d=c("#mCSB_"+b.idx),f=c("#mCSB_"+b.idx+"_container"),g=[c("#mCSB_"+b.idx+"_dragger_vertical"),c("#mCSB_"+b.idx+"_dragger_horizontal")],h=[f.outerHeight(!1)-d.height(),f.outerWidth(!1)-d.width()],i=[h[0]/(g[0].parent().height()-g[0].height()),h[1]/(g[1].parent().width()-g[1].width())];b.scrollRatio={y:i[0],x:i[1]}},_onDragClasses:function(a,b,c){var d=c?"mCSB_dragger_onDrag_expanded":"",e=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag"],f=a.closest(".mCSB_scrollTools");"active"===b?(a.toggleClass(e[0]+" "+d),f.toggleClass(e[1]),a[0]._draggable=a[0]._draggable?0:1):a[0]._draggable||("hide"===b?(a.removeClass(e[0]),f.removeClass(e[1])):(a.addClass(e[0]),f.addClass(e[1])))},_overflowed:function(){var a=c(this),b=a.data(e),d=c("#mCSB_"+b.idx),f=c("#mCSB_"+b.idx+"_container"),g=null==b.overflowed?f.height():f.outerHeight(!1),h=null==b.overflowed?f.width():f.outerWidth(!1);return[g>d.height(),h>d.width()]},_resetContentPosition:function(){var a=c(this),b=a.data(e),d=b.opt,f=c("#mCSB_"+b.idx),g=c("#mCSB_"+b.idx+"_container"),h=[c("#mCSB_"+b.idx+"_dragger_vertical"),c("#mCSB_"+b.idx+"_dragger_horizontal")];if(n._stop(a),("x"!==d.axis&&!b.overflowed[0]||"y"===d.axis&&b.overflowed[0])&&h[0].add(g).css("top",0),"y"!==d.axis&&!b.overflowed[1]||"x"===d.axis&&b.overflowed[1]){var i=dx=0;"rtl"===b.langDir&&(i=f.width()-g.outerWidth(!1),dx=Math.abs(i/b.scrollRatio.x)),g.css("left",i),h[1].css("left",dx)}},_bindEvents:function(){function a(){g=setTimeout(function(){c.event.special.mousewheel?(clearTimeout(g),n._mousewheel.call(b[0])):a()},1e3)}var b=c(this),d=b.data(e),f=d.opt;if(!d.bindEvents){if(n._draggable.call(this),f.contentTouchScroll&&n._contentDraggable.call(this),f.mouseWheel.enable){var g;a()}n._draggerRail.call(this),n._wrapperScroll.call(this),f.advanced.autoScrollOnFocus&&n._focus.call(this),f.scrollButtons.enable&&n._buttons.call(this),f.keyboard.enable&&n._keyboard.call(this),d.bindEvents=!0}},_unbindEvents:function(){var a=c(this),d=a.data(e),f=e+"_"+d.idx,g=".mCSB_"+d.idx+"_scrollbar",h=c("#mCSB_"+d.idx+",#mCSB_"+d.idx+"_container,#mCSB_"+d.idx+"_container_wrapper,"+g+" .mCSB_draggerContainer,#mCSB_"+d.idx+"_dragger_vertical,#mCSB_"+d.idx+"_dragger_horizontal,"+g+">a"),i=c("#mCSB_"+d.idx+"_container");d.bindEvents&&(c(b).unbind("."+f),h.each(function(){c(this).unbind("."+f)}),clearTimeout(a[0]._focusTimeout),n._delete.call(null,a[0]._focusTimeout),clearTimeout(d.sequential.step),n._delete.call(null,d.sequential.step),clearTimeout(i[0].onCompleteTimeout),n._delete.call(null,i[0].onCompleteTimeout),d.bindEvents=!1)},_scrollbarVisibility:function(a){var b=c(this),d=b.data(e),f=d.opt,g=c("#mCSB_"+d.idx+"_container_wrapper"),h=g.length?g:c("#mCSB_"+d.idx+"_container"),i=[c("#mCSB_"+d.idx+"_scrollbar_vertical"),c("#mCSB_"+d.idx+"_scrollbar_horizontal")],j=[i[0].find(".mCSB_dragger"),i[1].find(".mCSB_dragger")];"x"!==f.axis&&(d.overflowed[0]&&!a?(i[0].add(j[0]).add(i[0].children("a")).css("display","block"),h.removeClass("mCS_no_scrollbar_y mCS_y_hidden")):(f.alwaysShowScrollbar?(2!==f.alwaysShowScrollbar&&j[0].add(i[0].children("a")).css("display","none"),h.removeClass("mCS_y_hidden")):(i[0].css("display","none"),h.addClass("mCS_y_hidden")),h.addClass("mCS_no_scrollbar_y"))),"y"!==f.axis&&(d.overflowed[1]&&!a?(i[1].add(j[1]).add(i[1].children("a")).css("display","block"),h.removeClass("mCS_no_scrollbar_x mCS_x_hidden")):(f.alwaysShowScrollbar?(2!==f.alwaysShowScrollbar&&j[1].add(i[1].children("a")).css("display","none"),h.removeClass("mCS_x_hidden")):(i[1].css("display","none"),h.addClass("mCS_x_hidden")),h.addClass("mCS_no_scrollbar_x"))),d.overflowed[0]||d.overflowed[1]?b.removeClass("mCS_no_scrollbar"):b.addClass("mCS_no_scrollbar")},_coordinates:function(a){var b=a.type;switch(b){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[a.originalEvent.pageY,a.originalEvent.pageX];case"touchstart":case"touchmove":case"touchend":var c=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];return[c.pageY,c.pageX];default:return[a.pageY,a.pageX]}},_draggable:function(){function a(a){var b=q.find("iframe");if(b.length){var c=a?"auto":"none";b.css("pointer-events",c)}}function d(a,b,c,d){if(q[0].idleTimer=m.scrollInertia<233?250:0,f.attr("id")===p[1])var e="x",g=(f[0].offsetLeft-b+d)*j.scrollRatio.x;else var e="y",g=(f[0].offsetTop-a+c)*j.scrollRatio.y;n._scrollTo(i,g.toString(),{dir:e,drag:!0})}var f,g,h,i=c(this),j=i.data(e),m=j.opt,o=e+"_"+j.idx,p=["mCSB_"+j.idx+"_dragger_vertical","mCSB_"+j.idx+"_dragger_horizontal"],q=c("#mCSB_"+j.idx+"_container"),r=c("#"+p[0]+",#"+p[1]);r.bind("mousedown."+o+" touchstart."+o+" pointerdown."+o+" MSPointerDown."+o,function(d){if(d.stopImmediatePropagation(),d.preventDefault(),n._mouseBtnLeft(d)){l=!0,k&&(b.onselectstart=function(){return!1}),a(!1),n._stop(i),f=c(this);var e=f.offset(),j=n._coordinates(d)[0]-e.top,o=n._coordinates(d)[1]-e.left,p=f.height()+e.top,q=f.width()+e.left;j<p&&j>0&&o<q&&o>0&&(g=j,h=o),n._onDragClasses(f,"active",m.autoExpandScrollbar)}}).bind("touchmove."+o,function(a){a.stopImmediatePropagation(),a.preventDefault();var b=f.offset(),c=n._coordinates(a)[0]-b.top,e=n._coordinates(a)[1]-b.left;d(g,h,c,e)}),c(b).bind("mousemove."+o+" pointermove."+o+" MSPointerMove."+o,function(a){if(f){var b=f.offset(),c=n._coordinates(a)[0]-b.top,e=n._coordinates(a)[1]-b.left;if(g===c)return;d(g,h,c,e)}}).add(r).bind("mouseup."+o+" touchend."+o+" pointerup."+o+" MSPointerUp."+o,function(c){f&&(n._onDragClasses(f,"active",m.autoExpandScrollbar),f=null),l=!1,k&&(b.onselectstart=null),a(!0)})},_contentDraggable:function(){function a(a,b){var c=[1.5*b,2*b,b/1.5,b/2];return a>90?b>4?c[0]:c[3]:a>60?b>3?c[3]:c[2]:a>30?b>8?c[1]:b>6?c[0]:b>4?b:c[2]:b>8?b:c[3]}function b(a,b,c,d,e,f){a&&n._scrollTo(r,a.toString(),{dur:b,scrollEasing:c,dir:d,overwrite:e,drag:f})}var d,f,g,h,i,j,k,m,o,p,q,r=c(this),s=r.data(e),t=s.opt,u=e+"_"+s.idx,v=c("#mCSB_"+s.idx),w=c("#mCSB_"+s.idx+"_container"),x=[c("#mCSB_"+s.idx+"_dragger_vertical"),c("#mCSB_"+s.idx+"_dragger_horizontal")],y=[],z=[],A=0,B="yx"===t.axis?"none":"all";w.bind("touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(a){if(n._pointerTouch(a)&&!l){var b=w.offset();d=n._coordinates(a)[0]-b.top,f=n._coordinates(a)[1]-b.left}}).bind("touchmove."+u+" pointermove."+u+" MSPointerMove."+u,function(a){if(n._pointerTouch(a)&&!l){a.stopImmediatePropagation(),j=n._getTime();var c=v.offset(),e=n._coordinates(a)[0]-c.top,g=n._coordinates(a)[1]-c.left,h="mcsLinearOut";if(y.push(e),z.push(g),s.overflowed[0])var i=x[0].parent().height()-x[0].height(),k=d-e>0&&e-d>-(i*s.scrollRatio.y);if(s.overflowed[1])var m=x[1].parent().width()-x[1].width(),o=f-g>0&&g-f>-(m*s.scrollRatio.x);(k||o)&&a.preventDefault(),p="yx"===t.axis?[d-e,f-g]:"x"===t.axis?[null,f-g]:[d-e,null],w[0].idleTimer=250,s.overflowed[0]&&b(p[0],A,h,"y","all",!0),s.overflowed[1]&&b(p[1],A,h,"x",B,!0)}}),v.bind("touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(a){if(n._pointerTouch(a)&&!l){a.stopImmediatePropagation(),n._stop(r),i=n._getTime();var b=v.offset();g=n._coordinates(a)[0]-b.top,h=n._coordinates(a)[1]-b.left,y=[],z=[]}}).bind("touchend."+u+" pointerup."+u+" MSPointerUp."+u,function(c){if(n._pointerTouch(c)&&!l){c.stopImmediatePropagation(),k=n._getTime();var d=v.offset(),e=n._coordinates(c)[0]-d.top,f=n._coordinates(c)[1]-d.left;if(!(k-j>30)){o=1e3/(k-i);var r="mcsEaseOut",u=o<2.5,x=u?[y[y.length-2],z[z.length-2]]:[0,0];m=u?[e-x[0],f-x[1]]:[e-g,f-h];var A=[Math.abs(m[0]),Math.abs(m[1])];o=u?[Math.abs(m[0]/4),Math.abs(m[1]/4)]:[o,o];var C=[Math.abs(w[0].offsetTop)-m[0]*a(A[0]/o[0],o[0]),Math.abs(w[0].offsetLeft)-m[1]*a(A[1]/o[1],o[1])];p="yx"===t.axis?[C[0],C[1]]:"x"===t.axis?[null,C[1]]:[C[0],null],q=[4*A[0]+t.scrollInertia,4*A[1]+t.scrollInertia];var D=parseInt(t.contentTouchScroll)||0;p[0]=A[0]>D?p[0]:0,p[1]=A[1]>D?p[1]:0,s.overflowed[0]&&b(p[0],q[0],r,"y",B,!1),s.overflowed[1]&&b(p[1],q[1],r,"x",B,!1)}}})},_mousewheel:function(){var a=c(this),b=a.data(e);if(b){var d=b.opt,f=e+"_"+b.idx,g=c("#mCSB_"+b.idx),h=[c("#mCSB_"+b.idx+"_dragger_vertical"),c("#mCSB_"+b.idx+"_dragger_horizontal")];g.bind("mousewheel."+f,function(e,f){if(n._stop(a),!n._disableMousewheel(a,e.target)){var i="auto"!==d.mouseWheel.deltaFactor?parseInt(d.mouseWheel.deltaFactor):k&&e.deltaFactor<100?100:e.deltaFactor<40?40:e.deltaFactor||100;if("x"===d.axis||"x"===d.mouseWheel.axis)var j="x",l=[Math.round(i*b.scrollRatio.x),parseInt(d.mouseWheel.scrollAmount)],m="auto"!==d.mouseWheel.scrollAmount?l[1]:l[0]>=g.width()?.9*g.width():l[0],o=Math.abs(c("#mCSB_"+b.idx+"_container")[0].offsetLeft),p=h[1][0].offsetLeft,q=h[1].parent().width()-h[1].width(),r=e.deltaX||e.deltaY||f;else var j="y",l=[Math.round(i*b.scrollRatio.y),parseInt(d.mouseWheel.scrollAmount)],m="auto"!==d.mouseWheel.scrollAmount?l[1]:l[0]>=g.height()?.9*g.height():l[0],o=Math.abs(c("#mCSB_"+b.idx+"_container")[0].offsetTop),p=h[0][0].offsetTop,q=h[0].parent().height()-h[0].height(),r=e.deltaY||f;"y"===j&&!b.overflowed[0]||"x"===j&&!b.overflowed[1]||(d.mouseWheel.invert&&(r=-r),d.mouseWheel.normalizeDelta&&(r=r<0?-1:1),(r>0&&0!==p||r<0&&p!==q||d.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),n._scrollTo(a,(o-r*m).toString(),{dir:j}))}})}},_disableMousewheel:function(a,b){var d=b.nodeName.toLowerCase(),f=a.data(e).opt.mouseWheel.disableOver,g=["select","textarea"];return c.inArray(d,f)>-1&&!(c.inArray(d,g)>-1&&!c(b).is(":focus"))},_draggerRail:function(){var a=c(this),b=a.data(e),d=e+"_"+b.idx,f=c("#mCSB_"+b.idx+"_container"),g=f.parent(),h=c(".mCSB_"+b.idx+"_scrollbar .mCSB_draggerContainer");h.bind("touchstart."+d+" pointerdown."+d+" MSPointerDown."+d,function(a){l=!0}).bind("touchend."+d+" pointerup."+d+" MSPointerUp."+d,function(a){l=!1}).bind("click."+d,function(d){if(c(d.target).hasClass("mCSB_draggerContainer")||c(d.target).hasClass("mCSB_draggerRail")){n._stop(a);var e=c(this),h=e.find(".mCSB_dragger");if(e.parent(".mCSB_scrollTools_horizontal").length>0){if(!b.overflowed[1])return;var i="x",j=d.pageX>h.offset().left?-1:1,k=Math.abs(f[0].offsetLeft)-j*(.9*g.width())}else{if(!b.overflowed[0])return;var i="y",j=d.pageY>h.offset().top?-1:1,k=Math.abs(f[0].offsetTop)-j*(.9*g.height())}n._scrollTo(a,k.toString(),{dir:i,scrollEasing:"mcsEaseInOut"})}})},_focus:function(){var a=c(this),d=a.data(e),f=d.opt,g=e+"_"+d.idx,h=c("#mCSB_"+d.idx+"_container"),i=h.parent();h.bind("focusin."+g,function(d){var e=c(b.activeElement),g=h.find(".mCustomScrollBox").length,j=0;e.is(f.advanced.autoScrollOnFocus)&&(n._stop(a),clearTimeout(a[0]._focusTimeout),a[0]._focusTimer=g?(j+17)*g:0,a[0]._focusTimeout=setTimeout(function(){var b=[e.offset().top-h.offset().top,e.offset().left-h.offset().left],c=[h[0].offsetTop,h[0].offsetLeft],d=[c[0]+b[0]>=0&&c[0]+b[0]<i.height()-e.outerHeight(!1),c[1]+b[1]>=0&&c[0]+b[1]<i.width()-e.outerWidth(!1)],g="yx"!==f.axis||d[0]||d[1]?"all":"none";"x"===f.axis||d[0]||n._scrollTo(a,b[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:g,dur:j}),"y"===f.axis||d[1]||n._scrollTo(a,b[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:g,dur:j})},a[0]._focusTimer))})},_wrapperScroll:function(){var a=c(this),b=a.data(e),d=e+"_"+b.idx,f=c("#mCSB_"+b.idx+"_container").parent();f.bind("scroll."+d,function(a){f.scrollTop(0).scrollLeft(0)})},_buttons:function(){var a=c(this),b=a.data(e),d=b.opt,f=b.sequential,g=e+"_"+b.idx,h=(c("#mCSB_"+b.idx+"_container"),".mCSB_"+b.idx+"_scrollbar"),i=c(h+">a");i.bind("mousedown."+g+" touchstart."+g+" pointerdown."+g+" MSPointerDown."+g+" mouseup."+g+" touchend."+g+" pointerup."+g+" MSPointerUp."+g+" mouseout."+g+" pointerout."+g+" MSPointerOut."+g+" click."+g,function(e){function g(b,c){f.scrollAmount=d.snapAmount||d.scrollButtons.scrollAmount,n._sequentialScroll.call(this,a,b,c)}if(e.preventDefault(),n._mouseBtnLeft(e)){var h=c(this).attr("class");switch(f.type=d.scrollButtons.scrollType,e.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===f.type)return;l=!0,b.tweenRunning=!1,g("on",h);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===f.type)return;l=!1,f.dir&&g("off",h);break;case"click":if("stepped"!==f.type||b.tweenRunning)return;g("on",h)}}})},_keyboard:function(){var a=c(this),d=a.data(e),f=d.opt,g=d.sequential,h=e+"_"+d.idx,i=c("#mCSB_"+d.idx),j=c("#mCSB_"+d.idx+"_container"),k=j.parent(),l="input,textarea,select,datalist,keygen,[contenteditable='true']";i.attr("tabindex","0").bind("blur."+h+" keydown."+h+" keyup."+h,function(e){function h(b,c){g.type=f.keyboard.scrollType,g.scrollAmount=f.snapAmount||f.keyboard.scrollAmount,"stepped"===g.type&&d.tweenRunning||n._sequentialScroll.call(this,a,b,c)}switch(e.type){case"blur":d.tweenRunning&&g.dir&&h("off",null);break;case"keydown":case"keyup":var i=e.keyCode?e.keyCode:e.which,m="on";if("x"!==f.axis&&(38===i||40===i)||"y"!==f.axis&&(37===i||39===i)){if((38===i||40===i)&&!d.overflowed[0]||(37===i||39===i)&&!d.overflowed[1])return;"keyup"===e.type&&(m="off"),c(b.activeElement).is(l)||(e.preventDefault(),e.stopImmediatePropagation(),h(m,i))}else if(33===i||34===i){if((d.overflowed[0]||d.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){n._stop(a);var o=34===i?-1:1;if("x"===f.axis||"yx"===f.axis&&d.overflowed[1]&&!d.overflowed[0])var p="x",q=Math.abs(j[0].offsetLeft)-o*(.9*k.width());else var p="y",q=Math.abs(j[0].offsetTop)-o*(.9*k.height());n._scrollTo(a,q.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}else if((35===i||36===i)&&!c(b.activeElement).is(l)&&((d.overflowed[0]||d.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===f.axis||"yx"===f.axis&&d.overflowed[1]&&!d.overflowed[0])var p="x",q=35===i?Math.abs(k.width()-j.outerWidth(!1)):0;else var p="y",q=35===i?Math.abs(k.height()-j.outerHeight(!1)):0;n._scrollTo(a,q.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}})},_sequentialScroll:function(a,b,d){function f(b){var c="stepped"!==j.type,d=b?c?i.scrollInertia/1.5:i.scrollInertia:1e3/60,e=b?c?7.5:40:2.5,g=[Math.abs(k[0].offsetTop),Math.abs(k[0].offsetLeft)],l=[h.scrollRatio.y>10?10:h.scrollRatio.y,h.scrollRatio.x>10?10:h.scrollRatio.x],m="x"===j.dir[0]?g[1]+j.dir[1]*(l[1]*e):g[0]+j.dir[1]*(l[0]*e),o="x"===j.dir[0]?g[1]+j.dir[1]*parseInt(j.scrollAmount):g[0]+j.dir[1]*parseInt(j.scrollAmount),p="auto"!==j.scrollAmount?o:m,q=b?c?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",r=!!b;return b&&d<17&&(p="x"===j.dir[0]?g[1]:g[0]),n._scrollTo(a,p.toString(),{dir:j.dir[0],scrollEasing:q,dur:d,onComplete:r}),b?void(j.dir=!1):(clearTimeout(j.step),void(j.step=setTimeout(function(){f()},d)))}function g(){clearTimeout(j.step),n._stop(a)}var h=a.data(e),i=h.opt,j=h.sequential,k=c("#mCSB_"+h.idx+"_container"),l="stepped"===j.type;switch(b){case"on":if(j.dir=["mCSB_buttonRight"===d||"mCSB_buttonLeft"===d||39===d||37===d?"x":"y","mCSB_buttonUp"===d||"mCSB_buttonLeft"===d||38===d||37===d?-1:1],n._stop(a),n._isNumeric(d)&&"stepped"===j.type)return;f(l);break;case"off":g(),(l||h.tweenRunning&&j.dir)&&f(!0)}},_arr:function(a){var b=c(this).data(e).opt,d=[];return"function"==typeof a&&(a=a()),a instanceof Array?d=a.length>1?[a[0],a[1]]:"x"===b.axis?[null,a[0]]:[a[0],null]:(d[0]=a.y?a.y:a.x||"x"===b.axis?null:a,d[1]=a.x?a.x:a.y||"y"===b.axis?null:a),"function"==typeof d[0]&&(d[0]=d[0]()),"function"==typeof d[1]&&(d[1]=d[1]()),d},_to:function(a,b){if(null!=a&&"undefined"!=typeof a){var d=c(this),f=d.data(e),g=f.opt,h=c("#mCSB_"+f.idx+"_container"),i=h.parent(),j=typeof a;b||(b="x"===g.axis?"x":"y");var k="x"===b?h.outerWidth(!1):h.outerHeight(!1),l="x"===b?h.offset().left:h.offset().top,o="x"===b?h[0].offsetLeft:h[0].offsetTop,p="x"===b?"left":"top";switch(j){case"function":return a();case"object":if(a.nodeType)var q="x"===b?c(a).offset().left:c(a).offset().top;else if(a.jquery){if(!a.length)return;var q="x"===b?a.offset().left:a.offset().top}return q-l;case"string":case"number":if(n._isNumeric.call(null,a))return Math.abs(a);if(a.indexOf("%")!==-1)return Math.abs(k*parseInt(a)/100);if(a.indexOf("-=")!==-1)return Math.abs(o-parseInt(a.split("-=")[1]));if(a.indexOf("+=")!==-1){var r=o+parseInt(a.split("+=")[1]);return r>=0?0:Math.abs(r)}if(a.indexOf("px")!==-1&&n._isNumeric.call(null,a.split("px")[0]))return Math.abs(a.split("px")[0]);if("top"===a||"left"===a)return 0;if("bottom"===a)return Math.abs(i.height()-h.outerHeight(!1));if("right"===a)return Math.abs(i.width()-h.outerWidth(!1));if("first"===a||"last"===a){var s=h.find(":"+a),q="x"===b?c(s).offset().left:c(s).offset().top;return q-l}if(c(a).length){var q="x"===b?c(a).offset().left:c(a).offset().top;return q-l}return h.css(p,a),void m.update.call(null,d[0])}}},_autoUpdate:function(a){function b(){clearTimeout(l[0].autoUpdate),l[0].autoUpdate=setTimeout(function(){return k.advanced.updateOnSelectorChange&&(o=g(),o!==u)?(h(),void(u=o)):(k.advanced.updateOnContentResize&&(p=[l.outerHeight(!1),l.outerWidth(!1),r.height(),r.width(),t()[0],t()[1]],p[0]===v[0]&&p[1]===v[1]&&p[2]===v[2]&&p[3]===v[3]&&p[4]===v[4]&&p[5]===v[5]||(h(),v=p)),k.advanced.updateOnImageLoad&&(q=d(),q!==w&&(l.find("img").each(function(){f(this.src)}),w=q)),void((k.advanced.updateOnSelectorChange||k.advanced.updateOnContentResize||k.advanced.updateOnImageLoad)&&b()))},60)}function d(){var a=0;return k.advanced.updateOnImageLoad&&(a=l.find("img").length),a}function f(a){function b(a,b){return function(){return b.apply(a,arguments)}}function c(){this.onload=null,h()}var d=new Image;d.onload=b(d,c),d.src=a}function g(){k.advanced.updateOnSelectorChange===!0&&(k.advanced.updateOnSelectorChange="*");var a=0,b=l.find(k.advanced.updateOnSelectorChange);return k.advanced.updateOnSelectorChange&&b.length>0&&b.each(function(){a+=c(this).height()+c(this).width()}),a}function h(){clearTimeout(l[0].autoUpdate),m.update.call(null,i[0])}var i=c(this),j=i.data(e),k=j.opt,l=c("#mCSB_"+j.idx+"_container");if(a)return clearTimeout(l[0].autoUpdate),void n._delete.call(null,l[0].autoUpdate);var o,p,q,r=l.parent(),s=[c("#mCSB_"+j.idx+"_scrollbar_vertical"),c("#mCSB_"+j.idx+"_scrollbar_horizontal")],t=function(){return[s[0].is(":visible")?s[0].outerHeight(!0):0,s[1].is(":visible")?s[1].outerWidth(!0):0]},u=g(),v=[l.outerHeight(!1),l.outerWidth(!1),r.height(),r.width(),t()[0],t()[1]],w=d();b()},_snapAmount:function(a,b,c){return Math.round(a/b)*b-c},_stop:function(a){var b=a.data(e),d=c("#mCSB_"+b.idx+"_container,#mCSB_"+b.idx+"_container_wrapper,#mCSB_"+b.idx+"_dragger_vertical,#mCSB_"+b.idx+"_dragger_horizontal");d.each(function(){n._stopTween.call(this)})},_scrollTo:function(a,b,d){function f(a){return i&&j.callbacks[a]&&"function"==typeof j.callbacks[a]}function g(){return[j.callbacks.alwaysTriggerOffsets||t>=u[0]+w,j.callbacks.alwaysTriggerOffsets||t<=-x]}function h(){var b=[o[0].offsetTop,o[0].offsetLeft],c=[r[0].offsetTop,r[0].offsetLeft],e=[o.outerHeight(!1),o.outerWidth(!1)],f=[m.height(),m.width()];a[0].mcs={content:o,top:b[0],left:b[1],draggerTop:c[0],draggerLeft:c[1],topPct:Math.round(100*Math.abs(b[0])/(Math.abs(e[0])-f[0])),leftPct:Math.round(100*Math.abs(b[1])/(Math.abs(e[1])-f[1])),direction:d.dir}}var i=a.data(e),j=i.opt,k={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:j.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},d=c.extend(k,d),l=[d.dur,d.drag?0:d.dur],m=c("#mCSB_"+i.idx),o=c("#mCSB_"+i.idx+"_container"),p=j.callbacks.onTotalScrollOffset?n._arr.call(a,j.callbacks.onTotalScrollOffset):[0,0],q=j.callbacks.onTotalScrollBackOffset?n._arr.call(a,j.callbacks.onTotalScrollBackOffset):[0,0];switch(i.trigger=d.trigger,j.snapAmount&&(b=n._snapAmount(b,j.snapAmount,j.snapOffset)),d.dir){case"x":var r=c("#mCSB_"+i.idx+"_dragger_horizontal"),s="left",t=o[0].offsetLeft,u=[m.width()-o.outerWidth(!1),r.parent().width()-r.width()],v=[b,b/i.scrollRatio.x],w=p[1],x=q[1],y=w>0?w/i.scrollRatio.x:0,z=x>0?x/i.scrollRatio.x:0;
break;case"y":var r=c("#mCSB_"+i.idx+"_dragger_vertical"),s="top",t=o[0].offsetTop,u=[m.height()-o.outerHeight(!1),r.parent().height()-r.height()],v=[b,b/i.scrollRatio.y],w=p[0],x=q[0],y=w>0?w/i.scrollRatio.y:0,z=x>0?x/i.scrollRatio.y:0}v[1]<0?v=[0,0]:v[1]>=u[1]?v=[u[0],u[1]]:v[0]=-v[0],clearTimeout(o[0].onCompleteTimeout),!i.tweenRunning&&(0===t&&v[0]>=0||t===u[0]&&v[0]<=u[0])||(n._tweenTo.call(null,r[0],s,Math.round(v[1]),l[1],d.scrollEasing),n._tweenTo.call(null,o[0],s,Math.round(v[0]),l[0],d.scrollEasing,d.overwrite,{onStart:function(){d.callbacks&&d.onStart&&!i.tweenRunning&&(f("onScrollStart")&&(h(),j.callbacks.onScrollStart.call(a[0])),i.tweenRunning=!0,n._onDragClasses(r),i.cbOffsets=g())},onUpdate:function(){d.callbacks&&d.onUpdate&&f("whileScrolling")&&(h(),j.callbacks.whileScrolling.call(a[0]))},onComplete:function(){if(d.callbacks&&d.onComplete){"yx"===j.axis&&clearTimeout(o[0].onCompleteTimeout);var b=o[0].idleTimer||0;o[0].onCompleteTimeout=setTimeout(function(){f("onScroll")&&(h(),j.callbacks.onScroll.call(a[0])),f("onTotalScroll")&&v[1]>=u[1]-y&&i.cbOffsets[0]&&(h(),j.callbacks.onTotalScroll.call(a[0])),f("onTotalScrollBack")&&v[1]<=z&&i.cbOffsets[1]&&(h(),j.callbacks.onTotalScrollBack.call(a[0])),i.tweenRunning=!1,o[0].idleTimer=0,n._onDragClasses(r,"hide")},b)}}}))},_tweenTo:function(b,c,d,e,f,g,h){function i(){b._mcsstop||(t||p.call(),t=n._getTime()-s,j(),t>=b._mcstime&&(b._mcstime=t>b._mcstime?t+o-(t-b._mcstime):t+o-1,b._mcstime<t+1&&(b._mcstime=t+1)),b._mcstime<e?b._mcsid=_request(i):r.call())}function j(){e>0?(b._mcscurrVal=m(b._mcstime,u,w,e,f),v[c]=Math.round(b._mcscurrVal)+"px"):v[c]=d+"px",q.call()}function k(){o=1e3/60,b._mcstime=t+o,_request=a.requestAnimationFrame?a.requestAnimationFrame:function(a){return j(),setTimeout(a,.01)},b._mcsid=_request(i)}function l(){null!=b._mcsid&&(a.requestAnimationFrame?a.cancelAnimationFrame(b._mcsid):clearTimeout(b._mcsid),b._mcsid=null)}function m(a,b,c,d,e){switch(e){case"linear":case"mcsLinear":return c*a/d+b;case"mcsLinearOut":return a/=d,a--,c*Math.sqrt(1-a*a)+b;case"easeInOutSmooth":return a/=d/2,a<1?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b);case"easeInOutStrong":return a/=d/2,a<1?c/2*Math.pow(2,10*(a-1))+b:(a--,c/2*(-Math.pow(2,-10*a)+2)+b);case"easeInOut":case"mcsEaseInOut":return a/=d/2,a<1?c/2*a*a*a+b:(a-=2,c/2*(a*a*a+2)+b);case"easeOutSmooth":return a/=d,a--,-c*(a*a*a*a-1)+b;case"easeOutStrong":return c*(-Math.pow(2,-10*a/d)+1)+b;case"easeOut":case"mcsEaseOut":default:var f=(a/=d)*a,g=f*a;return b+c*(.499999999999997*g*f+-2.5*f*f+5.5*g+-6.5*f+4*a)}}var o,h=h||{},p=h.onStart||function(){},q=h.onUpdate||function(){},r=h.onComplete||function(){},s=n._getTime(),t=0,u=b.offsetTop,v=b.style;"left"===c&&(u=b.offsetLeft);var w=d-u;b._mcsstop=0,"none"!==g&&l(),k()},_getTime:function(){return a.performance&&a.performance.now?a.performance.now():a.performance&&a.performance.webkitNow?a.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},_stopTween:function(){var b=this;null!=b._mcsid&&(a.requestAnimationFrame?a.cancelAnimationFrame(b._mcsid):clearTimeout(b._mcsid),b._mcsid=null,b._mcsstop=1)},_delete:function(a){try{delete a}catch(b){a=null}},_mouseBtnLeft:function(a){return!(a.which&&1!==a.which)},_pointerTouch:function(a){var b=a.originalEvent.pointerType;return!(b&&"touch"!==b&&2!==b)},_isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)}};c.fn[d]=function(a){return m[a]?m[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void c.error("Method "+a+" does not exist"):m.init.apply(this,arguments)},c[d]=function(a){return m[a]?m[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void c.error("Method "+a+" does not exist"):m.init.apply(this,arguments)},c[d].defaults=g,a[d]=!0,c(a).load(function(){c(f)[d]()})})}(window,document),!function(a){var b="selectric",c=function(a){var b,c="40-46 50-53 54-57 62-70 71-74 61 47 77".replace(/\d+/g,"\\3$&").split(" ");for(b in c){if(!c.hasOwnProperty(b))return;a=a.toLowerCase().replace(RegExp("["+c[b]+"]","g"),"aeiouncy".charAt(b))}return a},d=function(a){var b=arguments;return(""+a).replace(/{(\d+|(\w+))}/g,function(a,c,d){return d&&b[1]?b[1][d]:b[c]})},e=function(e,f){function g(){function e(a){/^(9|13|27)$/.test(a.keyCode||a.which)&&(a.stopPropagation(),l(x,!0))}var g=D.children();_$li="<ul>",selectedIndex=g.filter(":"+R).index(),y=x=~selectedIndex?selectedIndex:0,(C=g.length)&&(g.each(function(b){var e=a(this),g=e.html(),h=e.prop("disabled"),i=f.optionsItemBuilder;I[b]={value:e.val(),text:g,slug:c(g),disabled:h},_$li+=d('<li class="{1}">{2}</li>',a.trim([b==y?R:"",b==C-1?"last":"",h?"disabled":""].join(" ")),a.isFunction(i)?i(I[b],e,b):d(i,I[b]))}),G.html(_$li+"</ul>"),J.html(I[y].text)),F.add(D).off(K),H.data(b,!0).prop("class",[s[6],D.prop("class"),P,f.responsive?s[8]:""].join(" ")),D.prop("disabled")?E.prop("disabled",!0):(H.removeClass(P).hover(function(){a(this).toggleClass(s[7])}),f.openOnHover&&F.on("mouseenter"+K,i),F.on(N,function(a){u?k():i(a)}),E.prop("disabled",!1).off().on({keypress:e,keydown:function(a){e(a),clearTimeout(w),w=setTimeout(function(){E.val("")},f.keySearchTimeout);var b=a.keyCode||a.which;b>36&&41>b&&l(39>b?o():n())},focusin:function(a){E.one("blur",function(){E.blur()}),u||i(a)}}).on(S,function(){E.val().length&&a.each(I,function(a,b){return RegExp("^"+E.val(),"i").test(b.slug)&&!b.disabled?(l(a),!1):void 0})}),v=a("li",G.removeAttr("style")).click(function(){return l(a(this).index(),!0),!1}))}function h(){var a=G.closest(":visible").children(":hidden"),b=f.maxHeight;a.addClass(Q);var c=G.outerWidth(),d=F.outerWidth()-(c-G.width());!f.expandToItemText||d>c?B=d:(G.css("overflow","scroll"),H.width(9e4),B=G.width(),G.css("overflow",""),H.width("")),G.width(B).height()>b&&G.height(b),a.removeClass(Q)}function i(b){b.preventDefault(),b.stopPropagation(),h(),a("."+O).removeClass(O),u=!0,z=G.outerHeight(),E.val("").is(":focus")||E.focus(),L.on(N,k).on("scroll"+K,j),j(),f.openOnHover&&(clearTimeout(A),H.one("mouseleave"+K,function(){A=setTimeout(k,500)})),H.addClass(O),m(x),f.onOpen(e)}function j(){h(),G.css("top",H.offset().top+H.outerHeight()+z>M.scrollTop()+M.height()?-z:"")}function k(a){if(!a&&y!=x){var b=I[x].text;D.prop("selectedIndex",y=x).data("value",b).trigger("change",[b,y]),f.onChange(e),J.html(b)}L.off(K),H.removeClass(O),u=!1,f.onClose(e)}function l(a,b){I[x=a].disabled||(v.removeClass(R).eq(a).addClass(R),m(a),b&&k())}function m(a){var b=v.eq(a).outerHeight(),c=v[a].offsetTop,d=G.scrollTop(),e=c+2*b;G.scrollTop(e>d+z?e-z:d>c-b?c-b:d)}function n(a){if(I[a=(x+1)%C].disabled)for(;I[a=(a+1)%C].disabled;);return a}function o(a){if(I[a=(x>0?x:C)-1].disabled)for(;I[a=(a>0?a:C)-1].disabled;);return a}var p,f=a.extend(!0,{onOpen:a.noop,onClose:a.noop,onChange:a.noop,maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:!0,openOnHover:!1,expandToItemText:!1,responsive:!1,customClass:{prefix:"selectric",postfixes:"Input Items Open Disabled TempShow HideSelect Wrapper Hover Responsive",camelCase:!0},optionsItemBuilder:"{text}"},f),q=f.customClass,r=q.postfixes.split(" "),s=[];if(!f.disableOnMobile||!/android|ip(hone|od|ad)/i.test(navigator.userAgent)){for(;p=r.shift();){var t=q.prefix+p;s.push(q.camelCase?t:t.replace(/([A-Z])/g,"-$&").toLowerCase())}var u,v,w,x,y,z,A,B,C,D=a(e),E=a('<input type="text" class="'+s[0]+'"/>'),F=a('<div class="'+q.prefix+'"><p class="label"/>'+f.arrowButtonMarkup+"</div>"),G=a('<div class="'+s[1]+'" tabindex="-1"></div>'),H=D.data(b,!0).wrap("<div>").parent().append(F.add(G).add(E)),I=[],J=a(".label",F),K=".sl",L=a(document),M=a(window),N="click"+K,O=s[2],P=s[3],Q=s[4],R="selected",S="oninput"in E[0]?"input":"keyup";D.wrap('<div class="'+s[5]+'">'),g(),D.on({refresh:g,destroy:function(){G.add(F).add(E).remove(),D.removeData(b).removeData("value").off(K+" refresh destroy open close").unwrap().unwrap()},open:i,close:k})}};a.fn[b]=function(c,d){return this.each(function(){a(this).data(b)?""+c===c&&a(this).trigger(c):e(this,c||d)})}}(jQuery),function(a,b){"use strict";function c(a){var b=Array.prototype.slice.call(arguments,1);return a.prop?a.prop.apply(a,b):a.attr.apply(a,b)}function d(a,b,c){var d,e;for(d in c)c.hasOwnProperty(d)&&(e=d.replace(/ |$/g,b.eventNamespace),a.bind(e,c[d]))}function e(a,b,c){d(a,c,{focus:function(){b.addClass(c.focusClass)},blur:function(){b.removeClass(c.focusClass),b.removeClass(c.activeClass)},mouseenter:function(){b.addClass(c.hoverClass)},mouseleave:function(){b.removeClass(c.hoverClass),b.removeClass(c.activeClass)},"mousedown touchbegin":function(){a.is(":disabled")||b.addClass(c.activeClass)},"mouseup touchend":function(){b.removeClass(c.activeClass)}})}function f(a,b){a.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass)}function g(a,b,c){c?a.addClass(b):a.removeClass(b)}function h(a,b,c){var d="checked",e=b.is(":"+d);b.prop?b.prop(d,e):e?b.attr(d,d):b.removeAttr(d),g(a,c.checkedClass,e)}function i(a,b,c){g(a,c.disabledClass,b.is(":disabled"))}function j(a,b,c){switch(c){case"after":return a.after(b),a.next();case"before":return a.before(b),a.prev();case"wrap":return a.wrap(b),a.parent()}return null}function k(b,d,e){var f,g,h;return e||(e={}),e=a.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},e),f=a("<div />"),g=a("<span />"),d.autoHide&&b.is(":hidden")&&"none"===b.css("display")&&f.hide(),e.divClass&&f.addClass(e.divClass),d.wrapperClass&&f.addClass(d.wrapperClass),e.spanClass&&g.addClass(e.spanClass),h=c(b,"id"),d.useID&&h&&c(f,"id",d.idPrefix+"-"+h),e.spanHtml&&g.html(e.spanHtml),f=j(b,f,e.divWrap),g=j(b,g,e.spanWrap),i(f,b,d),{div:f,span:g}}function l(b,c){var d;return c.wrapperClass?(d=a("<span />").addClass(c.wrapperClass),d=j(b,d,"wrap")):null}function m(){var b,c,d,e;return e="rgb(120,2,153)",c=a('<div style="width:0;height:0;color:'+e+'">'),a("body").append(c),d=c.get(0),b=window.getComputedStyle?window.getComputedStyle(d,"").color:(d.currentStyle||d.style||{}).color,c.remove(),b.replace(/ /g,"")!==e}function n(b){return b?a("<span />").text(b).html():""}function o(){return navigator.cpuClass&&!navigator.product}function p(){return void 0!==window.XMLHttpRequest}function q(a){var b;return!!a[0].multiple||(b=c(a,"size"),!(!b||1>=b))}function r(){return!1}function s(a,b){var c="none";d(a,b,{"selectstart dragstart mousedown":r}),a.css({MozUserSelect:c,msUserSelect:c,webkitUserSelect:c,userSelect:c})}function t(a,b,c){var d=a.val();""===d?d=c.fileDefaultHtml:(d=d.split(/[\/\\]+/),d=d[d.length-1]),b.text(d)}function u(a,b,c){var d,e;for(d=[],a.each(function(){var a;for(a in b)Object.prototype.hasOwnProperty.call(b,a)&&(d.push({el:this,name:a,old:this.style[a]}),this.style[a]=b[a])}),c();d.length;)e=d.pop(),e.el.style[e.name]=e.old}function v(a,b){var c;c=a.parents(),c.push(a[0]),c=c.not(":visible"),u(c,{visibility:"hidden",display:"block",position:"absolute"},b)}function w(a,b){return function(){a.unwrap().unwrap().unbind(b.eventNamespace)}}var x=!0,y=!1,z=[{match:function(a){return a.is("a, button, :submit, :reset, input[type='button']")},apply:function(a,b){var g,h,j,l,m;return h=b.submitDefaultHtml,a.is(":reset")&&(h=b.resetDefaultHtml),l=a.is("a, button")?function(){return a.html()||h}:function(){return n(c(a,"value"))||h},j=k(a,b,{divClass:b.buttonClass,spanHtml:l()}),g=j.div,e(a,g,b),m=!1,d(g,b,{"click touchend":function(){var b,d,e,f;m||a.is(":disabled")||(m=!0,a[0].dispatchEvent?(b=document.createEvent("MouseEvents"),b.initEvent("click",!0,!0),d=a[0].dispatchEvent(b),a.is("a")&&d&&(e=c(a,"target"),f=c(a,"href"),e&&"_self"!==e?window.open(f,e):document.location.href=f)):a.click(),m=!1)}}),s(g,b),{remove:function(){return g.after(a),g.remove(),a.unbind(b.eventNamespace),a},update:function(){f(g,b),i(g,a,b),a.detach(),j.span.html(l()).append(a)}}}},{match:function(a){return a.is(":checkbox")},apply:function(a,b){var c,g,j;return c=k(a,b,{divClass:b.checkboxClass}),g=c.div,j=c.span,e(a,g,b),d(a,b,{"click touchend":function(){h(j,a,b)}}),h(j,a,b),{remove:w(a,b),update:function(){f(g,b),j.removeClass(b.checkedClass),h(j,a,b),i(g,a,b)}}}},{match:function(a){return a.is(":file")},apply:function(b,g){function h(){t(b,n,g)}var l,m,n,p;return l=k(b,g,{divClass:g.fileClass,spanClass:g.fileButtonClass,spanHtml:g.fileButtonHtml,spanWrap:"after"}),m=l.div,p=l.span,n=a("<span />").html(g.fileDefaultHtml),n.addClass(g.filenameClass),n=j(b,n,"after"),c(b,"size")||c(b,"size",m.width()/10),e(b,m,g),h(),o()?d(b,g,{click:function(){b.trigger("change"),setTimeout(h,0)}}):d(b,g,{change:h}),s(n,g),s(p,g),{remove:function(){return n.remove(),p.remove(),b.unwrap().unbind(g.eventNamespace)},update:function(){f(m,g),t(b,n,g),i(m,b,g)}}}},{match:function(a){if(a.is("input")){var b=(" "+c(a,"type")+" ").toLowerCase(),d=" color date datetime datetime-local email month number password search tel text time url week ";return d.indexOf(b)>=0}return!1},apply:function(a,b){var d,f;return d=c(a,"type"),a.addClass(b.inputClass),f=l(a,b),e(a,a,b),b.inputAddTypeAsClass&&a.addClass(d),{remove:function(){a.removeClass(b.inputClass),b.inputAddTypeAsClass&&a.removeClass(d),f&&a.unwrap()},update:r}}},{match:function(a){return a.is(":radio")},apply:function(b,g){var j,l,m;return j=k(b,g,{divClass:g.radioClass}),l=j.div,m=j.span,e(b,l,g),d(b,g,{"click touchend":function(){a.uniform.update(a(':radio[name="'+c(b,"name")+'"]'))}}),h(m,b,g),{remove:w(b,g),update:function(){f(l,g),h(m,b,g),i(l,b,g)}}}},{match:function(a){return!(!a.is("select")||q(a))},apply:function(b,c){var g,h,j,l;return c.selectAutoWidth&&v(b,function(){l=b.width()}),g=k(b,c,{divClass:c.selectClass,spanHtml:(b.find(":selected:first")||b.find("option:first")).html(),spanWrap:"before"}),h=g.div,j=g.span,c.selectAutoWidth?v(b,function(){u(a([j[0],h[0]]),{display:"block"},function(){var a;a=j.outerWidth()-j.width(),h.width(l+a),j.width(l)})}):h.addClass("fixedWidth"),e(b,h,c),d(b,c,{change:function(){j.html(b.find(":selected").html()),h.removeClass(c.activeClass)},"click touchend":function(){var a=b.find(":selected").html();j.html()!==a&&b.trigger("change")},keyup:function(){j.html(b.find(":selected").html())}}),s(j,c),{remove:function(){return j.remove(),b.unwrap().unbind(c.eventNamespace),b},update:function(){c.selectAutoWidth?(a.uniform.restore(b),b.uniform(c)):(f(h,c),j.html(b.find(":selected").html()),i(h,b,c))}}}},{match:function(a){return!(!a.is("select")||!q(a))},apply:function(a,b){var c;return a.addClass(b.selectMultiClass),c=l(a,b),e(a,a,b),{remove:function(){a.removeClass(b.selectMultiClass),c&&a.unwrap()},update:r}}},{match:function(a){return a.is("textarea")},apply:function(a,b){var c;return a.addClass(b.textareaClass),c=l(a,b),e(a,a,b),{remove:function(){a.removeClass(b.textareaClass),c&&a.unwrap()},update:r}}}];o()&&!p()&&(x=!1),a.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:!0,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0,wrapperClass:null},elements:[]},a.fn.uniform=function(b){var c=this;return b=a.extend({},a.uniform.defaults,b),y||(y=!0,m()&&(x=!1)),x?(b.resetSelector&&a(b.resetSelector).mouseup(function(){window.setTimeout(function(){a.uniform.update(c)},10)}),this.each(function(){var c,d,e,f=a(this);if(f.data("uniformed"))return void a.uniform.update(f);for(c=0;z.length>c;c+=1)if(d=z[c],d.match(f,b))return e=d.apply(f,b),f.data("uniformed",e),void a.uniform.elements.push(f.get(0))})):this},a.uniform.restore=a.fn.uniform.restore=function(c){c===b&&(c=a.uniform.elements),a(c).each(function(){var b,c,d=a(this);c=d.data("uniformed"),c&&(c.remove(),b=a.inArray(this,a.uniform.elements),b>=0&&a.uniform.elements.splice(b,1),d.removeData("uniformed"))})},a.uniform.update=a.fn.uniform.update=function(c){c===b&&(c=a.uniform.elements),a(c).each(function(){var b,c=a(this);b=c.data("uniformed"),b&&b.update(c,b.options)})}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console);var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.on("click.validate",":submit",function(b){c.submitButton=b.currentTarget,a(this).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(this).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.on("submit.validate",function(b){function d(){var d,e;return c.submitButton&&(c.settings.submitHandler||c.formSubmitted)&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),!c.settings.submitHandler||(e=c.settings.submitHandler.call(c,c.currentForm,b),d&&d.remove(),void 0!==e&&e)}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c,d;return a(this[0]).is("form")?b=this.validate().form():(d=[],b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b,b||(d=d.concat(c.errorList))}),c.errorList=d),b},rules:function(b,c){var d,e,f,g,h,i,j=this[0];if(null!=j&&(!j.form&&j.hasAttribute("contenteditable")&&(j.form=this.closest("form")[0],j.name=this.attr("name")),null!=j.form)){if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(a,b){i[b]=f[b],delete f[b]}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g)),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}}),a.extend(a.expr.pseudos||a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){var c=a(b).val();return null!==c&&!!a.trim(""+c)},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:void 0===c?b:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(b,c){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&""===this.elementValue(b)||a.inArray(c.keyCode,d)!==-1||(b.name in this.submitted||b.name in this.invalid)&&this.element(b)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}."),step:a.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){!this.form&&this.hasAttribute("contenteditable")&&(this.form=a(this).closest("form")[0],this.name=a(this).attr("name"));var c=a.data(this.form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!a(this).is(e.ignore)&&e[d].call(c,this,b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",b).on("click.validate","select, option, [type='radio'], [type='checkbox']",b),this.settings.invalidHandler&&a(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c,d,e=this.clean(b),f=this.validationTargetFor(e),g=this,h=!0;return void 0===f?delete this.invalid[e.name]:(this.prepareElement(f),this.currentElements=a(f),d=this.groups[f.name],d&&a.each(this.groups,function(a,b){b===d&&a!==f.name&&(e=g.validationTargetFor(g.clean(g.findByName(a))),e&&e.name in g.invalid&&(g.currentElements.push(e),h=g.check(e)&&h))}),c=this.check(f)!==!1,h=h&&c,c?this.invalid[f.name]=!1:this.invalid[f.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a(b).attr("aria-invalid",!c)),h},showErrors:function(b){if(b){var c=this;a.extend(this.errorMap,b),this.errorList=a.map(this.errorMap,function(a,b){return{message:a,element:c.findByName(b)[0]}}),this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var b=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(b)},resetElements:function(a){var b;if(this.settings.unhighlight)for(b=0;a[b];b++)this.settings.unhighlight.call(this,a[b],this.settings.errorClass,""),this.findByName(a[b].name).removeClass(this.settings.validClass);else a.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)void 0!==a[b]&&null!==a[b]&&a[b]!==!1&&c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var d=this.name||a(this).attr("name");return!d&&b.settings.debug&&window.console,this.hasAttribute("contenteditable")&&(this.form=a(this).closest("form")[0],this.name=d),!(d in c||!b.objectLength(a(this).rules()))&&(c[d]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([])},reset:function(){this.resetInternals(),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d,e=a(b),f=b.type;return"radio"===f||"checkbox"===f?this.findByName(b.name).filter(":checked").val():"number"===f&&"undefined"!=typeof b.validity?b.validity.badInput?"NaN":e.val():(c=b.hasAttribute("contenteditable")?e.text():e.val(),"file"===f?"C:\\fakepath\\"===c.substr(0,12)?c.substr(12):(d=c.lastIndexOf("/"),d>=0?c.substr(d+1):(d=c.lastIndexOf("\\"),d>=0?c.substr(d+1):c)):"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f,g=a(b).rules(),h=a.map(g,function(a,b){return b}).length,i=!1,j=this.elementValue(b);if("function"==typeof g.normalizer?f=g.normalizer:"function"==typeof this.settings.normalizer&&(f=this.settings.normalizer),f){if(j=f.call(b,j),"string"!=typeof j)throw new TypeError("The normalizer should return a string value.");delete g.normalizer}for(d in g){e={method:d,parameters:g[d]};try{if(c=a.validator.methods[d].call(this,j,b,e.parameters),"dependency-mismatch"===c&&1===h){i=!0;continue}if(i=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(k){throw this.settings.debug&&window.console,k instanceof TypeError&&(k.message+=".  Exception occurred when checking element "+b.id+", check the '"+e.method+"' method."),k}}if(!i)return this.objectLength(g)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){"string"==typeof c&&(c={method:c});var d=this.findDefined(this.customMessage(b.name,c.method),this.customDataMessage(b,c.method),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c.method],"<strong>Warning: No message defined for "+b.name+"</strong>"),e=/\$?\{(\d+)\}/g;return"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),d},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b);this.errorList.push({message:c,element:a,method:b.method}),this.errorMap[a.name]=c,this.submitted[a.name]=c},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g,h=this.errorsFor(b),i=this.idOrName(b),j=a(b).attr("aria-describedby");h.length?(h.removeClass(this.settings.validClass).addClass(this.settings.errorClass),h.html(c)):(h=a("<"+this.settings.errorElement+">").attr("id",i+"-error").addClass(this.settings.errorClass).html(c||""),d=h,this.settings.wrapper&&(d=h.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement.call(this,d,a(b)):d.insertAfter(b),h.is("label")?h.attr("for",i):0===h.parents("label[for='"+this.escapeCssMeta(i)+"']").length&&(f=h.attr("id"),j?j.match(new RegExp("\\b"+this.escapeCssMeta(f)+"\\b"))||(j+=" "+f):j=f,a(b).attr("aria-describedby",j),e=this.groups[b.name],e&&(g=this,a.each(g.groups,function(b,c){c===e&&a("[name='"+g.escapeCssMeta(b)+"']",g.currentForm).attr("aria-describedby",h.attr("id"))})))),!c&&this.settings.success&&(h.text(""),"string"==typeof this.settings.success?h.addClass(this.settings.success):this.settings.success(h,b)),this.toShow=this.toShow.add(h)},errorsFor:function(b){var c=this.escapeCssMeta(this.idOrName(b)),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+this.escapeCssMeta(d).replace(/\s+/g,", #")),this.errors().filter(e)},escapeCssMeta:function(a){return a.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+this.escapeCssMeta(b)+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return!this.dependTypes[typeof a]||this.dependTypes[typeof a](a,b)},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(b){this.pending[b.name]||(this.pendingRequest++,a(b).addClass(this.settings.pendingClass),
this.pending[b.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],a(b).removeClass(this.settings.pendingClass),c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.submitButton&&a("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b,c){return c="string"==typeof c&&c||"remote",a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,{method:c})})},destroy:function(){this.resetForm(),a(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,b,c,d){/min|max|step/.test(c)&&(null===b||/number|range|text/.test(b))&&(d=Number(d),isNaN(d)&&(d=void 0)),d||0===d?a[c]=d:b===c&&"range"!==b&&(a[c]=!0)},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),this.normalizeAttributeRule(e,g,c,d);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),this.normalizeAttributeRule(e,g,c,d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0===e.param||e.param:(a.data(c.form,"validator").resetElements(a(c)),delete b[d])}}),a.each(b,function(d,e){b[d]=a.isFunction(e)&&"normalizer"!==d?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:b.length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e<=d},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},step:function(b,c,d){var e,f=a(c).attr("type"),g="Step attribute on input type "+f+" is not supported.",h=["text","number","range"],i=new RegExp("\\b"+f+"\\b"),j=f&&!i.test(h.join()),k=function(a){var b=(""+a).match(/(?:\.(\d+))?$/);return b&&b[1]?b[1].length:0},l=function(a){return Math.round(a*Math.pow(10,e))},m=!0;if(j)throw new Error(g);return e=k(d),(k(b)>e||l(b)%l(d)!==0)&&(m=!1),this.optional(c)||m},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.not(".validate-equalTo-blur").length&&e.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d,e){if(this.optional(c))return"dependency-mismatch";e="string"==typeof e&&e||"remote";var f,g,h,i=this.previousValue(c,e);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),i.originalMessage=i.originalMessage||this.settings.messages[c.name][e],this.settings.messages[c.name][e]=i.message,d="string"==typeof d&&{url:d}||d,h=a.param(a.extend({data:b},d.data)),i.old===h?i.valid:(i.old=h,f=this,this.startRequest(c),g={},g[c.name]=b,a.ajax(a.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:g,context:f.currentForm,success:function(a){var d,g,h,j=a===!0||"true"===a;f.settings.messages[c.name][e]=i.originalMessage,j?(h=f.formSubmitted,f.resetInternals(),f.toHide=f.errorsFor(c),f.formSubmitted=h,f.successList.push(c),f.invalid[c.name]=!1,f.showErrors()):(d={},g=a||f.defaultMessage(c,{method:e,parameters:b}),d[c.name]=i.message=g,f.invalid[c.name]=!0,f.showErrors(d)),i.valid=j,f.stopRequest(c,j)}},d)),"pending")}}});var b,c={};return a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)}),a}),function(a,b,c){function d(a){return a}function e(a){return decodeURIComponent(a.replace(f," "))}var f=/\+/g,g=a.cookie=function(f,h,i){if(h!==c){if(i=a.extend({},g.defaults,i),null===h&&(i.expires=-1),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setDate(k.getDate()+j)}return h=g.json?JSON.stringify(h):String(h),b.cookie=[encodeURIComponent(f),"=",g.raw?h:encodeURIComponent(h),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=g.raw?d:e,m=b.cookie.split("; "),n=0,o=m.length;n<o;n++){var p=m[n].split("=");if(l(p.shift())===f){var q=l(p.join("="));return g.json?JSON.parse(q):q}}return null};g.defaults={},a.removeCookie=function(b,c){return null!==a.cookie(b)&&(a.cookie(b,null,c),!0)}}(jQuery,document),function(){function a(a){return a.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'"_+=\/\-]*/g,"")}jQuery.validator.addMethod("maxWords",function(b,c,d){return this.optional(c)||d>=a(b).match(/\b\w+\b/g).length},jQuery.validator.format("Please enter {0} words or less.")),jQuery.validator.addMethod("minWords",function(b,c,d){return this.optional(c)||a(b).match(/\b\w+\b/g).length>=d},jQuery.validator.format("Please enter at least {0} words.")),jQuery.validator.addMethod("rangeWords",function(b,c,d){var e=a(b),f=/\b\w+\b/g;return this.optional(c)||e.match(f).length>=d[0]&&e.match(f).length<=d[1]},jQuery.validator.format("Please enter between {0} and {1} words."))}(),jQuery.validator.addMethod("letterswithbasicpunc",function(a,b){return this.optional(b)||/^[a-z\-.,()'"\s]+$/i.test(a)},"Letters or punctuation only please"),jQuery.validator.addMethod("alphanumeric",function(a,b){return this.optional(b)||/^\w+$/i.test(a)},"Letters, numbers, and underscores only please"),jQuery.validator.addMethod("lettersonly",function(a,b){return this.optional(b)||/^[a-z]+$/i.test(a)},"Letters only please"),jQuery.validator.addMethod("nowhitespace",function(a,b){return this.optional(b)||/^\S+$/i.test(a)},"No white space please"),jQuery.validator.addMethod("ziprange",function(a,b){return this.optional(b)||/^90[2-5]\d\{2\}-\d{4}$/.test(a)},"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx"),jQuery.validator.addMethod("zipcodeUS",function(a,b){return this.optional(b)||/\d{5}-\d{4}$|^\d{5}$/.test(a)},"The specified US ZIP Code is invalid"),jQuery.validator.addMethod("integer",function(a,b){return this.optional(b)||/^-?\d+$/.test(a)},"A positive or negative non-decimal number please"),jQuery.validator.addMethod("vinUS",function(a){if(17!==a.length)return!1;var b,c,d,e,f,g,h=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],i=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],j=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],k=0;for(b=0;17>b;b++){if(e=j[b],d=a.slice(b,b+1),8===b&&(g=d),isNaN(d)){for(c=0;h.length>c;c++)if(d.toUpperCase()===h[c]){d=i[c],d*=e,isNaN(g)&&8===c&&(g=h[c]);break}}else d*=e;k+=d}return f=k%11,10===f&&(f="X"),f===g},"The specified vehicle identification number (VIN) is invalid."),jQuery.validator.addMethod("dateITA",function(a,b){var c=!1,d=/^\d{1,2}\/\d{1,2}\/\d{4}$/;if(d.test(a)){var e=a.split("/"),f=parseInt(e[0],10),g=parseInt(e[1],10),h=parseInt(e[2],10),i=new Date(h,g-1,f);c=i.getFullYear()===h&&i.getMonth()===g-1&&i.getDate()===f}else c=!1;return this.optional(b)||c},"Please enter a correct date"),jQuery.validator.addMethod("iban",function(a,b){if(this.optional(b))return!0;if(!/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(a))return!1;var c=a.replace(/ /g,"").toUpperCase(),d=c.substring(0,2),e={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},f=e[d];if(void 0!==f){var g=RegExp("^[A-Z]{2}\\d{2}"+f+"$","");if(!g.test(c))return!1}for(var h,i=c.substring(4,c.length)+c.substring(0,4),j="",k=!0,l=0;i.length>l;l++)h=i.charAt(l),"0"!==h&&(k=!1),k||(j+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(h));for(var m="",n="",o=0;j.length>o;o++){var p=j.charAt(o);n=""+m+p,m=n%97}return 1===m},"Please specify a valid IBAN"),jQuery.validator.addMethod("dateNL",function(a,b){return this.optional(b)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(a)},"Please enter a correct date"),jQuery.validator.addMethod("phoneNL",function(a,b){return this.optional(b)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(a)},"Please specify a valid phone number."),jQuery.validator.addMethod("mobileNL",function(a,b){return this.optional(b)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(a)},"Please specify a valid mobile number"),jQuery.validator.addMethod("postalcodeNL",function(a,b){return this.optional(b)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(a)},"Please specify a valid postal code"),jQuery.validator.addMethod("bankaccountNL",function(a,b){if(this.optional(b))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(a))return!1;for(var c=a.replace(/ /g,""),d=0,e=c.length,f=0;e>f;f++){var g=e-f,h=c.substring(f,f+1);d+=g*h}return 0===d%11},"Please specify a valid bank account number"),jQuery.validator.addMethod("giroaccountNL",function(a,b){return this.optional(b)||/^[0-9]{1,7}$/.test(a)},"Please specify a valid giro account number"),jQuery.validator.addMethod("bankorgiroaccountNL",function(a,b){return this.optional(b)||$.validator.methods.bankaccountNL.call(this,a,b)||$.validator.methods.giroaccountNL.call(this,a,b)},"Please specify a valid bank or giro account number"),jQuery.validator.addMethod("time",function(a,b){return this.optional(b)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(a)},"Please enter a valid time, between 00:00 and 23:59"),jQuery.validator.addMethod("time12h",function(a,b){return this.optional(b)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(a)},"Please enter a valid time in 12-hour am/pm format"),jQuery.validator.addMethod("phoneUS",function(a,b){return a=a.replace(/\s+/g,""),this.optional(b)||a.length>9&&a.match(/^(\+?1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number"),jQuery.validator.addMethod("phoneUK",function(a,b){return a=a.replace(/\(|\)|\s+|-/g,""),this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),jQuery.validator.addMethod("mobileUK",function(a,b){return a=a.replace(/\(|\)|\s+|-/g,""),this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[45789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),jQuery.validator.addMethod("phonesUK",function(a,b){return a=a.replace(/\(|\)|\s+|-/g,""),this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[45789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),jQuery.validator.addMethod("postcodeUK",function(a,b){return this.optional(b)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(a)},"Please specify a valid UK postcode"),jQuery.validator.addMethod("strippedminlength",function(a,b,c){return jQuery(a).text().length>=c},jQuery.validator.format("Please enter at least {0} characters")),jQuery.validator.addMethod("email2",function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(a)},jQuery.validator.messages.email),jQuery.validator.addMethod("url2",function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},jQuery.validator.messages.url),jQuery.validator.addMethod("creditcardtypes",function(a,b,c){if(/[^0-9\-]+/.test(a))return!1;a=a.replace(/\D/g,"");var d=0;return c.mastercard&&(d|=1),c.visa&&(d|=2),c.amex&&(d|=4),c.dinersclub&&(d|=8),c.enroute&&(d|=16),c.discover&&(d|=32),c.jcb&&(d|=64),c.unknown&&(d|=128),c.all&&(d=255),1&d&&/^(5[12345])/.test(a)?16===a.length:2&d&&/^(4)/.test(a)?16===a.length:4&d&&/^(3[47])/.test(a)?15===a.length:8&d&&/^(3(0[012345]|[68]))/.test(a)?14===a.length:16&d&&/^(2(014|149))/.test(a)?15===a.length:32&d&&/^(6011)/.test(a)?16===a.length:64&d&&/^(3)/.test(a)?16===a.length:64&d&&/^(2131|1800)/.test(a)?15===a.length:!!(128&d)},"Please enter a valid credit card number."),jQuery.validator.addMethod("ipv4",function(a,b){return this.optional(b)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(a)},"Please enter a valid IP v4 address."),jQuery.validator.addMethod("ipv6",function(a,b){return this.optional(b)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(a)},"Please enter a valid IP v6 address."),jQuery.validator.addMethod("pattern",function(a,b,c){return!!this.optional(b)||("string"==typeof c&&(c=RegExp("^(?:"+c+")$")),c.test(a))},"Invalid format."),jQuery.validator.addMethod("require_from_group",function(a,b,c){var d=this,e=c[1],f=$(e,b.form).filter(function(){return d.elementValue(this)}).length>=c[0];if(!$(b).data("being_validated")){var g=$(e,b.form);g.data("being_validated",!0),g.valid(),g.data("being_validated",!1)}return f},jQuery.validator.format("Please fill at least {0} of these fields.")),jQuery.validator.addMethod("skip_or_fill_minimum",function(a,b,c){var d=this,e=c[0],f=c[1],g=$(f,b.form).filter(function(){return d.elementValue(this)}).length,h=g>=e||0===g;if(!$(b).data("being_validated")){var i=$(f,b.form);i.data("being_validated",!0),i.valid(),i.data("being_validated",!1)}return h},jQuery.validator.format("Please either skip these fields or fill at least {0} of them.")),jQuery.validator.addMethod("accept",function(a,b,c){var d,e,f="string"==typeof c?c.replace(/\s/g,"").replace(/,/g,"|"):"image/*",g=this.optional(b);if(g)return g;if("file"===$(b).attr("type")&&(f=f.replace(/\*/g,".*"),b.files&&b.files.length))for(d=0;b.files.length>d;d++)if(e=b.files[d],!e.type.match(RegExp(".?("+f+")$","i")))return!1;return!0},jQuery.validator.format("Please enter a value with a valid mimetype.")),jQuery.validator.addMethod("extension",function(a,b,c){return c="string"==typeof c?c.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(b)||a.match(RegExp(".("+c+")$","i"))},jQuery.validator.format("Please enter a value with a valid extension.")),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],b):b(a.jQuery)}(this,function(a){"use strict";function b(a,b){var c=a.data&&a.data[b];return c&&new RegExp("^"+B.escapeRegExChars(c)+"(["+t+"]|$)","i").test(a.value)}function c(a,b){return G.test(b)&&!G.test(a)?b:a}function d(a,b,d,e,f){var g=this,h=g.highlightMatches(a,d,e,f),i=g.highlightMatches(b,d,e,f);return c(h,i)}function e(b,c){var d=this;d.element=b,d.el=a(b),d.suggestions=[],d.badQueries=[],d.selectedIndex=-1,d.currentValue=d.element.value,d.intervalId=0,d.cachedResponse={},d.enrichmentCache={},d.currentRequest=null,d.inputPhase=a.Deferred(),d.fetchPhase=a.Deferred(),d.enrichPhase=a.Deferred(),d.onChangeTimeout=null,d.triggering={},d.$wrapper=null,d.options=a.extend({},C,c),d.classes=q,d.disabled=!1,d.selection=null,d.$viewport=a(window),d.$body=a(document.body),d.type=null,d.status={},d.setupElement(),d.initializer=a.Deferred(),d.el.is(":visible")?d.initializer.resolve():d.deferInitialization(),d.initializer.done(a.proxy(d.initialize,d))}function f(){B.each(N,function(a){a.abort()}),N={}}function g(){P=null,C.geoLocation=Q}function h(b){return a.map(b,function(a){var b=B.escapeHtml(a.text);return b&&a.matched&&(b="<strong>"+b+"</strong>"),b}).join("")}function i(b,c){var d=b.split(", ");return 1===d.length?b:a.map(d,function(a){return'<span class="'+c+'">'+a+"</span>"}).join(", ")}function j(b,c){var d=!1;return a.each(b,function(a,b){if(d=b.value==c.value&&b!=c)return!1}),d}function k(b,c){var d=c.selection,e=d&&d.data&&c.bounds;return e&&a.each(c.bounds.all,function(a,c){return e=d.data[c]===b.data[c]}),e}a=a&&"default"in a?a.default:a;var l={isArray:function(a){return Array.isArray(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isEmptyObject:function(a){return 0===Object.keys(a).length&&a.constructor===Object},isPlainObject:function(a){return void 0!==a&&"object"==typeof a&&null!==a&&!a.nodeType&&a!==a.window&&!(a.constructor&&!Object.prototype.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))}},m={compact:function(a){return a.filter(function(a){return!!a})},each:function(a,b){return Array.isArray(a)?void a.some(function(a,c){return b(a,c)===!1}):void Object.keys(a).some(function(c){var d=a[c];return b(d,c)===!1})},intersect:function(a,b){var c=[];return Array.isArray(a)&&Array.isArray(b)?a.filter(function(a){return b.indexOf(a)!==-1}):c},minus:function(a,b){return b&&0!==b.length?a.filter(function(a){return b.indexOf(a)===-1}):a},makeArray:function(a){return l.isArray(a)?Array.prototype.slice.call(a):[a]},minusWithPartialMatching:function(a,b){return b&&0!==b.length?a.filter(function(a){return!b.some(function(b){return 0===b.indexOf(a)})}):a},slice:function(a,b){return Array.prototype.slice.call(a,b)}},n={delay:function(a,b){return setTimeout(a,b||0)}},o={areSame:function a(b,c){var d=!0;return typeof b==typeof c&&("object"==typeof b&&null!=b&&null!=c?(m.each(b,function(b,e){return d=a(b,c[e])}),d):b===c)},clone:function(a){return JSON.parse(JSON.stringify(a))},compact:function(a){var b=o.clone(a);return m.each(b,function(a,c){null!==a&&void 0!==a&&""!==a||delete b[c]}),b},getDeepValue:function a(b,c){var d=c.split("."),e=d.shift();return b&&(d.length?a(b[e],d.join(".")):b[e])}},p={ENTER:13,ESC:27,TAB:9,SPACE:32,UP:38,DOWN:40},q={hint:"suggestions-hint",mobile:"suggestions-mobile",nowrap:"suggestions-nowrap",promo:"suggestions-promo",selected:"suggestions-selected",suggestion:"suggestions-suggestion",subtext:"suggestions-subtext",subtext_inline:"suggestions-subtext suggestions-subtext_inline",subtext_delimiter:"suggestions-subtext-delimiter",subtext_label:"suggestions-subtext suggestions-subtext_label",removeConstraint:"suggestions-remove",value:"suggestions-value"},r=".suggestions",s="suggestions",t="\\s\"'~\\*\\.,:\\|\\[\\]\\(\\)\\{\\}<>№",u="\\-\\+\\/\\\\\\?!@#$%^&",v=new RegExp("["+t+"]+","g"),w=new RegExp("["+u+"]+","g"),x={escapeHtml:function(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return a&&m.each(b,function(b,c){a=a.replace(new RegExp(c,"g"),b)}),a},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},formatToken:function(a){return a&&a.toLowerCase().replace(/[ёЁ]/g,"е")},getWordExtractorRegExp:function(){return new RegExp("([^"+t+"]*)(["+t+"]*)","g")},normalize:function(a,b){return x.split(a,b).join(" ")},split:function(a,b){a=a.replace(/(\d+)([а-яА-ЯёЁ]{2,})/g,"$1 $2").replace(/([а-яА-ЯёЁ]+)(\d+)/g,"$1 $2");var c=m.compact(a.split(v)),d=c.pop(),e=m.minus(c,b);return e.push(d),e},stringEncloses:function(a,b){return a.length>b.length&&a.indexOf(b)!==-1},tokenize:function(a,b){var c=m.compact(x.formatToken(a).split(v)),d=m.minus(c,b),e=m.minus(c,d);return c=x.withSubTokens(d.concat(e))},withSubTokens:function(a){var b=[];return m.each(a,function(a,c){var d=a.split(w);b.push(a),d.length>1&&(b=b.concat(m.compact(d)))}),b}},y={Deferred:function(){return a.Deferred()},ajax:function(b){return a.ajax(b)},extend:function(){return a.extend.apply(null,arguments)},param:function(b){return a.param(b)},proxy:function(b,c){return a.proxy(b,c)},supportsCors:function(){return a.support.cors}},z={getDefaultType:function(){return y.supportsCors()?"POST":"GET"},getDefaultContentType:function(){return y.supportsCors()?"application/json":"application/x-www-form-urlencoded"},fixURLProtocol:function(a){return y.supportsCors()?a:a.replace(/^https?:/,location.protocol)},addUrlParams:function(a,b){return a+(/\?/.test(a)?"&":"?")+y.param(b)},serialize:function(a){return y.supportsCors()?JSON.stringify(a,function(a,b){return null===b?void 0:b}):(a=o.compact(a),y.param(a,!0))}},A=function(){var a=0;return function(b){return(b||"")+ ++a}}(),B={escapeRegExChars:x.escapeRegExChars,escapeHtml:x.escapeHtml,formatToken:x.formatToken,getTokens:x.tokenize,getWords:x.split,normalize:x.normalize,reWordExtractor:x.getWordExtractorRegExp,stringEncloses:x.stringEncloses,withSubTokens:x.withSubTokens,addUrlParams:z.addUrlParams,getDefaultContentType:z.getDefaultContentType,getDefaultType:z.getDefaultType,fixURLProtocol:z.fixURLProtocol,serialize:z.serialize,arrayMinus:m.minus,arrayMinusWithPartialMatching:m.minusWithPartialMatching,arraysIntersection:m.intersect,compact:m.compact,each:m.each,makeArray:m.makeArray,slice:m.slice,delay:n.delay,areSame:o.areSame,compactObject:o.compact,getDeepValue:o.getDeepValue,isArray:l.isArray,isEmptyObject:l.isEmptyObject,isFunction:l.isFunction,isPlainObject:l.isPlainObject,uniqueId:A,fieldsNotEmpty:function(a,b){if(!l.isPlainObject(a))return!1;var c=!0;return m.each(b,function(b,d){return c=!!a[b]}),c},indexBy:function(a,b,c){var d={};return m.each(a,function(a,e){var f=a[b],g={};c&&(g[c]=e),d[f]=y.extend(!0,g,a)}),d}},C={autoSelectFirst:!1,serviceUrl:"https://suggestions.dadata.ru/suggestions/api/4_1/rs",url:null,onSearchStart:a.noop,onSearchComplete:a.noop,onSearchError:a.noop,onSuggestionsFetch:null,onSelect:null,onSelectNothing:null,onInvalidateSelection:null,minChars:1,deferRequestBy:100,enrichmentEnabled:!0,params:{},paramName:"query",timeout:3e3,formatResult:null,formatSelected:null,noCache:!1,containerClass:"suggestions-suggestions",tabDisabled:!1,triggerSelectOnSpace:!1,triggerSelectOnEnter:!0,triggerSelectOnBlur:!0,preventBadQueries:!1,hint:"Выберите вариант или продолжите ввод",noSuggestionsHint:null,type:null,requestMode:"suggest",count:5,$helpers:null,headers:null,scrollOnFocus:!0,mobileWidth:980,initializeInterval:100},D=function(){function b(b){return function(c){if(0===c.length)return!1;if(1===c.length)return!0;var d=b(c[0].value),e=a.grep(c,function(a){return 0===b(a.value).indexOf(d)},!0);return 0===e.length}}var c=b(function(a){return a}),d=b(function(a){return a.replace(/, (?:д|вл|двлд|к) .+$/,"")});return{matchByNormalizedQuery:function(b,c){var d=b.toLowerCase(),e=this&&this.stopwords,f=B.normalize(d,e),g=[];return a.each(c,function(a,b){var c=b.value.toLowerCase();return!B.stringEncloses(d,c)&&(!(c.indexOf(f)>0)&&void(f===B.normalize(c,e)&&g.push(a)))}),1===g.length?g[0]:-1},matchByWords:function(b,d){var e,f=this&&this.stopwords,g=b.toLowerCase(),h=[];return c(d)&&(e=B.withSubTokens(B.getWords(g,f)),a.each(d,function(a,b){var c=b.value.toLowerCase();if(B.stringEncloses(g,c))return!1;var d=B.withSubTokens(B.getWords(c,f));0===B.arrayMinus(e,d).length&&h.push(a)})),1===h.length?h[0]:-1},matchByWordsAddress:function(b,c){var e,f=this&&this.stopwords,g=b.toLowerCase(),h=-1;return d(c)&&(e=B.withSubTokens(B.getWords(g,f)),a.each(c,function(a,b){var c=b.value.toLowerCase();if(B.stringEncloses(g,c))return!1;var d=B.withSubTokens(B.getWords(c,f));return 0===B.arrayMinus(e,d).length?(h=a,!1):void 0})),h},matchByFields:function(b,c){var d=this&&this.stopwords,e=this&&this.fieldsStopwords,f=B.withSubTokens(B.getWords(b.toLowerCase(),d)),g=[];return 1===c.length&&(e&&a.each(e,function(a,b){var d=B.getDeepValue(c[0],a),e=d&&B.withSubTokens(B.getWords(d.toLowerCase(),b));e&&e.length&&(g=g.concat(e))}),0===B.arrayMinusWithPartialMatching(f,g).length)?0:-1}}}(),E=["ао","аобл","дом","респ","а/я","аал","автодорога","аллея","арбан","аул","б-р","берег","бугор","вал","вл","волость","въезд","высел","г","городок","гск","д","двлд","днп","дор","дп","ж/д_будка","ж/д_казарм","ж/д_оп","ж/д_платф","ж/д_пост","ж/д_рзд","ж/д_ст","жилзона","жилрайон","жт","заезд","заимка","зона","к","казарма","канал","кв","кв-л","км","кольцо","комн","кордон","коса","кп","край","линия","лпх","м","массив","местность","мкр","мост","н/п","наб","нп","обл","округ","остров","оф","п","п/о","п/р","п/ст","парк","пгт","пер","переезд","пл","пл-ка","платф","погост","полустанок","починок","пр-кт","проезд","промзона","просек","просека","проселок","проток","протока","проулок","р-н","рзд","россия","рп","ряды","с","с/а","с/мо","с/о","с/п","с/с","сад","сквер","сл","снт","спуск","ст","ст-ца","стр","тер","тракт","туп","у","ул","уч-к","ф/х","ферма","х","ш","бульвар","владение","выселки","гаражно-строительный","город","деревня","домовладение","дорога","квартал","километр","комната","корпус","литер","леспромхоз","местечко","микрорайон","набережная","область","переулок","платформа","площадка","площадь","поселение","поселок","проспект","разъезд","район","республика","село","сельсовет","слобода","сооружение","станица","станция","строение","территория","тупик","улица","улус","участок","хутор","шоссе"],F=[{
id:"kladr_id",fields:["kladr_id"],forBounds:!1,forLocations:!0},{id:"postal_code",fields:["postal_code"],forBounds:!1,forLocations:!0},{id:"country",fields:["country"],forBounds:!1,forLocations:!0},{id:"region_fias_id",fields:["region_fias_id"],forBounds:!1,forLocations:!0},{id:"region_type_full",fields:["region_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:2,zeros:11},fiasType:"region_fias_id"},{id:"region",fields:["region","region_type","region_type_full","region_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:2,zeros:11},fiasType:"region_fias_id"},{id:"area_fias_id",fields:["area_fias_id"],forBounds:!1,forLocations:!0},{id:"area_type_full",fields:["area_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:5,zeros:8},fiasType:"area_fias_id"},{id:"area",fields:["area","area_type","area_type_full","area_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:5,zeros:8},fiasType:"area_fias_id"},{id:"city_fias_id",fields:["city_fias_id"],forBounds:!1,forLocations:!0},{id:"city_type_full",fields:["city_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:8,zeros:5},fiasType:"city_fias_id"},{id:"city",fields:["city","city_type","city_type_full","city_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:8,zeros:5},fiasType:"city_fias_id"},{id:"city_district_fias_id",fields:["city_district_fias_id"],forBounds:!1,forLocations:!0},{id:"city_district_type_full",fields:["city_district_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"city_district_fias_id"},{id:"city_district",fields:["city_district","city_district_type","city_district_type_full","city_district_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"city_district_fias_id"},{id:"settlement_fias_id",fields:["settlement_fias_id"],forBounds:!1,forLocations:!0},{id:"settlement_type_full",fields:["settlement_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"settlement_fias_id"},{id:"settlement",fields:["settlement","settlement_type","settlement_type_full","settlement_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"settlement_fias_id"},{id:"street_fias_id",fields:["street_fias_id"],forBounds:!1,forLocations:!0},{id:"street_type_full",fields:["street_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:15,zeros:2},fiasType:"street_fias_id"},{id:"street",fields:["street","street_type","street_type_full","street_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:15,zeros:2},fiasType:"street_fias_id"},{id:"house",fields:["house","house_type","house_type_full","block","block_type"],forBounds:!0,forLocations:!1,kladrFormat:{digits:19}}],G=/<strong>/,H={LEGAL:[2,2,5,1],INDIVIDUAL:[2,2,6,2]},I={};I.NAME={urlSuffix:"fio",noSuggestionsHint:!1,matchers:[D.matchByNormalizedQuery,D.matchByWords],fieldNames:{surname:"фамилия",name:"имя",patronymic:"отчество"},isDataComplete:function(a){var c,d=this,e=d.options.params,f=a.data;return B.isFunction(e)&&(e=e.call(d.element,a.value)),e&&e.parts?c=e.parts.map(function(a){return a.toLowerCase()}):(c=["surname","name"],b(a,"surname")&&c.push("patronymic")),B.fieldsNotEmpty(f,c)},composeValue:function(a){return B.compact([a.surname,a.name,a.patronymic]).join(" ")}},I.ADDRESS={urlSuffix:"address",noSuggestionsHint:"Неизвестный адрес",matchers:[y.proxy(D.matchByNormalizedQuery,{stopwords:E}),y.proxy(D.matchByWordsAddress,{stopwords:E})],dataComponents:F,dataComponentsById:B.indexBy(F,"id","index"),unformattableTokens:E,enrichmentEnabled:!0,enrichmentMethod:"suggest",enrichmentParams:{count:1,locations:null,locations_boost:null,from_bound:null,to_bound:null},getEnrichmentQuery:function(a){return a.unrestricted_value},geoEnabled:!0,isDataComplete:function(a){var b=[this.bounds.to||"flat"],c=a.data;return!B.isPlainObject(c)||B.fieldsNotEmpty(c,b)},composeValue:function(a,b){var c,d=a.region_with_type||B.compact([a.region,a.region_type]).join(" ")||a.region_type_full,e=a.area_with_type||B.compact([a.area_type,a.area]).join(" ")||a.area_type_full,f=a.city_with_type||B.compact([a.city_type,a.city]).join(" ")||a.city_type_full,g=a.settlement_with_type||B.compact([a.settlement_type,a.settlement]).join(" ")||a.settlement_type_full,h=a.city_district_with_type||B.compact([a.city_district_type,a.city_district]).join(" ")||a.city_district_type_full,i=a.street_with_type||B.compact([a.street_type,a.street]).join(" ")||a.street_type_full,j=B.compact([a.house_type,a.house,a.block_type,a.block]).join(" "),k=B.compact([a.flat_type,a.flat]).join(" "),l=a.postal_box&&"а/я "+a.postal_box;return d===f&&(d=""),b&&b.saveCityDistrict||(b&&b.excludeCityDistrict?h="":h&&!a.city_district_fias_id&&(h="")),c=B.compact([d,e,f,h,g,i,j,k,l]).join(", ")},formatResult:function(){var a=[],b=!1;return F.forEach(function(c){b&&a.push(c.id),"city_district"===c.id&&(b=!0)}),function(b,c,d,e){var f,g,h,i=this,j=d.data&&d.data.city_district_with_type,k=e&&e.unformattableTokens,l=d.data&&d.data.history_values;return l&&l.length>0&&(f=B.getTokens(c,k),g=this.type.findUnusedTokens(f,b),h=this.type.getFormattedHistoryValues(g,l),h&&(b+=h)),b=i.highlightMatches(b,c,d,e),b=i.wrapFormattedValue(b,d),j&&(!i.bounds.own.length||i.bounds.own.indexOf("street")>=0)&&!B.isEmptyObject(i.copyDataComponents(d.data,a))&&(b+='<div class="'+i.classes.subtext+'">'+i.highlightMatches(j,c,d)+"</div>"),b}}(),findUnusedTokens:function(a,b){var c,d,e=[];for(c in a)d=a[c],b.indexOf(d)===-1&&e.push(d);return e},getFormattedHistoryValues:function(a,b){var c,d,e,f,g=[],h="";for(e in b){f=b[e];for(c in a)d=a[c]}return g.length>0&&(h=" (бывш. "+g.join(", ")+")"),h},getSuggestionValue:function(a,b){var c=null;return b.hasSameValues?c=a.options.restrict_value?this.getValueWithinConstraints(a,b.suggestion):a.bounds.own.length?this.getValueWithinBounds(a,b.suggestion):b.suggestion.unrestricted_value:b.hasBeenEnriched&&a.options.restrict_value&&(c=this.getValueWithinConstraints(a,b.suggestion,{excludeCityDistrict:!0})),c},getValueWithinConstraints:function(a,b,c){return this.composeValue(a.getUnrestrictedData(b.data),c)},getValueWithinBounds:function(a,b,c){var d=a.copyDataComponents(b.data,a.bounds.own.concat(["city_district_fias_id"]));return this.composeValue(d,c)}},I.PARTY={urlSuffix:"party",noSuggestionsHint:"Неизвестная организация",matchers:[y.proxy(D.matchByFields,{fieldsStopwords:{value:null,"data.address.value":E,"data.inn":null,"data.ogrn":null}})],dataComponents:F,enrichmentEnabled:!0,enrichmentMethod:"findById",enrichmentParams:{count:1,locations_boost:null},getEnrichmentQuery:function(a){return a.data.hid},geoEnabled:!0,formatResult:function(a,b,e,f){var g=this,h=g.type.formatResultInn.call(g,e,b),i=g.highlightMatches(B.getDeepValue(e.data,"ogrn"),b,e),j=c(h,i),k=g.highlightMatches(B.getDeepValue(e.data,"management.name"),b,e),l=B.getDeepValue(e.data,"address.value")||"";return g.isMobile&&((f||(f={})).maxLength=50),a=d.call(g,a,B.getDeepValue(e.data,"name.latin"),b,e,f),a=g.wrapFormattedValue(a,e),l&&(l=l.replace(/^(\d{6}?\s+|Россия,\s+)/i,""),l=g.isMobile?l.replace(new RegExp("^([^"+t+"]+["+t+"]+[^"+t+"]+).*"),"$1"):g.highlightMatches(l,b,e,{unformattableTokens:E})),(j||l||k)&&(a+='<div class="'+g.classes.subtext+'"><span class="'+g.classes.subtext_inline+'">'+(j||"")+"</span>"+(c(l,k)||"")+"</div>"),a},formatResultInn:function(a,b){var c,d,e=this,f=a.data&&a.data.inn,g=H[a.data&&a.data.type],h=/\d/;if(f)return d=e.highlightMatches(f,b,a),g&&(d=d.split(""),c=g.map(function(a){for(var b,c="";a&&(b=d.shift());)c+=b,h.test(b)&&a--;return c}),d=c.join('<span class="'+e.classes.subtext_delimiter+'"></span>')+d.join("")),d}},I.EMAIL={urlSuffix:"email",noSuggestionsHint:!1,matchers:[D.matchByNormalizedQuery],isQueryRequestable:function(a){return this.options.suggest_local||a.indexOf("@")>=0}},I.BANK={urlSuffix:"bank",noSuggestionsHint:"Неизвестный банк",matchers:[y.proxy(D.matchByFields,{fieldsStopwords:{value:null,"data.bic":null,"data.swift":null}})],dataComponents:F,geoEnabled:!0,formatResult:function(a,b,c,d){var e=this,f=e.highlightMatches(B.getDeepValue(c.data,"bic"),b,c),g=B.getDeepValue(c.data,"address.value")||"";return a=e.highlightMatches(a,b,c,d),a=e.wrapFormattedValue(a,c),g&&(g=g.replace(/^\d{6}( РОССИЯ)?, /i,""),g=e.isMobile?g.replace(new RegExp("^([^"+t+"]+["+t+"]+[^"+t+"]+).*"),"$1"):e.highlightMatches(g,b,c,{unformattableTokens:E})),(f||g)&&(a+='<div class="'+e.classes.subtext+'"><span class="'+e.classes.subtext_inline+'">'+f+"</span>"+g+"</div>"),a},formatSelected:function(a){return B.getDeepValue(a,"data.name.payment")||null}},y.extend(C,{suggest_local:!0});var J={chains:{},on:function(a,b){return this.get(a).push(b),this},get:function(a){var b=this.chains;return b[a]||(b[a]=[])}},K={suggest:{defaultParams:{type:B.getDefaultType(),dataType:"json",contentType:B.getDefaultContentType()},addTypeInUrl:!0},detectAddressByIp:{defaultParams:{type:"GET",dataType:"json"},addTypeInUrl:!1},status:{defaultParams:{type:"GET",dataType:"json"},addTypeInUrl:!0},findById:{defaultParams:{type:B.getDefaultType(),dataType:"json",contentType:B.getDefaultContentType()},addTypeInUrl:!0}},L={suggest:{method:"suggest",userSelect:!0,updateValue:!0,enrichmentEnabled:!0},findById:{method:"findById",userSelect:!1,updateValue:!1,enrichmentEnabled:!1}};e.prototype={initialize:function(){var a=this;a.uniqueId=B.uniqueId("i"),a.createWrapper(),a.notify("initialize"),a.bindWindowEvents(),a.setOptions(),a.fixPosition()},deferInitialization:function(){var a,b=this,c="mouseover focus keydown",d=function(){b.initializer.resolve(),b.enable()};b.initializer.always(function(){b.el.off(c,d),clearInterval(a)}),b.disabled=!0,b.el.on(c,d),a=setInterval(function(){b.el.is(":visible")&&d()},b.options.initializeInterval)},isInitialized:function(){return"resolved"===this.initializer.state()},dispose:function(){},notify:function(b){var c=this,d=B.slice(arguments,1);return a.map(J.get(b),function(a){return a.apply(c,d)})},createWrapper:function(){var b=this;b.$wrapper=a('<div class="suggestions-wrapper"/>'),b.el.after(b.$wrapper),b.$wrapper.on("mousedown"+r,a.proxy(b.onMousedown,b))},removeWrapper:function(){var b=this;b.$wrapper&&b.$wrapper.remove(),a(b.options.$helpers).off(r)},onMousedown:function(b){var c=this;b.preventDefault(),c.cancelBlur=!0,B.delay(function(){delete c.cancelBlur}),0==a(b.target).closest(".ui-menu-item").length&&B.delay(function(){a(document).one("mousedown",function(b){var d=c.el.add(c.$wrapper).add(c.options.$helpers);c.options.floating&&(d=d.add(c.$container)),d=d.filter(function(){return this===b.target||a.contains(this,b.target)}),d.length||c.hide()})})},bindWindowEvents:function(){var b=this,c=a.proxy(b.fixPosition,b);b.$viewport.on("resize"+r+b.uniqueId,c).on("scroll"+r+b.uniqueId,c)},unbindWindowEvents:function(){this.$viewport.off("resize"+r+this.uniqueId).off("scroll"+r+this.uniqueId)},scrollToTop:function(){var b=this,c=b.options.scrollOnFocus;c===!0&&(c=b.el),c instanceof a&&c.length>0&&a("body,html").animate({scrollTop:c.offset().top},"fast")},setOptions:function(b){var c=this;a.extend(c.options,b),a.each({type:I,requestMode:L},function(b,d){if(c[b]=d[c.options[b]],!c[b])throw c.disable(),"`"+b+"` option is incorrect! Must be one of: "+a.map(d,function(a,b){return'"'+b+'"'}).join(", ")}),a(c.options.$helpers).off(r).on("mousedown"+r,a.proxy(c.onMousedown,c)),c.isInitialized()&&c.notify("setOptions")},fixPosition:function(b){var c,d,e=this,f={};e.isMobile=e.$viewport.width()<=e.options.mobileWidth,e.isInitialized()&&(!b||"scroll"!=b.type||e.options.floating||e.isMobile)&&(e.$container.appendTo(e.options.floating?e.$body:e.$wrapper),e.notify("resetPosition"),e.el.css("paddingLeft",""),e.el.css("paddingRight",""),f.paddingLeft=parseFloat(e.el.css("paddingLeft")),f.paddingRight=parseFloat(e.el.css("paddingRight")),a.extend(f,e.el.offset()),f.borderTop="none"==e.el.css("border-top-style")?0:parseFloat(e.el.css("border-top-width")),f.borderLeft="none"==e.el.css("border-left-style")?0:parseFloat(e.el.css("border-left-width")),f.innerHeight=e.el.innerHeight(),f.innerWidth=e.el.innerWidth(),f.outerHeight=e.el.outerHeight(),f.componentsLeft=0,f.componentsRight=0,c=e.$wrapper.offset(),d={top:f.top-c.top,left:f.left-c.left},e.notify("fixPosition",d,f),f.componentsLeft>f.paddingLeft&&e.el.css("paddingLeft",f.componentsLeft+"px"),f.componentsRight>f.paddingRight&&e.el.css("paddingRight",f.componentsRight+"px"))},clearCache:function(){this.cachedResponse={},this.enrichmentCache={},this.badQueries=[]},clear:function(){var a=this,b=a.selection;a.isInitialized()&&(a.clearCache(),a.currentValue="",a.selection=null,a.hide(),a.suggestions=[],a.el.val(""),a.el.trigger("suggestions-clear"),a.notify("clear"),a.trigger("InvalidateSelection",b))},disable:function(){var a=this;a.disabled=!0,a.abortRequest(),a.visible&&a.hide()},enable:function(){this.disabled=!1},isUnavailable:function(){return this.disabled},update:function(){var a=this,b=a.el.val();a.isInitialized()&&(a.currentValue=b,a.isQueryRequestable(b)?a.updateSuggestions(b):a.hide())},setSuggestion:function(b){var c,d,e=this;a.isPlainObject(b)&&a.isPlainObject(b.data)&&(b=a.extend(!0,{},b),e.isUnavailable()&&e.initializer&&"pending"===e.initializer.state()&&(e.initializer.resolve(),e.enable()),e.bounds.own.length&&(e.checkValueBounds(b),c=e.copyDataComponents(b.data,e.bounds.all),b.data.kladr_id&&(c.kladr_id=e.getBoundedKladrId(b.data.kladr_id,e.bounds.all)),b.data=c),e.selection=b,e.suggestions=[b],d=e.getSuggestionValue(b)||"",e.currentValue=d,e.el.val(d),e.abortRequest(),e.el.trigger("suggestions-set"))},fixData:function(){var b=this,c=b.extendedCurrentValue(),d=b.el.val(),e=a.Deferred();e.done(function(a){b.selectSuggestion(a,0,d,{hasBeenEnriched:!0}),b.el.trigger("suggestions-fixdata",a)}).fail(function(){b.selection=null,b.el.trigger("suggestions-fixdata")}),b.isQueryRequestable(c)?(b.currentValue=c,b.getSuggestions(c,{count:1,from_bound:null,to_bound:null}).done(function(a){var b=a[0];b?e.resolve(b):e.reject()}).fail(function(){e.reject()})):e.reject()},extendedCurrentValue:function(){var b=this,c=b.getParentInstance(),d=c&&c.extendedCurrentValue(),e=a.trim(b.el.val());return B.compact([d,e]).join(" ")},getAjaxParams:function(b,c){var d=this,f=a.trim(d.options.token),g=a.trim(d.options.partner),h=d.options.serviceUrl,i=d.options.url,j=K[b],k=a.extend({timeout:d.options.timeout},j.defaultParams),l={};return i?h=i:(/\/$/.test(h)||(h+="/"),h+=b,j.addTypeInUrl&&(h+="/"+d.type.urlSuffix)),h=B.fixURLProtocol(h),a.support.cors?(f&&(l.Authorization="Token "+f),g&&(l["X-Partner"]=g),l["X-Version"]=e.version,k.headers||(k.headers={}),k.xhrFields||(k.xhrFields={}),a.extend(k.headers,d.options.headers,l),k.xhrFields.withCredentials=!1):(f&&(l.token=f),g&&(l.partner=g),l.version=e.version,h=B.addUrlParams(h,l)),k.url=h,a.extend(k,c)},isQueryRequestable:function(a){var b,c=this;return b=a.length>=c.options.minChars,b&&c.type.isQueryRequestable&&(b=c.type.isQueryRequestable.call(c,a)),b},constructRequestParams:function(b,c){var d=this,e=d.options,f=a.isFunction(e.params)?e.params.call(d.element,b):a.extend({},e.params);return d.type.constructRequestParams&&a.extend(f,d.type.constructRequestParams.call(d)),a.each(d.notify("requestParams"),function(b,c){a.extend(f,c)}),f[e.paramName]=b,a.isNumeric(e.count)&&e.count>0&&(f.count=e.count),a.extend(f,c)},updateSuggestions:function(a){var b=this;b.fetchPhase=b.getSuggestions(a).done(function(c){b.assignSuggestions(c,a)})},getSuggestions:function(b,c,d){var e,f=this,g=f.options,h=d&&d.noCallbacks,i=d&&d.useEnrichmentCache,j=d&&d.method||f.requestMode.method,k=f.constructRequestParams(b,c),l=a.param(k||{}),m=a.Deferred();return e=f.cachedResponse[l],e&&a.isArray(e.suggestions)?m.resolve(e.suggestions):f.isBadQuery(b)?m.reject():h||g.onSearchStart.call(f.element,k)!==!1?f.doGetSuggestions(k,j).done(function(a){f.processResponse(a)&&b==f.currentValue?(g.noCache||(i?f.enrichmentCache[b]=a.suggestions[0]:(f.enrichResponse(a,b),f.cachedResponse[l]=a,g.preventBadQueries&&0===a.suggestions.length&&f.badQueries.push(b))),m.resolve(a.suggestions)):m.reject(),h||g.onSearchComplete.call(f.element,b,a.suggestions)}).fail(function(a,c,d){m.reject(),h||"abort"===c||g.onSearchError.call(f.element,b,a,c,d)}):m.reject(),m},doGetSuggestions:function(b,c){var d=this,e=a.ajax(d.getAjaxParams(c,{data:B.serialize(b)}));return d.abortRequest(),d.currentRequest=e,d.notify("request"),e.always(function(){d.currentRequest=null,d.notify("request")}),e},isBadQuery:function(b){if(!this.options.preventBadQueries)return!1;var c=!1;return a.each(this.badQueries,function(a,d){return!(c=0===b.indexOf(d))}),c},abortRequest:function(){var a=this;a.currentRequest&&a.currentRequest.abort()},processResponse:function(b){var c,d=this;return!(!b||!a.isArray(b.suggestions))&&(d.verifySuggestionsFormat(b.suggestions),d.setUnrestrictedValues(b.suggestions),a.isFunction(d.options.onSuggestionsFetch)&&(c=d.options.onSuggestionsFetch.call(d.element,b.suggestions),a.isArray(c)&&(b.suggestions=c)),!0)},verifySuggestionsFormat:function(b){"string"==typeof b[0]&&a.each(b,function(a,c){b[a]={value:c,data:null}})},getSuggestionValue:function(b,c){var d,e=this,f=e.options.formatSelected||e.type.formatSelected,g=c&&c.hasSameValues,h=c&&c.hasBeenEnriched,i=null;return a.isFunction(f)&&(d=f.call(e,b)),"string"!=typeof d&&(d=b.value,e.type.getSuggestionValue&&(i=e.type.getSuggestionValue(e,{suggestion:b,hasSameValues:g,hasBeenEnriched:h}),null!==i&&(d=i))),d},hasSameValues:function(b){var c=!1;return a.each(this.suggestions,function(a,d){if(d.value===b.value&&d!==b)return c=!0,!1}),c},assignSuggestions:function(a,b){var c=this;c.suggestions=a,c.notify("assignSuggestions",b)},shouldRestrictValues:function(){var a=this;return a.options.restrict_value&&a.constraints&&1==Object.keys(a.constraints).length},setUnrestrictedValues:function(b){var c=this,d=c.shouldRestrictValues(),e=c.getFirstConstraintLabel();a.each(b,function(a,b){b.unrestricted_value||(b.unrestricted_value=d?e+", "+b.value:b.value)})},areSuggestionsSame:function(a,b){return a&&b&&a.value===b.value&&B.areSame(a.data,b.data)},getNoSuggestionsHint:function(){var a=this;return a.options.noSuggestionsHint!==!1&&(a.options.noSuggestionsHint||a.type.noSuggestionsHint)}};var M={setupElement:function(){this.el.attr("autocomplete","off").attr("autocorrect","off").attr("autocapitalize","off").attr("spellcheck","false").addClass("suggestions-input").css("box-sizing","border-box")},bindElementEvents:function(){var b=this;b.el.on("keydown"+r,a.proxy(b.onElementKeyDown,b)),b.el.on(["keyup"+r,"cut"+r,"paste"+r,"input"+r].join(" "),a.proxy(b.onElementKeyUp,b)),b.el.on("blur"+r,a.proxy(b.onElementBlur,b))},unbindElementEvents:function(){this.el.off(r)},onElementBlur:function(){var a=this;return a.cancelBlur?void(a.cancelBlur=!1):(a.options.triggerSelectOnBlur?a.isUnavailable()||a.selectCurrentValue({noSpace:!0}).always(function(){a.hide()}):a.hide(),void(a.fetchPhase.abort&&a.fetchPhase.abort()))},onElementFocus:function(){var b=this;b.cancelFocus||B.delay(a.proxy(b.completeOnFocus,b)),b.cancelFocus=!1},onElementKeyDown:function(a){var b=this;if(!b.isUnavailable())if(b.visible){switch(a.which){case p.ESC:b.el.val(b.currentValue),b.hide(),b.abortRequest();break;case p.TAB:if(b.options.tabDisabled===!1)return;break;case p.ENTER:b.options.triggerSelectOnEnter&&b.selectCurrentValue();break;case p.SPACE:return void(b.options.triggerSelectOnSpace&&b.isCursorAtEnd()&&(a.preventDefault(),b.selectCurrentValue({continueSelecting:!0,dontEnrich:!0}).fail(function(){b.currentValue+=" ",b.el.val(b.currentValue),b.proceedChangedValue()})));case p.UP:b.moveUp();break;case p.DOWN:b.moveDown();break;default:return}a.stopImmediatePropagation(),a.preventDefault()}else switch(a.which){case p.DOWN:b.suggest();break;case p.ENTER:b.options.triggerSelectOnEnter&&b.triggerOnSelectNothing()}},onElementKeyUp:function(a){var b=this;if(!b.isUnavailable()){switch(a.which){case p.UP:case p.DOWN:case p.ENTER:return}clearTimeout(b.onChangeTimeout),b.inputPhase.reject(),b.currentValue!==b.el.val()&&b.proceedChangedValue()}},proceedChangedValue:function(){var b=this;b.abortRequest(),b.inputPhase=a.Deferred().done(a.proxy(b.onValueChange,b)),b.options.deferRequestBy>0?b.onChangeTimeout=B.delay(function(){b.inputPhase.resolve()},b.options.deferRequestBy):b.inputPhase.resolve()},onValueChange:function(){var a,b=this;b.selection&&(a=b.selection,b.selection=null,b.trigger("InvalidateSelection",a)),b.selectedIndex=-1,b.update(),b.notify("valueChange")},completeOnFocus:function(){var a=this;a.isUnavailable()||a.isElementFocused()&&(a.fixPosition(),a.update(),a.isMobile&&(a.setCursorAtEnd(),a.scrollToTop()))},isElementFocused:function(){return document.activeElement===this.element},isCursorAtEnd:function(){var a,b,c=this,d=c.el.val().length;try{if(a=c.element.selectionStart,"number"==typeof a)return a===d}catch(e){}return!document.selection||(b=document.selection.createRange(),b.moveStart("character",-d),d===b.text.length)},setCursorAtEnd:function(){var a=this.element;try{a.selectionEnd=a.selectionStart=a.value.length,a.scrollLeft=a.scrollWidth}catch(b){a.value=a.value}}};a.extend(e.prototype,M),J.on("initialize",M.bindElementEvents).on("dispose",M.unbindElementEvents);var N={};f();var O={checkStatus:function(){function a(a){B.isFunction(b.options.onSearchError)&&b.options.onSearchError.call(b.element,null,e,"error",a)}var b=this,c=b.options.token&&b.options.token.trim()||"",d=b.options.type+c,e=N[d];e||(e=N[d]=y.ajax(b.getAjaxParams("status"))),e.done(function(c){c.search?y.extend(b.status,c):a("Service Unavailable")}).fail(function(){a(e.statusText)})}};e.resetTokens=f,y.extend(e.prototype,O),J.on("setOptions",O.checkStatus);var P,Q=!0,R={checkLocation:function(){var b=this,c=b.options.geoLocation;b.type.geoEnabled&&c&&(b.geoLocation=a.Deferred(),a.isPlainObject(c)||a.isArray(c)?b.geoLocation.resolve(c):(P||(P=a.ajax(b.getAjaxParams("detectAddressByIp"))),P.done(function(a){var c=a&&a.location&&a.location.data;c&&c.kladr_id?b.geoLocation.resolve(c):b.geoLocation.reject()}).fail(function(){b.geoLocation.reject()})))},getGeoLocation:function(){return this.geoLocation},constructParams:function(){var b=this,c={};return b.geoLocation&&a.isFunction(b.geoLocation.promise)&&"resolved"==b.geoLocation.state()&&b.geoLocation.done(function(b){c.locations_boost=a.makeArray(b)}),c}};"GET"!=B.getDefaultType()&&(a.extend(C,{geoLocation:Q}),a.extend(e,{resetLocation:g}),a.extend(e.prototype,{getGeoLocation:R.getGeoLocation}),J.on("setOptions",R.checkLocation).on("requestParams",R.constructParams));var S={enrichSuggestion:function(b,c){var d=this,e=a.Deferred();if(!d.options.enrichmentEnabled||!d.type.enrichmentEnabled||!d.requestMode.enrichmentEnabled||c&&c.dontEnrich)return e.resolve(b);if(b.data&&null!=b.data.qc)return e.resolve(b);d.disableDropdown();var f=d.type.getEnrichmentQuery(b),g=d.type.enrichmentParams,h={noCallbacks:!0,useEnrichmentCache:!0,method:d.type.enrichmentMethod};return d.currentValue=f,d.enrichPhase=d.getSuggestions(f,g,h).always(function(){d.enableDropdown()}).done(function(a){var c=a&&a[0];e.resolve(c||b,!!c)}).fail(function(){e.resolve(b)}),e},enrichResponse:function(b,c){var d=this,e=d.enrichmentCache[c];e&&a.each(b.suggestions,function(a,d){if(d.value===c)return b.suggestions[a]=e,!1})}};a.extend(e.prototype,S);var T={width:"auto",floating:!1},U={createContainer:function(){var b=this,c="."+b.classes.suggestion,d=b.options,e=a("<div/>").addClass(d.containerClass).css({position:"absolute",display:"none"});b.$container=e,e.on("click"+r,c,a.proxy(b.onSuggestionClick,b))},getContainer:function(){return this.$container.get(0)},removeContainer:function(){},setContainerOptions:function(){var b=this,c="mousedown"+r;b.$container.off(c),b.options.floating&&b.$container.on(c,a.proxy(b.onMousedown,b))},onSuggestionClick:function(b){var c,d=this,e=a(b.target);if(!d.dropdownDisabled){for(d.cancelFocus=!0,d.el.focus();e.length&&!(c=e.attr("data-index"));)e=e.closest("."+d.classes.suggestion);c&&!isNaN(c)&&d.select(+c)}},setDropdownPosition:function(a,b){var c,d=this,e=d.$viewport.scrollLeft();d.isMobile?(c=d.options.floating?{left:b.left+"px",top:b.top+b.borderTop+b.innerHeight+"px"}:{left:a.left+"px",top:a.top+b.borderTop+b.innerHeight+"px"},c.width=d.el.outerWidth()+"px"):(c=d.options.floating?{left:b.left+"px",top:b.top+b.borderTop+b.innerHeight+"px"}:{left:a.left+"px",top:a.top+b.borderTop+b.innerHeight+"px"},B.delay(function(){var a=d.options.width;"auto"===a&&(a=d.el.outerWidth()),d.$container.outerWidth(a)})),d.$container.toggleClass(d.classes.mobile,d.isMobile).css(c),d.containerItemsPadding=b.left+b.borderLeft+b.paddingLeft-e},setItemsPositions:function(){var a=this;a.getSuggestionsItems()},getSuggestionsItems:function(){return this.$container.children("."+this.classes.suggestion)},toggleDropdownEnabling:function(a){this.dropdownDisabled=!a,this.$container.attr("disabled",!a)},disableDropdown:function(){this.toggleDropdownEnabling(!1)},enableDropdown:function(){this.toggleDropdownEnabling(!0)},hasSuggestionsToChoose:function(){var b=this;return b.suggestions.length>1||1===b.suggestions.length&&(!b.selection||a.trim(b.suggestions[0].value)!==a.trim(b.selection.value))},suggest:function(){var b=this,c=b.options,d=[];if(b.requestMode.userSelect){if(b.hasSuggestionsToChoose())!b.isMobile&&c.hint&&b.suggestions.length&&d.push('<div class="'+b.classes.hint+'">'+c.hint+"</div>"),b.selectedIndex=-1,b.suggestions.forEach(function(a,c){a==b.selection&&(b.selectedIndex=c),b.buildSuggestionHtml(a,c,d)});else{if(b.suggestions.length)return void b.hide();var e=b.getNoSuggestionsHint();if(!e)return void b.hide();d.push('<div class="'+b.classes.hint+'">'+e+"</div>")}d.push('<div class="'+q.promo+'"></div>'),d.push("</div>"),b.$container.html(d.join("")),c.autoSelectFirst&&b.selectedIndex===-1&&(b.selectedIndex=0),b.selectedIndex!==-1&&b.getSuggestionsItems().eq(b.selectedIndex).addClass(b.classes.selected),a.isFunction(c.beforeRender)&&c.beforeRender.call(b.element,b.$container),b.$container.show(),b.visible=!0,b.fixPosition(),b.setItemsPositions()}},buildSuggestionHtml:function(a,b,c){c.push('<div class="'+this.classes.suggestion+'" data-index="'+b+'">');var d=this.options.formatResult||this.type.formatResult||this.formatResult;c.push(d.call(this,a.value,this.currentValue,a,{unformattableTokens:this.type.unformattableTokens}));var e=this.makeSuggestionLabel(this.suggestions,a);e&&c.push('<span class="'+this.classes.subtext_label+'">'+B.escapeHtml(e)+"</span>"),c.push("</div>")},wrapFormattedValue:function(a,b){var c=this,d=B.getDeepValue(b.data,"state.status");return'<span class="'+c.classes.value+'"'+(d?' data-suggestion-status="'+d+'"':"")+">"+a+"</span>"},formatResult:function(a,b,c,d){var e=this;return a=e.highlightMatches(a,b,c,d),e.wrapFormattedValue(a,c)},highlightMatches:function(b,c,d,e){var f,g,j,k,l,m,n,o=this,p=[],q=e&&e.unformattableTokens,r=e&&e.maxLength,s=B.reWordExtractor();if(!b)return"";for(f=B.getTokens(c,q),g=a.map(f,function(a){return new RegExp("^((.*)(["+u+"]+))?("+B.escapeRegExChars(a)+")([^"+u+"]*["+u+"]*)","i")});(j=s.exec(b))&&j[0];)k=j[1],p.push({text:k,hasUpperCase:k.toLowerCase()!==k,formatted:B.formatToken(k),matchable:!0}),j[2]&&p.push({text:j[2]});for(l=0;l<p.length;l++)m=p[l],!m.matchable||m.matched||a.inArray(m.formatted,q)!==-1&&!m.hasUpperCase||a.each(g,function(a,b){var c,d=b.exec(m.formatted),e=l+1;if(d)return d={before:d[1]||"",beforeText:d[2]||"",beforeDelimiter:d[3]||"",text:d[4]||"",after:d[5]||""},d.before&&(p.splice(l,0,{text:m.text.substr(0,d.beforeText.length),formatted:d.beforeText,matchable:!0},{text:d.beforeDelimiter}),e+=2,c=d.before.length,m.text=m.text.substr(c),m.formatted=m.formatted.substr(c),l--),c=d.text.length+d.after.length,m.formatted.length>c&&(p.splice(e,0,{text:m.text.substr(c),formatted:m.formatted.substr(c),matchable:!0}),m.text=m.text.substr(0,c),m.formatted=m.formatted.substr(0,c)),d.after&&(c=d.text.length,p.splice(e,0,{text:m.text.substr(c),formatted:m.formatted.substr(c)}),m.text=m.text.substr(0,c),m.formatted=m.formatted.substr(0,c)),m.matched=!0,!1});if(r){for(l=0;l<p.length&&r>=0;l++)m=p[l],r-=m.text.length,r<0&&(m.text=m.text.substr(0,m.text.length+r)+"...");p.length=l}return n=h(p),i(n,o.classes.nowrap)},makeSuggestionLabel:function(b,c){var d,e,f=this,g=f.type.fieldNames,h={},i=B.reWordExtractor(),k=[];if(g&&j(b,c)&&c.data&&(a.each(g,function(a){var b=c.data[a];b&&(h[a]=B.formatToken(b))}),!a.isEmptyObject(h))){for(;(d=i.exec(B.formatToken(c.value)))&&(e=d[1]);)a.each(h,function(a,b){if(b==e)return k.push(g[a]),delete h[a],!1});if(k.length)return k.join(", ")}},hide:function(){var a=this;a.visible=!1,a.selectedIndex=-1,a.$container.hide().empty()},activate:function(a){var b,c,d=this,e=d.classes.selected;return!d.dropdownDisabled&&(c=d.getSuggestionsItems(),c.removeClass(e),d.selectedIndex=a,d.selectedIndex!==-1&&c.length>d.selectedIndex)?(b=c.eq(d.selectedIndex),b.addClass(e),b):null},deactivate:function(a){var b=this;b.dropdownDisabled||(b.selectedIndex=-1,b.getSuggestionsItems().removeClass(b.classes.selected),a&&b.el.val(b.currentValue))},moveUp:function(){var a=this;if(!a.dropdownDisabled)return a.selectedIndex===-1?void(a.suggestions.length&&a.adjustScroll(a.suggestions.length-1)):0===a.selectedIndex?void a.deactivate(!0):void a.adjustScroll(a.selectedIndex-1)},moveDown:function(){var a=this;if(!a.dropdownDisabled)return a.selectedIndex===a.suggestions.length-1?void a.deactivate(!0):void a.adjustScroll(a.selectedIndex+1)},adjustScroll:function(a){var b,c,d,e=this,f=e.activate(a),g=e.$container.scrollTop();f&&f.length&&(b=f.position().top,b<0?e.$container.scrollTop(g+b):(c=b+f.outerHeight(),d=e.$container.innerHeight(),c>d&&e.$container.scrollTop(g-d+c)),e.el.val(e.suggestions[a].value))}};a.extend(C,T),a.extend(e.prototype,U),J.on("initialize",U.createContainer).on("dispose",U.removeContainer).on("setOptions",U.setContainerOptions).on("fixPosition",U.setDropdownPosition).on("fixPosition",U.setItemsPositions).on("assignSuggestions",U.suggest);var V="addon",W=50,X=1e3,Y={addon:null},Z={NONE:"none",SPINNER:"spinner",CLEAR:"clear"},$=function(b){var c=this,d=a('<span class="suggestions-addon"/>');c.owner=b,c.$el=d,c.type=Z.NONE,c.visible=!1,c.initialPadding=null,d.on("click",a.proxy(c,"onClick"))};$.prototype={checkType:function(){var b=this,c=b.owner.options.addon,d=!1;a.each(Z,function(a,b){if(d=b==c)return!1}),d||(c=b.owner.isMobile?Z.CLEAR:Z.SPINNER),c!=b.type&&(b.type=c,b.$el.attr("data-addon-type",c),b.toggle(!0))},toggle:function(a){var b,c=this;switch(c.type){case Z.CLEAR:b=!!c.owner.currentValue;break;case Z.SPINNER:b=!!c.owner.currentRequest;break;default:b=!1}b!=c.visible&&(c.visible=b,b?c.show(a):c.hide(a))},show:function(a){var b=this,c={opacity:1};a?(b.$el.show().css(c),b.showBackground(!0)):b.$el.stop(!0,!0).delay(W).queue(function(){b.$el.show(),b.showBackground(),b.$el.dequeue()}).animate(c,"fast")},hide:function(a){var b=this,c={opacity:0};a&&b.$el.hide().css(c),b.$el.stop(!0).animate(c,{duration:"fast",complete:function(){b.$el.hide(),b.hideBackground()}})},fixPosition:function(a,b){var c=this,d=b.innerHeight;c.checkType(),c.$el.css({left:a.left+b.borderLeft+b.innerWidth-d+"px",top:a.top+b.borderTop+"px",height:d,width:d}),c.initialPadding=b.paddingRight,c.width=d,c.visible&&(b.componentsRight+=d)},showBackground:function(a){var b=this,c=b.owner.el,d={paddingRight:b.width};b.width>b.initialPadding&&(b.stopBackground(),a?c.css(d):c.animate(d,{duration:"fast",queue:V}).dequeue(V))},hideBackground:function(a){var b=this,c=b.owner.el,d={paddingRight:b.initialPadding};b.width>b.initialPadding&&(b.stopBackground(!0),a?c.css(d):c.delay(X,V).animate(d,{duration:"fast",queue:V}).dequeue(V))},stopBackground:function(a){this.owner.el.stop(V,!0,a)},onClick:function(a){var b=this;b.type==Z.CLEAR&&b.owner.clear()}};var _={createAddon:function(){var a=this,b=new $(a);a.$wrapper.append(b.$el),
a.addon=b},fixAddonPosition:function(a,b){this.addon.fixPosition(a,b)},checkAddonType:function(){this.addon.checkType()},checkAddonVisibility:function(){this.addon.toggle()},stopBackground:function(){this.addon.stopBackground()}};a.extend(C,Y),J.on("initialize",_.createAddon).on("setOptions",_.checkAddonType).on("fixPosition",_.fixAddonPosition).on("clear",_.checkAddonVisibility).on("valueChange",_.checkAddonVisibility).on("request",_.checkAddonVisibility).on("resetPosition",_.stopBackground);var aa={constraints:null,restrict_value:!1},ba=["region_fias_id","area_fias_id","city_fias_id","city_district_fias_id","settlement_fias_id","street_fias_id"],ca=function(b,c){var d,e,f=this,g={};f.instance=c,f.fields={},f.specificity=-1,a.isPlainObject(b)&&c.type.dataComponents&&a.each(c.type.dataComponents,function(a,c){var d=c.id;c.forLocations&&b[d]&&(f.fields[d]=b[d],f.specificity=a)}),d=Object.keys(f.fields),e=B.arraysIntersection(d,ba),e.length?(a.each(e,function(a,b){g[b]=f.fields[b]}),f.fields=g,f.specificity=f.getFiasSpecificity(e)):f.fields.kladr_id&&(f.fields={kladr_id:f.fields.kladr_id},f.specificity=f.getKladrSpecificity(f.fields.kladr_id))};a.extend(ca.prototype,{getLabel:function(){return this.instance.type.composeValue(this.fields,{saveCityDistrict:!0})},getFields:function(){return this.fields},isValid:function(){return!a.isEmptyObject(this.fields)},getKladrSpecificity:function(b){var c,d=-1;return this.significantKladr=b.replace(/^(\d{2})(\d*?)(0+)$/g,"$1$2"),c=this.significantKladr.length,a.each(this.instance.type.dataComponents,function(a,b){b.kladrFormat&&c===b.kladrFormat.digits&&(d=a)}),d},getFiasSpecificity:function(b){var c=-1;return a.each(this.instance.type.dataComponents,function(d,e){e.fiasType&&a.inArray(e.fiasType,b)>-1&&c<d&&(c=d)}),c},containsData:function(b){var c=!0;return this.fields.kladr_id?!!b.kladr_id&&0===b.kladr_id.indexOf(this.significantKladr):(a.each(this.fields,function(a,d){return c=!!b[a]&&b[a].toLowerCase()===d.toLowerCase()}),c)}}),e.ConstraintLocation=ca;var da=function(b,c){this.id=B.uniqueId("c"),this.deletable=!!b.deletable,this.instance=c,this.locations=a.map(a.makeArray(b&&(b.locations||b.restrictions)),function(a){return new ca(a,c)}),this.locations=a.grep(this.locations,function(a){return a.isValid()}),this.label=b.label,null==this.label&&c.type.composeValue&&(this.label=a.map(this.locations,function(a){return a.getLabel()}).join(", ")),this.label&&this.isValid()&&(this.$el=a(document.createElement("li")).append(a(document.createElement("span")).text(this.label)).attr("data-constraint-id",this.id),this.deletable&&this.$el.append(a(document.createElement("span")).addClass(c.classes.removeConstraint)))};a.extend(da.prototype,{isValid:function(){return this.locations.length>0},getFields:function(){return a.map(this.locations,function(a){return a.getFields()})}});var ea={createConstraints:function(){var b=this;b.constraints={},b.$constraints=a('<ul class="suggestions-constraints"/>'),b.$wrapper.append(b.$constraints),b.$constraints.on("click","."+b.classes.removeConstraint,a.proxy(b.onConstraintRemoveClick,b))},setConstraintsPosition:function(a,b){var c=this;c.$constraints.css({left:a.left+b.borderLeft+b.paddingLeft+"px",top:a.top+b.borderTop+Math.round((b.innerHeight-c.$constraints.height())/2)+"px"}),b.componentsLeft+=c.$constraints.outerWidth(!0)+b.paddingLeft},onConstraintRemoveClick:function(b){var c=this,d=a(b.target).closest("li"),e=d.attr("data-constraint-id");delete c.constraints[e],c.update(),d.fadeOut("fast",function(){c.removeConstraint(e)})},setupConstraints:function(){var b,c=this,d=c.options.constraints;return d?void(d instanceof a||"string"==typeof d||"number"==typeof d.nodeType?(b=a(d),b.is(c.constraints)||(c.unbindFromParent(),b.is(c.el)||(c.constraints=b,c.bindToParent()))):(c._constraintsUpdating=!0,a.each(c.constraints,a.proxy(c.removeConstraint,c)),a.each(a.makeArray(d),function(a,b){c.addConstraint(b)}),c._constraintsUpdating=!1,c.fixPosition())):void c.unbindFromParent()},filteredLocation:function(b){var c=[],d={};if(a.each(this.type.dataComponents,function(){this.forLocations&&c.push(this.id)}),a.isPlainObject(b)&&a.each(b,function(a,b){b&&c.indexOf(a)>=0&&(d[a]=b)}),!a.isEmptyObject(d))return d.kladr_id?{kladr_id:d.kladr_id}:d},addConstraint:function(a){var b=this;a=new da(a,b),a.isValid()&&(b.constraints[a.id]=a,a.$el&&(b.$constraints.append(a.$el),b._constraintsUpdating||b.fixPosition()))},removeConstraint:function(a){},constructConstraintsParams:function(){for(var b,c,d=this,e=[],f=d.constraints,g={};f instanceof a&&(b=f.suggestions())&&!(c=B.getDeepValue(b,"selection.data"));)f=b.constraints;return f instanceof a?(c=new ca(c,b).getFields(),c&&(d.bounds.own.indexOf("city")>-1&&delete c.city_fias_id,g.locations=[c],g.restrict_value=!0)):f&&(a.each(f,function(a,b){e=e.concat(b.getFields())}),e.length&&(g.locations=e,g.restrict_value=d.options.restrict_value)),g},getFirstConstraintLabel:function(){var b=this,c=a.isPlainObject(b.constraints)&&Object.keys(b.constraints)[0];return c?b.constraints[c].label:""},bindToParent:function(){var b=this;b.constraints.on(["suggestions-select."+b.uniqueId,"suggestions-invalidateselection."+b.uniqueId,"suggestions-clear."+b.uniqueId].join(" "),a.proxy(b.onParentSelectionChanged,b)).on("suggestions-dispose."+b.uniqueId,a.proxy(b.onParentDispose,b))},unbindFromParent:function(){var b=this,c=b.constraints;c instanceof a&&c.off("."+b.uniqueId)},onParentSelectionChanged:function(a,b,c){("suggestions-select"!==a.type||c)&&this.clear()},onParentDispose:function(a){this.unbindFromParent()},getParentInstance:function(){return this.constraints instanceof a&&this.constraints.suggestions()},shareWithParent:function(a){var b=this.getParentInstance();b&&b.type===this.type&&!k(a,b)&&(b.shareWithParent(a),b.setSuggestion(a))},getUnrestrictedData:function(b){var c=this,d=[],e={},f=-1;return a.each(c.constraints,function(c,d){a.each(d.locations,function(a,c){c.containsData(b)&&c.specificity>f&&(f=c.specificity)})}),f>=0?(b.region_kladr_id&&b.region_kladr_id===b.city_kladr_id&&d.push.apply(d,c.type.dataComponentsById.city.fields),a.each(c.type.dataComponents.slice(0,f+1),function(a,b){d.push.apply(d,b.fields)}),a.each(b,function(a,b){d.indexOf(a)===-1&&(e[a]=b)})):e=b,e}};a.extend(C,aa),a.extend(e.prototype,ea),"GET"!=B.getDefaultType()&&J.on("initialize",ea.createConstraints).on("setOptions",ea.setupConstraints).on("fixPosition",ea.setConstraintsPosition).on("requestParams",ea.constructConstraintsParams).on("dispose",ea.unbindFromParent);var fa={proceedQuery:function(a){var b=this;a.length>=b.options.minChars?b.updateSuggestions(a):b.hide()},selectCurrentValue:function(a){var b=this,c=y.Deferred();return b.inputPhase.resolve(),b.fetchPhase.done(function(){var d;b.selection&&!b.visible?c.reject():(d=b.findSuggestionIndex(),b.select(d,a),d===-1?c.reject():c.resolve(d))}).fail(function(){c.reject()}),c},selectFoundSuggestion:function(){var a=this;a.requestMode.userSelect||a.select(0)},findSuggestionIndex:function(){var a,b=this,c=b.selectedIndex;return c===-1&&(a=b.el.val().trim(),a&&b.type.matchers.some(function(d){return c=d(a,b.suggestions),c!==-1})),c},select:function(a,b){var c,d=this,e=d.suggestions[a],f=b&&b.continueSelecting,g=d.currentValue;if(!d.triggering.Select){if(!e)return f||d.selection||d.triggerOnSelectNothing(),void d.onSelectComplete(f);c=d.hasSameValues(e),d.enrichSuggestion(e,b).done(function(e,f){var h=y.extend({hasBeenEnriched:f,hasSameValues:c},b);d.selectSuggestion(e,a,g,h)})}},selectSuggestion:function(a,b,c,d){var e=this,f=d.continueSelecting,g=!e.type.isDataComplete||e.type.isDataComplete.call(e,a),h=e.selection;e.triggering.Select||(e.type.alwaysContinueSelecting&&(f=!0),g&&(f=!1),d.hasBeenEnriched&&e.suggestions[b]&&(e.suggestions[b].data=a.data),e.requestMode.updateValue&&(e.checkValueBounds(a),e.currentValue=e.getSuggestionValue(a,d),!e.currentValue||d.noSpace||g||(e.currentValue+=" "),e.el.val(e.currentValue)),e.currentValue?(e.selection=a,e.areSuggestionsSame(a,h)||e.trigger("Select",a,e.currentValue!=c),e.requestMode.userSelect&&e.onSelectComplete(f)):(e.selection=null,e.triggerOnSelectNothing()),e.shareWithParent(a))},onSelectComplete:function(a){var b=this;a?(b.selectedIndex=-1,b.updateSuggestions(b.currentValue)):b.hide()},triggerOnSelectNothing:function(){var a=this;a.triggering.SelectNothing||a.trigger("SelectNothing",a.currentValue)},trigger:function(a){var b=this,c=B.slice(arguments,1),d=b.options["on"+a];b.triggering[a]=!0,B.isFunction(d)&&d.apply(b.element,c),b.el.trigger.call(b.el,"suggestions-"+a.toLowerCase(),c),b.triggering[a]=!1}};y.extend(e.prototype,fa),J.on("assignSuggestions",fa.selectFoundSuggestion);var ga={bounds:null},ha={setupBounds:function(){this.bounds={from:null,to:null}},setBoundsOptions:function(){var b,c,d=this,e=[],f=a.trim(d.options.bounds).split("-"),g=f[0],h=f[f.length-1],i=[],j=[];d.type.dataComponents&&a.each(d.type.dataComponents,function(){this.forBounds&&e.push(this.id)}),a.inArray(g,e)===-1&&(g=null),c=a.inArray(h,e),c!==-1&&c!==e.length-1||(h=null),(g||h)&&(b=!g,a.each(e,function(a,c){if(c==g&&(b=!0),j.push(c),b&&i.push(c),c==h)return!1})),d.bounds.from=g,d.bounds.to=h,d.bounds.all=j,d.bounds.own=i},constructBoundsParams:function(){var a=this,b={};return a.bounds.from&&(b.from_bound={value:a.bounds.from}),a.bounds.to&&(b.to_bound={value:a.bounds.to}),b},checkValueBounds:function(a){var b,c=this;if(c.bounds.own.length&&c.type.composeValue){var d=c.bounds.own.slice(0);1===d.length&&"city_district"===d[0]&&d.push("city_district_fias_id"),b=c.copyDataComponents(a.data,d),a.value=c.type.composeValue(b)}},copyDataComponents:function(b,c){var d={},e=this.type.dataComponentsById;return e&&a.each(c,function(c,f){a.each(e[f].fields,function(a,c){null!=b[c]&&(d[c]=b[c])})}),d},getBoundedKladrId:function(b,c){var d,e=c[c.length-1];return a.each(this.type.dataComponents,function(a,b){if(b.id===e)return d=b.kladrFormat,!1}),b.substr(0,d.digits)+new Array((d.zeros||0)+1).join("0")}};a.extend(C,ga),a.extend(e.prototype,ha),J.on("initialize",ha.setupBounds).on("setOptions",ha.setBoundsOptions).on("requestParams",ha.constructBoundsParams),e.defaultOptions=C,e.version="18.3.1",a.Suggestions=e,a.fn.suggestions=function(b,c){return 0===arguments.length?this.first().data(s):this.each(function(){var d=a(this),f=d.data(s);"string"==typeof b?f&&"function"==typeof f[b]&&f[b](c):(f&&f.dispose&&f.dispose(),f=new e(this,b),d.data(s,f))})}}),!function(a){"use strict";a.Zebra_DatePicker=function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N={always_visible:!1,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],days_abbr:!1,direction:0,disabled_dates:!1,enabled_dates:!1,first_day_of_week:1,format:"Y-m-d",header_captions:{days:"F, Y",months:"Y",years:"Y1 - Y2"},header_navigation:["&#171;","&#187;"],inside:!0,lang_clear_date:"Clear date",months:["January","February","March","April","May","June","July","August","September","October","November","December"],months_abbr:!1,offset:[5,-5],pair:!1,readonly_element:!0,select_other_months:!1,show_clear_date:0,show_icon:!0,show_other_months:!0,show_select_today:"Today",show_week_number:!1,start_date:!1,strict:!1,view:"days",weekend_days:[0,6],zero_pad:!1,onChange:null,onClear:null,onOpen:null,onSelect:null},O=this;O.settings={};var P=a(b),Q=function(b){if(!b){O.settings=a.extend({},N,c);for(var y in P.data())0===y.indexOf("zdp_")&&(y=y.replace(/^zdp\_/,""),void 0!==N[y]&&(O.settings[y]="pair"==y?a(P.data("zdp_"+y)):P.data("zdp_"+y)))}O.settings.readonly_element&&P.attr("readonly","readonly");var E={days:["d","j","D"],months:["F","m","M","n","t"],years:["o","Y","y"]},F=!1,G=!1,Q=!1,T=null;for(T in E)a.each(E[T],function(a,b){O.settings.format.indexOf(b)>-1&&("days"==T?F=!0:"months"==T?G=!0:"years"==T&&(Q=!0))});H=F&&G&&Q?["years","months","days"]:!F&&G&&Q?["years","months"]:F&&G&&!Q?["months","days"]:F||G||!Q?F||!G||Q?["years","months","days"]:["months"]:["years"],-1==a.inArray(O.settings.view,H)&&(O.settings.view=H[H.length-1]),x=[],w=[];for(var U,V=0;2>V;V++)U=0===V?O.settings.disabled_dates:O.settings.enabled_dates,a.isArray(U)&&U.length>0&&a.each(U,function(){for(var b=this.split(" "),c=0;4>c;c++){b[c]||(b[c]="*"),b[c]=b[c].indexOf(",")>-1?b[c].split(","):new Array(b[c]);for(var d=0;d<b[c].length;d++)if(b[c][d].indexOf("-")>-1){var e=b[c][d].match(/^([0-9]+)\-([0-9]+)/);if(null!==e){for(var f=ea(e[1]);f<=ea(e[2]);f++)-1==a.inArray(f,b[c])&&b[c].push(f+"");b[c].splice(d,1)}}for(d=0;d<b[c].length;d++)b[c][d]=isNaN(ea(b[c][d]))?b[c][d]:ea(b[c][d])}0===V?x.push(b):w.push(b)});var W,X,Y=new Date,_=O.settings.reference_date?O.settings.reference_date:P.data("zdp_reference_date")&&void 0!==P.data("zdp_reference_date")?P.data("zdp_reference_date"):Y;if(z=void 0,A=void 0,o=_.getMonth(),l=Y.getMonth(),p=_.getFullYear(),m=Y.getFullYear(),q=_.getDate(),n=Y.getDate(),O.settings.direction===!0)z=_;else if(O.settings.direction===!1)A=_,D=A.getMonth(),C=A.getFullYear(),B=A.getDate();else if(!a.isArray(O.settings.direction)&&$(O.settings.direction)&&ea(O.settings.direction)>0||a.isArray(O.settings.direction)&&((W=R(O.settings.direction[0]))||O.settings.direction[0]===!0||$(O.settings.direction[0])&&O.settings.direction[0]>0)&&((X=R(O.settings.direction[1]))||O.settings.direction[1]===!1||$(O.settings.direction[1])&&O.settings.direction[1]>=0))z=W?W:new Date(p,o,q+ea(a.isArray(O.settings.direction)?O.settings.direction[0]===!0?0:O.settings.direction[0]:O.settings.direction)),o=z.getMonth(),p=z.getFullYear(),q=z.getDate(),X&&+X>=+z?A=X:!X&&O.settings.direction[1]!==!1&&a.isArray(O.settings.direction)&&(A=new Date(p,o,q+ea(O.settings.direction[1]))),A&&(D=A.getMonth(),C=A.getFullYear(),B=A.getDate());else if(!a.isArray(O.settings.direction)&&$(O.settings.direction)&&ea(O.settings.direction)<0||a.isArray(O.settings.direction)&&(O.settings.direction[0]===!1||$(O.settings.direction[0])&&O.settings.direction[0]<0)&&((W=R(O.settings.direction[1]))||$(O.settings.direction[1])&&O.settings.direction[1]>=0))A=new Date(p,o,q+ea(a.isArray(O.settings.direction)?O.settings.direction[0]===!1?0:O.settings.direction[0]:O.settings.direction)),D=A.getMonth(),C=A.getFullYear(),B=A.getDate(),W&&+A>+W?z=W:!W&&a.isArray(O.settings.direction)&&(z=new Date(C,D,B-ea(O.settings.direction[1]))),z&&(o=z.getMonth(),p=z.getFullYear(),q=z.getDate());else if(a.isArray(O.settings.disabled_dates)&&O.settings.disabled_dates.length>0)for(var ca in x)if("*"==x[ca][0]&&"*"==x[ca][1]&&"*"==x[ca][2]&&"*"==x[ca][3]){var ga=[];if(a.each(w,function(){var a=this;"*"!=a[2][0]&&ga.push(parseInt(a[2][0]+("*"==a[1][0]?"12":da(a[1][0],2))+("*"==a[0][0]?"*"==a[1][0]?"31":new Date(a[2][0],a[1][0],0).getDate():da(a[0][0],2)),10))}),ga.sort(),ga.length>0){var ia=(ga[0]+"").match(/([0-9]{4})([0-9]{2})([0-9]{2})/);p=parseInt(ia[1],10),o=parseInt(ia[2],10)-1,q=parseInt(ia[3],10)}break}if(Z(p,o,q)){for(;Z(p);)z?(p++,o=0):(p--,o=11);for(;Z(p,o);)z?(o++,q=1):(o--,q=new Date(p,o+1,0).getDate()),o>11?(p++,o=0,q=1):0>o&&(p--,o=11,q=new Date(p,o+1,0).getDate());for(;Z(p,o,q);)z?q++:q--,Y=new Date(p,o,q),p=Y.getFullYear(),o=Y.getMonth(),q=Y.getDate();Y=new Date(p,o,q),p=Y.getFullYear(),o=Y.getMonth(),q=Y.getDate()}var ja=R(P.val()||(O.settings.start_date?O.settings.start_date:""));if(ja&&O.settings.strict&&Z(ja.getFullYear(),ja.getMonth(),ja.getDate())&&P.val(""),b||fa(z),!O.settings.always_visible){if(!b){if(O.settings.show_icon){"firefox"==ha.name&&P.is('input[type="text"]')&&"inline"==P.css("display")&&P.css("display","inline-block");var ka=a('<span class="Zebra_DatePicker_Icon_Wrapper"></span>').css({display:P.css("display"),position:"static"==P.css("position")?"relative":P.css("position"),"float":P.css("float"),top:P.css("top"),right:P.css("right"),bottom:P.css("bottom"),left:P.css("left")});P.wrap(ka).css({position:"relative",top:"auto",right:"auto",bottom:"auto",left:"auto"}),f=a('<button type="button" class="Zebra_DatePicker_Icon'+("disabled"==P.attr("disabled")?" Zebra_DatePicker_Icon_Disabled":"")+'">Pick a date</button>'),O.icon=f,I=f.add(P)}else I=P;I.bind("click",function(a){a.preventDefault(),P.attr("disabled")||("none"!=e.css("display")?O.hide():O.show())}),void 0!==f&&f.insertAfter(P)}if(void 0!==f){f.attr("style",""),O.settings.inside&&f.addClass("Zebra_DatePicker_Icon_Inside");var la=P.outerWidth(),ma=P.outerHeight(),na=parseInt(P.css("marginLeft"),10)||0,oa=parseInt(P.css("marginTop"),10)||0,pa=f.outerWidth(),qa=f.outerHeight(),ra=parseInt(f.css("marginLeft"),10)||0,sa=parseInt(f.css("marginRight"),10)||0;O.settings.inside?f.css({top:oa+(ma-qa)/2,left:na+(la-pa-sa)}):f.css({top:oa+(ma-qa)/2,left:na+la+ra})}}if(L=O.settings.show_select_today!==!1&&a.inArray("days",H)>-1&&!Z(m,l,n)&&O.settings.show_select_today,!b){a(window).bind("resize.Zebra_DatePicker",function(){O.hide(),void 0!==f&&(clearTimeout(M),M=setTimeout(function(){O.update()},100))});var ta='<div class="Zebra_DatePicker"><table class="dp_header"><tr><td class="dp_previous">'+O.settings.header_navigation[0]+'</td><td class="dp_caption">&#032;</td><td class="dp_next">'+O.settings.header_navigation[1]+'</td></tr></table><table class="dp_daypicker"></table><table class="dp_monthpicker"></table><table class="dp_yearpicker"></table><table class="dp_footer"><tr><td class="dp_today"'+(O.settings.show_clear_date!==!1?' style="width:50%"':"")+">"+L+'</td><td class="dp_clear"'+(L!==!1?' style="width:50%"':"")+">"+O.settings.lang_clear_date+"</td></tr></table></div>";e=a(ta),O.datepicker=e,g=a("table.dp_header",e),h=a("table.dp_daypicker",e),i=a("table.dp_monthpicker",e),j=a("table.dp_yearpicker",e),K=a("table.dp_footer",e),J=a("td.dp_today",K),k=a("td.dp_clear",K),O.settings.always_visible?P.attr("disabled")||(O.settings.always_visible.append(e),O.show()):a("body").append(e),e.delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)","mouseover",function(){a(this).addClass("dp_hover")}).delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)","mouseout",function(){a(this).removeClass("dp_hover")}),S(a("td",g)),a(".dp_previous",g).bind("click",function(){"months"==d?s--:"years"==d?s-=12:--r<0&&(r=11,s--),aa()}),a(".dp_caption",g).bind("click",function(){d="days"==d?a.inArray("months",H)>-1?"months":a.inArray("years",H)>-1?"years":"days":"months"==d?a.inArray("years",H)>-1?"years":a.inArray("days",H)>-1?"days":"months":a.inArray("days",H)>-1?"days":a.inArray("months",H)>-1?"months":"years",aa()}),a(".dp_next",g).bind("click",function(){"months"==d?s++:"years"==d?s+=12:12==++r&&(r=0,s++),aa()}),h.delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)","click",function(){O.settings.select_other_months&&null!==(ia=a(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/))?ba(ia[1],ia[2]-1,ia[3],"days",a(this)):ba(s,r,ea(a(this).html()),"days",a(this))}),i.delegate("td:not(.dp_disabled)","click",function(){var b=a(this).attr("class").match(/dp\_month\_([0-9]+)/);r=ea(b[1]),-1==a.inArray("days",H)?ba(s,r,1,"months",a(this)):(d="days",O.settings.always_visible&&P.val(""),aa())}),j.delegate("td:not(.dp_disabled)","click",function(){s=ea(a(this).html()),-1==a.inArray("months",H)?ba(s,1,1,"years",a(this)):(d="months",O.settings.always_visible&&P.val(""),aa())}),a(J).bind("click",function(b){b.preventDefault(),ba(m,l,n,"days",a(".dp_current",h)),O.settings.always_visible&&O.show(),O.hide()}),a(k).bind("click",function(b){b.preventDefault(),P.val(""),O.settings.always_visible?(t=null,u=null,v=null,a("td.dp_selected",e).removeClass("dp_selected")):(t=null,u=null,v=null,r=null,s=null),O.hide(),O.settings.onClear&&"function"==typeof O.settings.onClear&&O.settings.onClear.call(P,P)}),O.settings.always_visible||a(document).bind({"mousedown.Zebra_DatePicker":function(b){if("block"==e.css("display")){if(O.settings.show_icon&&a(b.target).get(0)===f.get(0))return!0;0===a(b.target).parents().filter(".Zebra_DatePicker").length&&O.hide()}},"keyup.Zebra_DatePicker":function(a){"block"==e.css("display")&&27==a.which&&O.hide()}}),aa()}};O.destroy=function(){void 0!==O.icon&&O.icon.remove(),O.datepicker.remove(),a(document).unbind("keyup.Zebra_DatePicker"),a(document).unbind("mousedown.Zebra_DatePicker"),a(window).unbind("resize.Zebra_DatePicker"),P.removeData("Zebra_DatePicker")},O.hide=function(){O.settings.always_visible||(Y("hide"),e.hide())},O.show=function(){d=O.settings.view;var b=R(P.val()||(O.settings.start_date?O.settings.start_date:""));if(b?(u=b.getMonth(),r=b.getMonth(),v=b.getFullYear(),s=b.getFullYear(),t=b.getDate(),Z(v,u,t)&&(O.settings.strict&&P.val(""),r=o,s=p)):(r=o,s=p),aa(),O.settings.always_visible)e.show();else{var c=e.outerWidth(),g=e.outerHeight(),h=(void 0!==f?f.offset().left+f.outerWidth(!0):P.offset().left+P.outerWidth(!0))+O.settings.offset[0],i=(void 0!==f?f.offset().top:P.offset().top)-g+O.settings.offset[1],j=a(window).width(),k=a(window).height(),l=a(window).scrollTop(),m=a(window).scrollLeft();h+c>m+j&&(h=m+j-c),m>h&&(h=m),i+g>l+k&&(i=l+k-g),l>i&&(i=l),e.css({left:h,top:i}),e.fadeIn("explorer"==ha.name&&ha.version<9?0:150,"linear"),Y()}O.settings.onOpen&&"function"==typeof O.settings.onOpen&&O.settings.onOpen.call(P,P)},O.update=function(b){O.original_direction&&(O.original_direction=O.direction),O.settings=a.extend(O.settings,b),Q(!0)};var R=function(b){if(b+="",""!==a.trim(b)){for(var c=T(O.settings.format),d=["d","D","j","l","N","S","w","F","m","M","n","Y","y"],e=[],f=[],g=null,h=null,i=0;i<d.length;i++)(g=c.indexOf(d[i]))>-1&&e.push({character:d[i],position:g});if(e.sort(function(a,b){return a.position-b.position}),a.each(e,function(a,b){switch(b.character){case"d":f.push("0[1-9]|[12][0-9]|3[01]");break;case"D":f.push("[a-z]{3}");break;case"j":f.push("[1-9]|[12][0-9]|3[01]");break;case"l":f.push("[a-z]+");break;case"N":f.push("[1-7]");break;case"S":f.push("st|nd|rd|th");break;case"w":f.push("[0-6]");break;case"F":f.push("[a-z]+");break;case"m":f.push("0[1-9]|1[012]+");break;case"M":f.push("[a-z]{3}");break;case"n":f.push("[1-9]|1[012]");break;case"Y":f.push("[0-9]{4}");break;case"y":f.push("[0-9]{2}")}}),f.length&&(e.reverse(),a.each(e,function(a,b){c=c.replace(b.character,"("+f[f.length-a-1]+")")}),f=new RegExp("^"+c+"$","ig"),h=f.exec(b))){var j,k=new Date,l=k.getDate(),m=k.getMonth()+1,n=k.getFullYear(),o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"],q=!0;if(e.reverse(),a.each(e,function(b,c){if(!q)return!0;switch(c.character){case"m":case"n":m=ea(h[b+1]);break;case"d":case"j":l=ea(h[b+1]);break;case"D":case"l":case"F":case"M":j="D"==c.character||"l"==c.character?O.settings.days:O.settings.months,q=!1,a.each(j,function(a,d){if(q)return!0;if(h[b+1].toLowerCase()==d.substring(0,"D"==c.character||"M"==c.character?3:d.length).toLowerCase()){switch(c.character){case"D":h[b+1]=o[a].substring(0,3);break;case"l":h[b+1]=o[a];break;case"F":h[b+1]=p[a],m=a+1;break;case"M":h[b+1]=p[a].substring(0,3),m=a+1}q=!0}});break;case"Y":n=ea(h[b+1]);break;case"y":n="19"+ea(h[b+1])}}),q){var r=new Date(n,(m||1)-1,l||1);if(r.getFullYear()==n&&r.getDate()==(l||1)&&r.getMonth()==(m||1)-1)return r}}return!1}},S=function(a){"firefox"==ha.name?a.css("MozUserSelect","none"):"explorer"==ha.name?a.bind("selectstart",function(){return!1}):a.mousedown(function(){return!1})},T=function(a){return a.replace(/([-.,*+?^${}()|[\]\/\\])/g,"\\$1")},U=function(b){for(var c="",d=b.getDate(),e=b.getDay(),f=O.settings.days[e],g=b.getMonth()+1,h=O.settings.months[g-1],i=b.getFullYear()+"",j=0;j<O.settings.format.length;j++){var k=O.settings.format.charAt(j);switch(k){case"y":i=i.substr(2);case"Y":c+=i;break;case"m":g=da(g,2);case"n":c+=g;break;case"M":h=a.isArray(O.settings.months_abbr)&&void 0!==O.settings.months_abbr[g-1]?O.settings.months_abbr[g-1]:O.settings.months[g-1].substr(0,3);case"F":c+=h;break;case"d":d=da(d,2);case"j":c+=d;break;case"D":f=a.isArray(O.settings.days_abbr)&&void 0!==O.settings.days_abbr[e]?O.settings.days_abbr[e]:O.settings.days[e].substr(0,3);case"l":c+=f;break;case"N":e++;case"w":c+=e;break;case"S":c+=d%10==1&&"11"!=d?"st":d%10==2&&"12"!=d?"nd":d%10==3&&"13"!=d?"rd":"th";break;default:c+=k}}return c},V=function(){var b=new Date(s,r+1,0).getDate(),c=new Date(s,r,1).getDay(),d=new Date(s,r,0).getDate(),e=c-O.settings.first_day_of_week;e=0>e?7+e:e,_(O.settings.header_captions.days);var f="<tr>";O.settings.show_week_number&&(f+="<th>"+O.settings.show_week_number+"</th>");for(var g=0;7>g;g++)f+="<th>"+(a.isArray(O.settings.days_abbr)&&void 0!==O.settings.days_abbr[(O.settings.first_day_of_week+g)%7]?O.settings.days_abbr[(O.settings.first_day_of_week+g)%7]:O.settings.days[(O.settings.first_day_of_week+g)%7].substr(0,2))+"</th>";for(f+="</tr><tr>",g=0;42>g;g++){g>0&&g%7===0&&(f+="</tr><tr>"),g%7===0&&O.settings.show_week_number&&(f+='<td class="dp_week_number">'+ga(new Date(s,r,g-e+1))+"</td>");var i=g-e+1;if(O.settings.select_other_months&&(e>g||i>b)){var j=new Date(s,r,i),k=j.getFullYear(),o=j.getMonth(),p=j.getDate();j=k+da(o+1,2)+da(p,2)}if(e>g)f+='<td class="'+(O.settings.select_other_months&&!Z(k,o,p)?"dp_not_in_month_selectable date_"+j:"dp_not_in_month")+'">'+(O.settings.select_other_months||O.settings.show_other_months?da(d-e+g+1,O.settings.zero_pad?2:0):"&nbsp;")+"</td>";else if(i>b)f+='<td class="'+(O.settings.select_other_months&&!Z(k,o,p)?"dp_not_in_month_selectable date_"+j:"dp_not_in_month")+'">'+(O.settings.select_other_months||O.settings.show_other_months?da(i-b,O.settings.zero_pad?2:0):"&nbsp;")+"</td>";else{var q=(O.settings.first_day_of_week+g)%7,w="";Z(s,r,i)?(a.inArray(q,O.settings.weekend_days)>-1?w="dp_weekend_disabled":w+=" dp_disabled",r==l&&s==m&&n==i&&(w+=" dp_disabled_current")):(a.inArray(q,O.settings.weekend_days)>-1&&(w="dp_weekend"),r==u&&s==v&&t==i&&(w+=" dp_selected"),r==l&&s==m&&n==i&&(w+=" dp_current")),f+="<td"+(""!==w?' class="'+a.trim(w)+'"':"")+">"+(O.settings.zero_pad?da(i,2):i)+"</td>"}}f+="</tr>",h.html(a(f)),O.settings.always_visible&&(E=a("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)",h)),h.show()},W=function(){_(O.settings.header_captions.months);for(var b="<tr>",c=0;12>c;c++){c>0&&c%3===0&&(b+="</tr><tr>");var d="dp_month_"+c;Z(s,c)?d+=" dp_disabled":u!==!1&&u==c&&s==v?d+=" dp_selected":l==c&&m==s&&(d+=" dp_current"),b+='<td class="'+a.trim(d)+'">'+(a.isArray(O.settings.months_abbr)&&void 0!==O.settings.months_abbr[c]?O.settings.months_abbr[c]:O.settings.months[c].substr(0,3))+"</td>"}b+="</tr>",i.html(a(b)),O.settings.always_visible&&(F=a("td:not(.dp_disabled)",i)),i.show()},X=function(){_(O.settings.header_captions.years);for(var b="<tr>",c=0;12>c;c++){c>0&&c%3===0&&(b+="</tr><tr>");var d="";Z(s-7+c)?d+=" dp_disabled":v&&v==s-7+c?d+=" dp_selected":m==s-7+c&&(d+=" dp_current"),b+="<td"+(""!==a.trim(d)?' class="'+a.trim(d)+'"':"")+">"+(s-7+c)+"</td>"}b+="</tr>",j.html(a(b)),O.settings.always_visible&&(G=a("td:not(.dp_disabled)",j)),j.show()},Y=function(b){if("explorer"==ha.name&&6==ha.version){if(!y){var c=ea(e.css("zIndex"))-1;y=a("<iframe>",{src:'javascript:document.write("")',scrolling:"no",frameborder:0,css:{zIndex:c,position:"absolute",top:-1e3,left:-1e3,width:e.outerWidth(),height:e.outerHeight(),filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)",display:"none"}}),a("body").append(y)}switch(b){case"hide":y.hide();break;default:var d=e.offset();y.css({top:d.top,left:d.left,display:"block"})}}},Z=function(b,c,d){if((void 0===b||isNaN(b))&&(void 0===c||isNaN(c))&&(void 0===d||isNaN(d)))return!1;if(a.isArray(O.settings.direction)||0!==ea(O.settings.direction)){var e=ea(ca(b,"undefined"!=typeof c?da(c,2):"","undefined"!=typeof d?da(d,2):"")),f=(e+"").length;if(8==f&&("undefined"!=typeof z&&e<ea(ca(p,da(o,2),da(q,2)))||"undefined"!=typeof A&&e>ea(ca(C,da(D,2),da(B,2)))))return!0;if(6==f&&("undefined"!=typeof z&&e<ea(ca(p,da(o,2)))||"undefined"!=typeof A&&e>ea(ca(C,da(D,2)))))return!0;if(4==f&&("undefined"!=typeof z&&p>e||"undefined"!=typeof A&&e>C))return!0}"undefined"!=typeof c&&(c+=1);var g=!1,h=!1;return x&&a.each(x,function(){if(!g){var e=this;if((a.inArray(b,e[2])>-1||a.inArray("*",e[2])>-1)&&("undefined"!=typeof c&&a.inArray(c,e[1])>-1||a.inArray("*",e[1])>-1)&&("undefined"!=typeof d&&a.inArray(d,e[0])>-1||a.inArray("*",e[0])>-1)){if("*"==e[3])return g=!0;var f=new Date(b,c-1,d).getDay();if(a.inArray(f,e[3])>-1)return g=!0}}}),w&&a.each(w,function(){if(!h){var e=this;if((a.inArray(b,e[2])>-1||a.inArray("*",e[2])>-1)&&(h=!0,"undefined"!=typeof c))if(h=!0,a.inArray(c,e[1])>-1||a.inArray("*",e[1])>-1){if("undefined"!=typeof d)if(h=!0,a.inArray(d,e[0])>-1||a.inArray("*",e[0])>-1){if("*"==e[3])return h=!0;var f=new Date(b,c-1,d).getDay();if(a.inArray(f,e[3])>-1)return h=!0;h=!1}else h=!1}else h=!1}}),(!w||!h)&&!(!x||!g)},$=function(a){return!!(a+"").match(/^\-?[0-9]+$/)},_=function(b){!isNaN(parseFloat(r))&&isFinite(r)&&(b=b.replace(/\bm\b|\bn\b|\bF\b|\bM\b/,function(b){switch(b){case"m":return da(r+1,2);case"n":return r+1;case"F":return O.settings.months[r];case"M":return a.isArray(O.settings.months_abbr)&&void 0!==O.settings.months_abbr[r]?O.settings.months_abbr[r]:O.settings.months[r].substr(0,3);default:return b}})),!isNaN(parseFloat(s))&&isFinite(s)&&(b=b.replace(/\bY\b/,s).replace(/\by\b/,(s+"").substr(2)).replace(/\bY1\b/i,s-7).replace(/\bY2\b/i,s+4)),a(".dp_caption",g).html(b)},aa=function(){if(""===h.text()||"days"==d){if(""===h.text()){O.settings.always_visible||e.css("left",-1e3),e.show(),V();var b=h.outerWidth(),c=h.outerHeight();i.css({width:b,height:c}),j.css({width:b,height:c}),g.css("width",b),K.css("width",b),e.hide()}else V();i.hide(),j.hide()}else"months"==d?(W(),h.hide(),j.hide()):"years"==d&&(X(),h.hide(),i.hide());if(O.settings.onChange&&"function"==typeof O.settings.onChange&&void 0!==d){var f="days"==d?h.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month)"):"months"==d?i.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month)"):j.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month)");f.each(function(){if("days"==d)if(a(this).hasClass("dp_not_in_month_selectable")){var b=a(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/);a(this).data("date",b[1]+"-"+b[2]+"-"+b[3])}else a(this).data("date",s+"-"+da(r+1,2)+"-"+da(ea(a(this).text()),2));else if("months"==d){var b=a(this).attr("class").match(/dp\_month\_([0-9]+)/);a(this).data("date",s+"-"+da(ea(b[1])+1,2))}else a(this).data("date",ea(a(this).text()))}),O.settings.onChange.call(P,d,f,P)}K.show(),O.settings.show_clear_date===!0||0===O.settings.show_clear_date&&""!==P.val()||O.settings.always_visible&&O.settings.show_clear_date!==!1?(k.show(),L?(J.css("width","50%"),k.css("width","50%")):(J.hide(),k.css("width","100%"))):(k.hide(),L?J.show().css("width","100%"):K.hide())},ba=function(a,b,c,d,e){var f=new Date(a,b,c,12,0,0),g="days"==d?E:"months"==d?F:G,h=U(f);P.val(h),O.settings.always_visible&&(u=f.getMonth(),r=f.getMonth(),v=f.getFullYear(),s=f.getFullYear(),t=f.getDate(),g.removeClass("dp_selected"),e.addClass("dp_selected"),"days"==d&&e.hasClass("dp_not_in_month_selectable")&&O.show()),O.hide(),fa(f),O.settings.onSelect&&"function"==typeof O.settings.onSelect&&O.settings.onSelect.call(P,h,a+"-"+da(b+1,2)+"-"+da(c,2),f,P,ga(f)),P.focus()},ca=function(){for(var a="",b=0;b<arguments.length;b++)a+=arguments[b]+"";return a},da=function(a,b){for(a+="";a.length<b;)a="0"+a;return a},ea=function(a){return parseInt(a,10)},fa=function(b){O.settings.pair&&a.each(O.settings.pair,function(){var c=a(this);if(c.data&&c.data("Zebra_DatePicker")){var d=c.data("Zebra_DatePicker");d.update({reference_date:b,direction:0===d.settings.direction?1:d.settings.direction}),d.settings.always_visible&&d.show()}else c.data("zdp_reference_date",b)})},ga=function(a){var b,c,d,e,f,g,h,i,j,k=a.getFullYear(),l=a.getMonth()+1,m=a.getDate();
return 3>l?(b=k-1,c=(b/4|0)-(b/100|0)+(b/400|0),d=((b-1)/4|0)-((b-1)/100|0)+((b-1)/400|0),e=c-d,f=0,g=m-1+31*(l-1)):(b=k,c=(b/4|0)-(b/100|0)+(b/400|0),d=((b-1)/4|0)-((b-1)/100|0)+((b-1)/400|0),e=c-d,f=e+1,g=m+((153*(l-3)+2)/5|0)+58+e),h=(b+c)%7,m=(g+h-f)%7,i=g+3-m,j=0>i?53-((h-e)/5|0):i>364+e?1:(i/7|0)+1},ha={init:function(){this.name=this.searchString(this.dataBrowser)||"",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string,d=a[b].prop;if(this.versionSearchString=a[b].versionSearch||a[b].identity,c){if(-1!=c.indexOf(a[b].subString))return a[b].identity}else if(d)return a[b].identity}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!=b)return parseFloat(a.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Firefox",identity:"firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]};ha.init(),Q()},a.fn.Zebra_DatePicker=function(b){return this.each(function(){void 0!==a(this).data("Zebra_DatePicker")&&a(this).data("Zebra_DatePicker").destroy();var c=new a.Zebra_DatePicker(this,b);a(this).data("Zebra_DatePicker",c)})}}(jQuery),LPP.common.breakpoints={screenXsMin:320,screenSmMin:480,screenMdMin:768,screenLgMin:992,screenXlMin:1200},LPP.common.isScreenSizeMin=function(a){var b=["Xs","Sm","Md","Lg","Xl"];return isNaN(a)?b.indexOf(a)!==-1?window.matchMedia("(min-width: "+LPP.common.breakpoints["screen"+a+"Min"]+"px)").matches:void 0:window.matchMedia("(min-width: "+a+"px)").matches},LPP.common.keyCode={enter:13},LPP.common.key={DELETE:"Delete",BACKSPACE:"Backspace",SPACE:" ",ESC:"Escape",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},function(a){function b(){}function c(a,b){return function(){a.apply(b,arguments)}}function d(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],j(a,this)}function e(a,b){for(;3===a._state;)a=a._value;return 0===a._state?void a._deferreds.push(b):(a._handled=!0,void d._immediateFn(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null===c)return void(1===a._state?f:g)(b.promise,a._value);var d;try{d=c(a._value)}catch(e){return void g(b.promise,e)}f(b.promise,d)}))}function f(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var e=b.then;if(b instanceof d)return a._state=3,a._value=b,void h(a);if("function"==typeof e)return void j(c(e,b),a)}a._state=1,a._value=b,h(a)}catch(f){g(a,f)}}function g(a,b){a._state=2,a._value=b,h(a)}function h(a){2===a._state&&0===a._deferreds.length&&d._immediateFn(function(){a._handled||d._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)e(a,a._deferreds[b]);a._deferreds=null}function i(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function j(a,b){var c=!1;try{a(function(a){c||(c=!0,f(b,a))},function(a){c||(c=!0,g(b,a))})}catch(d){if(c)return;c=!0,g(b,d)}}var k=setTimeout;d.prototype.catch=function(a){return this.then(null,a)},d.prototype.then=function(a,c){var d=new this.constructor(b);return e(this,new i(a,c,d)),d},d.all=function(a){var b=Array.prototype.slice.call(a);return new d(function(a,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}b[f]=g,0===--e&&a(b)}catch(i){c(i)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},d.resolve=function(a){return a&&"object"==typeof a&&a.constructor===d?a:new d(function(b){b(a)})},d.reject=function(a){return new d(function(b,c){c(a)})},d.race=function(a){return new d(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})},d._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(a){k(a,0)},d._unhandledRejectionFn=function(a){"undefined"!=typeof console&&console},d._setImmediateFn=function(a){d._immediateFn=a},d._setUnhandledRejectionFn=function(a){d._unhandledRejectionFn=a},"undefined"!=typeof module&&module.exports?module.exports=d:a.Promise||(a.Promise=d)}(this),function(a){"use strict";function b(a){if("string"!=typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function c(a){return"string"!=typeof a&&(a=String(a)),a}function d(a){var b={next:function(){var b=a.shift();return{done:void 0===b,value:b}}};return r.iterable&&(b[Symbol.iterator]=function(){return b}),b}function e(a){this.map={},a instanceof e?a.forEach(function(a,b){this.append(b,a)},this):Array.isArray(a)?a.forEach(function(a){this.append(a[0],a[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function f(a){return a.bodyUsed?Promise.reject(new TypeError("Already read")):void(a.bodyUsed=!0)}function g(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function h(a){var b=new FileReader,c=g(b);return b.readAsArrayBuffer(a),c}function i(a){var b=new FileReader,c=g(b);return b.readAsText(a),c}function j(a){for(var b=new Uint8Array(a),c=new Array(b.length),d=0;d<b.length;d++)c[d]=String.fromCharCode(b[d]);return c.join("")}function k(a){if(a.slice)return a.slice(0);var b=new Uint8Array(a.byteLength);return b.set(new Uint8Array(a)),b.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a,a)if("string"==typeof a)this._bodyText=a;else if(r.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(r.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else if(r.arrayBuffer&&r.blob&&t(a))this._bodyArrayBuffer=k(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!r.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(a)&&!u(a))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=k(a)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return i(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(o)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(a){var b=a.toUpperCase();return v.indexOf(b)>-1?b:a}function n(a,b){b=b||{};var c=b.body;if(a instanceof n){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new e(a.headers)),this.method=a.method,this.mode=a.mode,c||null==a._bodyInit||(c=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=b.credentials||this.credentials||"omit",!b.headers&&this.headers||(this.headers=new e(b.headers)),this.method=m(b.method||this.method||"GET"),this.mode=b.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&c)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(c)}function o(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function p(a){var b=new e,c=a.replace(/\r?\n[\t ]+/g," ");return c.split(/\r?\n/).forEach(function(a){var c=a.split(":"),d=c.shift().trim();if(d){var e=c.join(":").trim();b.append(d,e)}}),b}function q(a,b){b||(b={}),this.type="default",this.status=void 0===b.status?200:b.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in b?b.statusText:"OK",this.headers=new e(b.headers),this.url=b.url||"",this._initBody(a)}if(!a.fetch){var r={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};if(r.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],t=function(a){return a&&DataView.prototype.isPrototypeOf(a)},u=ArrayBuffer.isView||function(a){return a&&s.indexOf(Object.prototype.toString.call(a))>-1};e.prototype.append=function(a,d){a=b(a),d=c(d);var e=this.map[a];this.map[a]=e?e+","+d:d},e.prototype.delete=function(a){delete this.map[b(a)]},e.prototype.get=function(a){return a=b(a),this.has(a)?this.map[a]:null},e.prototype.has=function(a){return this.map.hasOwnProperty(b(a))},e.prototype.set=function(a,d){this.map[b(a)]=c(d)},e.prototype.forEach=function(a,b){for(var c in this.map)this.map.hasOwnProperty(c)&&a.call(b,this.map[c],c,this)},e.prototype.keys=function(){var a=[];return this.forEach(function(b,c){a.push(c)}),d(a)},e.prototype.values=function(){var a=[];return this.forEach(function(b){a.push(b)}),d(a)},e.prototype.entries=function(){var a=[];return this.forEach(function(b,c){a.push([c,b])}),d(a)},r.iterable&&(e.prototype[Symbol.iterator]=e.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];n.prototype.clone=function(){return new n(this,{body:this._bodyInit})},l.call(n.prototype),l.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new e(this.headers),url:this.url})},q.error=function(){var a=new q(null,{status:0,statusText:""});return a.type="error",a};var w=[301,302,303,307,308];q.redirect=function(a,b){if(w.indexOf(b)===-1)throw new RangeError("Invalid status code");return new q(null,{status:b,headers:{location:a}})},a.Headers=e,a.Request=n,a.Response=q,a.fetch=function(a,b){return new Promise(function(c,d){var e=new n(a,b),f=new XMLHttpRequest;f.onload=function(){var a={status:f.status,statusText:f.statusText,headers:p(f.getAllResponseHeaders()||"")};a.url="responseURL"in f?f.responseURL:a.headers.get("X-Request-URL");var b="response"in f?f.response:f.responseText;c(new q(b,a))},f.onerror=function(){d(new TypeError("Network request failed"))},f.ontimeout=function(){d(new TypeError("Network request failed"))},f.open(e.method,e.url,!0),"include"===e.credentials?f.withCredentials=!0:"omit"===e.credentials&&(f.withCredentials=!1),"responseType"in f&&r.blob&&(f.responseType="blob"),e.headers.forEach(function(a,b){f.setRequestHeader(b,a)}),f.send("undefined"==typeof e._bodyInit?null:e._bodyInit)})},a.fetch.polyfill=!0}}("undefined"!=typeof self?self:this),NodeList.prototype.forEach||(NodeList.prototype.forEach=forEachPolyfill),HTMLCollection.prototype.forEach||(HTMLCollection.prototype.forEach=forEachPolyfill),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),function(){function a(){return Array.prototype.slice.call(this,0)}NodeList.prototype.toArray||(NodeList.prototype.toArray=a),HTMLCollection.prototype.toArray||(HTMLCollection.prototype.toArray=a)}(),Array.prototype.find||(Array.prototype.find=function(a){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof a)throw new TypeError("predicate must be a function");var b,c,d=Object(this),e=d.length>>>0,f=arguments[1];for(c=0;c<e;c++)if(b=d[c],a.call(f,b,c,d))return b}),Object.assign=function(a,b){"use strict";if(null==a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1;d<arguments.length;d++){var e=arguments[d];if(null!=e)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(c[f]=e[f])}return c},function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}return"function"!=typeof window.CustomEvent&&(a.prototype=window.Event.prototype,void(window.CustomEvent=a))}(),LPP.common.stripTags=function(a){return a.replace(/(?:<(?:[^>]+)>)/gi,"")},LPP.price=LPP.price||{},LPP.price.format=function(a,b){var c,d;return(Array.isArray(a)?a.join(""):a)?(d=Array.isArray(a)?a:[a],c=d.reduce(function(a,b){return"number"==typeof b&&(b=String(b)),a+LPP.price.parseValue(b)},0),b?c:LPP.price.finalFormat(c)):""},LPP.price.parseValue=function(a){var b,c;return a?(b=LegacyBridge.getStoreConfig("locale/symbols/group"),c=LegacyBridge.getStoreConfig("locale/symbols/decimal"),b&&(a=a.replace(new RegExp("\\"+b+"(?=.{3})","g"),"")),a=a.replace(new RegExp("\\"+c),"."),parseFloat(a)):null},LPP.price.finalFormat=function(a){const b=/\.0*$/,c=/[^#,0.]*/g;var d,e,f,g,h,i,j,k,l,m,n,o="";return"undefined"==typeof a?"":(g=LegacyBridge.getStoreConfig("locale/currencyNumber").replace(c,""),m=g.replace(b,"").split(",").reduce(function(a,b){return a.push(b.length),a},[]).slice(1),n=m.length>1,d=n?new RegExp("\\d(?=\\d{"+(m[0]+m[1])+"}$)|\\d(?=\\d{"+m[1]+"}$)","g"):new RegExp("\\d(?=(\\d{"+m[0]+"})+$)","g"),j=g.match(b),k=j?j[0].length-1:0,l=0===k,l?f=a.toFixed(0):(e=a.toFixed(k).split("."),f=e[0],o=e[1]),h=LegacyBridge.getStoreConfig("locale/symbols/group"),i=LegacyBridge.getStoreConfig("locale/symbols/decimal"),f=f.replace(d,"$&"+h),a=l?f:f+i+o)},function(a){function b(a){return c[a]?Promise.resolve(c[a]):fetch(a).then(function(b){return c[a]=b.text()})}var c=Object.create(null);a.setMustacheTemplate=function(a,c,d){return d=d||{},b(c).then(function(b){var c=Mustache.render(b,d);return a.innerHTML=c,c}).catch(function(a){})}}(LPP.common),LPP.common=LPP.common||{},LPP.common.checkout=LPP.common.checkout||{},LPP.common.checkout.isPostCodeOutOfService=function(a){return LPP.common.checkout.isPostCodeOutOfServiceUrl?fetch(LPP.common.checkout.isPostCodeOutOfServiceUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"postcode="+a}).then(function(a){return a.json()}):new Promise(function(a){a(!1)})},LPP.common.checkout.isPostcodeInService=function(a,b){return LPP.common.checkout.blockNotInServicePostcodesEnabled&&b!==LPP.common.shipping.storeMethod?fetch(LPP.common.checkout.isPostcodeInServiceUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"postcode="+a+"&couriercode="+b}).then(function(a){return a.json()}).catch(function(){return!0}):Promise.resolve(!0)},LPP.common.checkout.creditCardInput=function(){var a={key:"",init:function(b,c){var d;b=b||".credit-card-number-input",c=c||19,d=document.querySelectorAll(b),d.forEach(function(b){b.addEventListener("keydown",function(b){a.key=b.key}),b.addEventListener("input",a.formatCardNubmer.bind(null,c)),b.addEventListener("keyup",function(){a.key=""})})},formatCardNubmer:function(b,c){var d=c.target.selectionStart,e=a.key===LPP.common.key.DELETE||a.key===LPP.common.key.BACKSPACE,f=a.prepareCardNumberValue(c.target.value,b);c.target.value=a.trimIfNeeded(f,e),a.setProperCursorPosition(c,d,e)},prepareCardNumberValue:function(a,b){return a.replace(/\D/g,"").slice(0,b).replace(/(\d{4})/g,"$1 ")},trimIfNeeded:function(a,b){return b?a.trim():a},setProperCursorPosition:function(b,c,d){var e=c+1,f=c-1,g=c,h=!isNaN(parseInt(a.key)),i=a.key===LPP.common.key.SPACE,j=a.key===LPP.common.key.DELETE,k=!((c+1)%5),l=!(c%5),m=j&&k,n=h&&l,o=h&&k,p=i&&!l,q=!h&&!i&&!d||p;m||n||o?g=e:q&&(g=f),b.target.setSelectionRange(g,g)}};return a}(),LPP.common.rma.amountToReturn=function(a){var b={disabledClass:"disabled",init:function(a){b.item=a.item,b.qtyInput=a.qtyInput,b.quantityRma=b.qtyInput.val(),b.productPrice=a.priceInput,b.btns=a.btns,b.itemId=b.item.data("item-id"),b.itemSku=b.item.data("item-sku"),b.data={id:b.itemId,sku:b.itemSku,amount:b.quantityRma},b.url=b.item.data("url"),b.beforeRequest(),b.getProductPrice()},getProductPrice:function(){LegacyBridge.fetchData(b.url,b.data,"get").then(function(a){return a.json()}).then(function(a){b.setProductPrice(a),b.afterRequest()}).catch(function(a){b.afterRequest(a)})},setProductPrice:function(a){"success"===a.status&&b.productPrice.html(a.price)},beforeRequest:function(){var a=0;for(b.qtyInput.disabled=!0,a;a<b.btns.length;a++)b.btns[a].disabled=!0,b.btns[a].classList.add(b.disabledClass)},afterRequest:function(){var a=0;for(b.qtyInput.disabled=!1,a;a<b.btns.length;a++)b.btns[a].disabled=!1,b.btns[a].classList.remove(b.disabledClass)}};return b.init(a),b},LPP.common.rma.validateRussianAccountNumber=function(){var a={init:function(b){if(LPP.common.rma.validateRussianAccountNumberEnabled)return a.checkWeightNumber(b.accountNumberId,b.bikId)},checkWeightNumber:function(b,c){var d=a.weightsFactor(b,c).reduce(function(a,b){return a+b});return d%10===0},weightsFactor:function(b,c){var d=[7,1,3],e=a.checkRccNumber(c),f=a.checkSixthSign(b);return[e[0]*d[0],e[1]*d[1],e[2]*d[2],f[0]*d[0],f[1]*d[1],f[2]*d[2],f[3]*d[0],f[4]*d[1],f[5]*d[2],f[6]*d[0],f[7]*d[1],f[8]*d[2],f[9]*d[0],f[10]*d[1],f[11]*d[2],f[12]*d[0],f[13]*d[1],f[14]*d[2],f[15]*d[0],f[16]*d[1],f[17]*d[2],f[18]*d[0],f[19]*d[1]]},checkRccNumber:function(a){var b=a.substr(-3,3),c=0;return"000"===b?(c=a.substr(4,2),[parseInt(c[0]),0,parseInt(c[1])]):[parseInt(b[0]),parseInt(b[1]),parseInt(b[2])]},checkSixthSign:function(a){var b={A:0,B:1,C:2,E:3,H:4,K:5,M:6,P:7,T:8,X:9},c=a.charAt(5),d=b[c.toUpperCase()];return isNaN(c)?!!d&&a.replace(c,d):a}};return a}(),LPP.common.sales.order.history.getOrderDetails=function(a,b,c){LegacyBridge.fetchData(LPP.common.baseUrl+a,{order_id:b},"get").then(function(a){if(!a.ok)throw new Error(a.message);c(a)}).catch(function(a){})},function(){function a(a){const b=window.getComputedStyle(a,null);return"none"!==b.display&&"visible"===b.visibility}var b;window.LPP.common.openSpinner=function(c){var d,e,f,g,h,i,j,k,l,m;return d=document.createElement("div"),e=c.spinnerClass||"spinner-wrapper",f=LPP.common.getSpinnerTemplateUrl(),g=c.sizeClass||"normal",h=c.parentSelector||"body",i=c.keepContent||!1,j=c.withModal||!1,k=c.headerText||"",l=document.querySelector(h),m={isHeaderVisible:""!==k,headerText:k},d.id=c.spinnerId||"spinner",d.classList.add(e),d.classList.add(g),b=new Promise(function(c,e){LPP.common.setMustacheTemplate(d,f,m).then(function(){"fixed"!==l.style.position&&"absolute"!==l.style.position&&(l.style.position="relative"),i?l.insertBefore(d,l.firstChild):(l.innerHTML="",l.appendChild(d)),setTimeout(function(){const e=setInterval(function(){a(d)&&(clearInterval(e),b=null,c(!0))},55)},1e3),j&&d.classList.add("modal")}).catch(function(){e("Spinner error!")})})},window.LPP.common.closeSpinner=function(a){a=a||{};var b=a.errorMessage||"",c=a.infoHeaderSelector||".info-header",d=a.spinnerId||"spinner",e=0,f="number"==typeof a.fadeOutTime?a.fadeOutTime:400,g=document.getElementById(d),h=g?g.querySelector(c):"";if(g)return b&&h&&(e=5e3,h.innerHTML=b),e||f?void setTimeout(function(){g.classList.add("fade-out"),setTimeout(function(){g.parentNode&&g.parentNode.removeChild(g)},f)},e):void(g.parentNode&&g.parentNode.removeChild(g))},window.LPP.common.getSpinnerTemplateUrl=function(){var a=LPP.common.brandName.toLowerCase(),b=LPP[a].spinnerTemplateUrl;return"undefined"!=typeof b?b:LPP.common.spinnerTemplateUrl}}();var POPUP_CLASS="popup",POPUP_ACTIVE_CLASS="active",POPUP_WRAPPER_CLASS="popup-wrapper",POPUP_TITLE_CLASS="popup-title",POPUP_CONTENT_CLASS="popup-content",POPUP_CLOSE_BUTTON_CLASS="popup-close-button",POPUP_BACKDROP_ID="popupBackdrop",POPUP_BACKDROP_CLASS="popup-backdrop",POPUP_BACKDROP_ACTIVE_CLASS="active",POPUP_PLACEHOLDER_CLASS="popup-placeholder";LPP.Popup=function(a){this.id=a.id||this.generateId(),this.title=a.title?a.title:"",this.content=a.content?a.content:"",this.cssClass=a.cssClass?a.cssClass:[],this.keepContent="boolean"==typeof a.keepContent&&a.keepContent,this.onCreateCallback="function"==typeof a.onCreateCallback?a.onCreateCallback:function(){},this.onOpenCallback="function"==typeof a.onOpenCallback?a.onOpenCallback:function(){},this.onClosedCallback="function"==typeof a.onClosedCallback?a.onClosedCallback:function(){},LPP.Popup.instances[this.id]=this},LPP.Popup.instances={},LPP.Popup.currentIdPostfix=0,Object.defineProperties(LPP.Popup.prototype,{el:{get:function(){return this._el||(this._el=document.getElementById(this.id)),this._el}},wrapperEl:{get:function(){var a=this.el;return!this._wrapperEl&&a&&(this._wrapperEl=a.querySelector("."+POPUP_WRAPPER_CLASS)),this._wrapperEl}},titleEl:{get:function(){var a=this.el;return!this._titleEl&&a&&(this._titleEl=a.querySelector("."+POPUP_TITLE_CLASS)),this._titleEl}},contentEl:{get:function(){var a=this.el;return!this._contentEl&&a&&(this._contentEl=a.querySelector("."+POPUP_CONTENT_CLASS)),this._contentEl}},closeButtonEl:{get:function(){var a=this.el;return!this._closeButtonEl&&a&&(this._closeButtonEl=a.querySelector("."+POPUP_CLOSE_BUTTON_CLASS)),this._closeButtonEl}},backdropEl:{get:function(){return this._backdropEl||(this._backdropEl=document.getElementById(POPUP_BACKDROP_ID)),this._backdropEl}}}),LPP.Popup.prototype.open=function(){this.disableBodyScroll(),this.showBackdrop(),this.el||(this.createPopup(),this.onCreateCallback()),this.fillPopupContent(),this.showPopup(),this.onOpenCallback()},LPP.Popup.prototype.close=function(){this.hidePopup(),this.closeBackdrop(),this.enableBodyScroll(),this.onClosedCallback()},LPP.Popup.prototype.preparePopupLayout=function(){var a;a=document.createElement("div"),a.id=this.id,a.classList.add(POPUP_CLASS),this.cssClass.length&&(a.className+=" "+this.cssClass.join(" ")),a.innerHTML='<div class="'+POPUP_WRAPPER_CLASS+'"><div class="'+POPUP_TITLE_CLASS+'"></div><div class="'+POPUP_CONTENT_CLASS+'"></div><div class="'+POPUP_CLOSE_BUTTON_CLASS+'"></div></div>',document.body.appendChild(a)},LPP.Popup.prototype.applyPopupActions=function(){this.el&&(this.el.addEventListener("click",this.close.bind(this)),this.closeButtonEl&&this.closeButtonEl.addEventListener("click",this.close.bind(this)),this.wrapperEl.addEventListener("click",function(a){a.stopPropagation()}),document.addEventListener("keydown",this.closeOnEsc.bind(this)))},LPP.Popup.prototype.fillPopupContent=function(){this.titleEl&&(this.titleEl.innerText=this.title),this.contentEl&&("string"==typeof this.content?this.contentEl.innerHTML=this.content:this.content instanceof HTMLElement&&this.replaceContentElementWithPlaceholder())},LPP.Popup.prototype.replaceContentElementWithPlaceholder=function(){var a=this.id+"-placeholder",b=document.getElementById(a);b||(b=document.createElement("div"),b.id=a,b.classList.add(POPUP_PLACEHOLDER_CLASS),this.content.parentNode.insertBefore(b,this.content),this.contentEl.insertAdjacentElement("afterbegin",this.content))},LPP.Popup.prototype.undoReplaceContentEl=function(){var a=document.getElementById(this.id+"-placeholder");a.parentNode.replaceChild(this.content,a)},LPP.Popup.prototype.createPopup=function(){this.el||(this.preparePopupLayout(),this.applyPopupActions())},LPP.Popup.prototype.showPopup=function(){this.el&&this.el.classList.add(POPUP_ACTIVE_CLASS)},LPP.Popup.prototype.hidePopup=function(){this.el&&(this.el.classList.remove(POPUP_ACTIVE_CLASS),!this.keepContent&&this.content instanceof HTMLElement&&this.undoReplaceContentEl())},LPP.Popup.prototype.generateId=function(){var a=this.getNextIdPostfix(),b=Object.getOwnPropertyNames(LPP.Popup.instances),c="popup-"+a,d=!!document.getElementById(c);return b.indexOf(c)>-1||d?this.generateId():c},LPP.Popup.prototype.getNextIdPostfix=function(){return++LPP.Popup.currentIdPostfix},LPP.Popup.prototype.changeOnCreateCallback=function(a){this.onCreateCallback=a},LPP.Popup.prototype.changeOnOpenCallback=function(a){this.onOpenCallback=a},LPP.Popup.prototype.changeOnClosedCallback=function(a){this.onClosedCallback=a},LPP.Popup.prototype.isOpened=function(){return!!this.el&&this.el.classList.contains(POPUP_ACTIVE_CLASS)},LPP.Popup.prototype.closeOnEsc=function(a){"Escape"===a.key&&this.isOpened()&&this.close()},LPP.Popup.prototype.destroyElements=function(){this.el&&this.el.parentNode.removeChild(this.el)},LPP.Popup.prototype.createBackdrop=function(){var a,b;this.backdropEl||(a=document.querySelector("body"),b=document.createElement("div"),b.id=POPUP_BACKDROP_ID,b.classList.add(POPUP_BACKDROP_CLASS),a.appendChild(b))},LPP.Popup.prototype.showBackdrop=function(){this.createBackdrop(),this.backdropEl.classList.add(POPUP_BACKDROP_ACTIVE_CLASS)},LPP.Popup.prototype.closeBackdrop=function(){this.backdropEl&&this.backdropEl.classList.remove(POPUP_BACKDROP_ACTIVE_CLASS)},LPP.Popup.prototype.disableBodyScroll=function(){var a=document.body;a.style.overflow="hidden"},LPP.Popup.prototype.enableBodyScroll=function(){var a=document.body;a.style.overflow="auto"},LPP.common.checkout.postcodeAutocomplete=function(){var a={loadingClass:"loading",warningClass:"warning",init:function(b){LPP.common.checkout.postcodeAutocompleteEnabled&&(a.cityInput=document.getElementById(b.cityInputId),a.streetInput=document.getElementById(b.streetInputId),a.buildingNumberInput=document.getElementById(b.buildingNumberInputId),a.postcodeInput=document.getElementById(b.postcodeInputId),a.cityInput&&a.streetInput&&a.buildingNumberInput&&a.postcodeInput&&(a.hasParentValidationClass=b.hasParentValidationClass,a.autocompletedPostcode=a.postcodeInput.value,a.postcodeInputParent=a.postcodeInput.parentNode,a.beforeRequestCustom=b.beforeRequestCustom||function(){},a.afterRequestCustom=b.afterRequestCustom||function(){},a.openPopup=b.openPopup,a.closePopup=b.closePopup,a.cityInput.addEventListener("focus",a.setTempInputValue),a.streetInput.addEventListener("focus",a.setTempInputValue),a.buildingNumberInput.addEventListener("focus",a.setTempInputValue),a.cityInput.addEventListener("blur",a.getPostCodeIfRequiredFieldsNotEmpty),a.streetInput.addEventListener("blur",a.getPostCodeIfRequiredFieldsNotEmpty),a.buildingNumberInput.addEventListener("blur",a.getPostCodeIfRequiredFieldsNotEmpty)))},setTempInputValue:function(b){a.tempInputValue=b.target.value},getPostCodeIfRequiredFieldsNotEmpty:function(b){a.cityInput.value&&a.streetInput.value&&a.buildingNumberInput.value&&(a.inputValueHasBeenChanged(b.target.value)||a.autocompletedPostcode&&a.autocompletedPostcode!==a.postcodeInput.value)&&(b.relatedTarget&&"checkoutsubmit"in b.relatedTarget.dataset&&a.postcodeInput.value||(a.beforeRequest(),a.beforeRequestCustom(),a.getPostcodeAndValidateAddress({city:a.cityInput.value,street:a.streetInput.value,house:a.buildingNumberInput.value}).then(function(b){a.afterRequest(),a.afterRequestCustom(),b&&a.completePostcode(b)})))},inputValueHasBeenChanged:function(b){return b!==a.tempInputValue},getPostcodeAndValidateAddress:function(b){var c=b.city||"",d=b.street||"",e=b.house||"";return fetch(LPP.common.checkout.getPostcodeAndValidateAddressUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"address="+c+" "+d+" "+e}).then(function(a){return a.json()}).then(a.processApiResponse)},processApiResponse:function(a){if(a[0]){var b,c=a[0],d={UNDEF_01:"incorrect_city",UNDEF_02:"incorrect_city",UNDEF_03:"incorrect_street",UNDEF_04:"incorrect_house",UNDEF_05:"incorrect_apartment",UNDEF_06:"foreign_address"},e=c["quality-code"];return"GOOD"===e?c:(b=d[e],b?c.errorMessage=global.i18n[b]:c.errorMessage=global.i18n.incorrect_address,c)}},beforeRequest:function(){a.postcodeInput.disabled=!0,a.postcodeInputParent.classList.add(a.loadingClass)},afterRequest:function(){a.postcodeInput.value="",a.postcodeInput.disabled=!1,a.postcodeInputParent.classList.remove(a.loadingClass)},completePostcode:function(b){if(b.index&&(a.autocompletedPostcode=b.index,a.postcodeInput.value=b.index,jQuery(a.postcodeInput).valid()),b.errorMessage){var c=a.mapQualityCodeToInput(b["quality-code"]);a.setInputHasWarning(c)}!a.isUserCityAndStreetCorrect(b)&&b.place&&b.street?a.showTypoInAddressPopup(b):b.errorMessage&&a.openPopup(b.errorMessage)},mapQualityCodeToInput:function(b){var c={UNDEF_01:a.cityInput,UNDEF_02:a.cityInput,UNDEF_03:a.streetInput,UNDEF_04:a.buildingNumberInput,UNDEF_05:a.buildingNumberInput};return c[b]},setInputHasWarning:function(b){if(b){var c=a.hasParentValidationClass?b.parentElement:b;c.classList.add(a.warningClass)}},showTypoInAddressPopup:function(b){fetch(LPP.common.checkout.postcodeAutocompletePopupTemplateUrl).then(function(a){return a.text()}).then(function(c){var d=Mustache.render(c,{city:b.place,street:b.street,house:b.house,slash:b.slash?"/"+b.slash:"",room:b.room,title:global.i18n.typo_in_address,question:global.i18n.did_you_mean_address_below,yes:global.i18n.yes,no:global.i18n.no});a.openPopup(d),document.getElementById("correctAddress").addEventListener("click",a.fixAddress.bind(a,b)),document.getElementById("closeAddressCorrectionModal").addEventListener("click",a.closePopup)})},isUserCityAndStreetCorrect:function(b){var c=a.cityInput.value,d=a.streetInput.value;return b.place&&b.place.split(" ")[1]===c.trim().split(" ")[0]&&b.street&&b.street.split(" ")[1]===d.trim().split(" ")[0]},fixAddress:function(b){a.cityInput.value=b.place.slice(b.place.indexOf(" ")+1),a.streetInput.value=b.street.indexOf("ул")!==-1?b.street.slice(b.street.indexOf(" ")+1):b.street,jQuery(a.cityInput).valid(),jQuery(a.streetInput).valid(),a.closePopup()}};return a}();var rodoPopupActions={init:function(){this.rodoPopupOverlay=document.getElementById("rodoPopupOverlay"),this.submitButton=document.getElementById("rodoSubmit"),this.closeButton=this.rodoPopupOverlay.querySelector(".close-button"),this.url=this.submitButton.dataset.url,this.actions(),this.rodoPopupOverlay.style.display="block","function"==typeof jQuery.mCustomScrollbar&&jQuery("#rodoPolicyContent").mCustomScrollbar()},url:"",rodoPopupOverlay:null,submitButton:null,closeButton:null,actions:function(){this.overlayClose(),document.addEventListener("keyup",this.escClose.bind(this)),this.closeButton.addEventListener("click",this.closePopup.bind(this)),this.submitButton.addEventListener("click",this.sendData.bind(this))},overlayClose:function(){window.onclick=function(a){a.target===this.rodoPopupOverlay&&this.closePopup()}.bind(this)},escClose:function(a){"Escape"===a.key&&this.closePopup()},closePopup:function(){this.rodoPopupOverlay.style.display="none",window.onclick=null,document.removeEventListener("keyup",this.escClose),this.closeButton.removeEventListener("click",this.closePopup),this.submitButton.removeEventListener("click",this.sendData)},sendData:function(){LegacyBridge.fetchData(this.url,"accept_privacy=1","post").then(function(a){return a.json()}).then(function(a){a.status&&this.closePopup()}.bind(this)).catch(function(a){})}};LPP.common.togglePasswordField={init:function(){var a=this.findToggleWrapper();this.bindToggle(a)},findToggleWrapper:function(){return document.querySelectorAll(".password-toggle")},getInput:function(a){return a.querySelector('[type="password"]')},getSwitcher:function(a){return a.querySelector(".show-label")},bindToggle:function(a){var b,c,d,e;for(b in a)a.hasOwnProperty(b)&&(c=a[b],d=this.getInput(c),e=this.getSwitcher(c),e.addEventListener("click",this.toggle.bind(null,d,e)));
},toggle:function(a,b){var c=b.textContent===b.dataset.hide;b.textContent=c?b.dataset.show:b.dataset.hide,a.type=c?"password":"text"}},LPP.common.disablePasteForField={wasPaste:!1,init:function(a,b){var c=document.getElementById(a);b=b||{},c&&(c.addEventListener("paste",this.pasteEventListener.bind(this,a,b)),c.addEventListener("keyup",this.keyupEventListener.bind(this)))},pasteEventListener:function(a,b,c){var d=c.target.nextElementSibling,e=d;this.wasPaste=!0,d&&d.getAttribute("for")===a||(e=document.createElement("label")),e.classList.add("error"),e.textContent=global.i18n.input_paste_disable,e.setAttribute("for",a),this.setExtraConfigToElement(e,b),c.target.parentNode.insertBefore(e,d),c.preventDefault(),c.target.classList.add("error")},keyupEventListener:function(a){this.wasPaste&&(a.preventDefault(),a.stopPropagation()),a.ctrlKey||(this.wasPaste=!1)},setExtraConfigToElement:function(a,b){Object.keys(b).forEach(function(c){var d=b[c];a.setAttribute(c,d)})}},LPP.common.form=LPP.common.form||{},LPP.common.form.formatInputValueOnBlur=function(a,b){Array.isArray(a)||(a=[a]),a.forEach(function(a){var c=document.getElementById(a);c&&c.addEventListener("blur",function(){c.value=b(c.value),jQuery(c).valid()})})},LPP.common.form.formatPostcodeUK=function(a){var b=a.replace(/ /g,"");return b.length<5||b.length>7?a:b.replace(/(\w{3})$/g," $1")},LPP.common.formSelect=function(a,b,c){this.selectEl=a,this.changeCallback=b,this.isDesktop=!0;var d=this;(c||LegacyBridge.getStoreConfig("geoValidation/enabled"))&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Trident|Opera Mini/i.test(navigator.userAgent)?(this.isDesktop=!1,c&&(this.selectEl.addEventListener("change",function(a){d.changeCallback(a.target.value)}),this.changeCallback(this.selectEl.value))):this.createOverlay(c))},LPP.common.formSelect.prototype.createOverlay=function(a){var b=this;this.selectEl.style.display="none",this.selectEl.classList.add("hidden"),this.selectedElement=document.createElement("div"),this.optionsList=document.createElement("div"),this.selector=document.createElement("div"),this.selector.className="lppFormSelect "+this.selectEl.className,this.selector.classList.remove("hidden"),this.showOptions=this.showOptions.bind(this),this.closeByClickOutside=this.closeByClickOutside.bind(this),this.onChange=this.onChange.bind(this),this.clearCurrent=this.clearCurrent.bind(this),this.customStruct=a,this.optionsList.classList.add("options"),this.selectedElement.classList.add("selected");for(var c in this.selectEl.options){var d=this.selectEl.options[c],e=document.createElement("div");d&&d.innerHTML&&(e.classList.add("option"),e.setAttribute("value",a?d.value:d.innerText),e.insertAdjacentHTML("afterbegin",d.innerHTML),e.addEventListener("click",function(a){b.selectOption(a,this)}),this.optionsList.appendChild(e))}this.selector.appendChild(this.selectedElement),this.selector.appendChild(this.optionsList),this.selectEl.parentNode.insertBefore(this.selector,this.selectEl),this.selectedElement.innerHTML=this.customStruct?this.selectEl.options[this.selectEl.selectedIndex].innerHTML:this.selectEl.value,this.selectedElement.setAttribute("value",this.customStruct?this.selectEl.options[this.selectEl.selectedIndex].value:this.selectEl.value),this.customStruct&&this.changeCallback(this.selectEl.options[this.selectEl.selectedIndex].value),this.selectedElement.addEventListener("click",this.showOptions),this.selectEl.addEventListener("change",this.onChange),document.addEventListener("click",this.closeByClickOutside)},LPP.common.formSelect.prototype.closeByClickOutside=function(a){var b=this.selector.contains(a.target);b||this.hideOptions()},LPP.common.formSelect.prototype.clearCurrent=function(){var a=this.optionsList.getElementsByClassName("current");a.length&&a[0].classList.remove("current")},LPP.common.formSelect.prototype.onChange=function(){this.selectedElement.innerText=this.customStruct?this.selectEl.innerHTML:this.selectEl.value},LPP.common.formSelect.prototype.showOptions=function(){this.optionsList.classList.add("active"),this.selector.classList.add("active")},LPP.common.formSelect.prototype.hideOptions=function(){this.optionsList.classList.remove("active"),this.selector.classList.remove("active")},LPP.common.formSelect.prototype.selectOption=function(a,b){a.stopPropagation(),this.clearCurrent(),b.classList.add("current"),this.changeCallback(this.customStruct?b.getAttribute("value"):a.target.getAttribute("value")),this.selectedElement.innerHTML=b.innerHTML,this.hideOptions()},LPP.common.formSelect.prototype.changeValue=function(a){this.selectedElement.innerHTML=a},LPP.common.formSelect.prototype.disable=function(a){LegacyBridge.getStoreConfig("geoValidation/enabled")&&this.isDesktop&&(this.selectedElement.innerHTML=this.customStruct?this.selectEl.innerHTML:this.selectEl.value,this.selector.classList.remove("disabled"),a&&this.selector.classList.add("disabled"))},LPP.common||(LPP.common={}),LPP.common.GeoValidation=function(a,b,c,d,e,f,g){var h=this;return this.enabled=LegacyBridge.getStoreConfig("geoValidation/enabled"),this.commonPattern=LegacyBridge.getStoreConfig("geoValidation/commonPattern"),this.defaultPhone=LegacyBridge.getStoreConfig("geoValidation/defaultDialCode"),this.phonePattern=LegacyBridge.getStoreConfig("geoValidation/phonePattern"),this.postCodePattern=LegacyBridge.getStoreConfig("geoValidation/postCodePattern"),this.fields=c,this.additionalRules={},this.defaultRules=jQuery.extend(!0,{},a),this.changePhoneRule=this.changePhoneRule.bind(this),this.closeByClickOutside=this.closeByClickOutside.bind(this),this.changeCallback=this.changeCallback.bind(this),this.useDefaultRules=b,this.preventCloseEl=e,this.addinationalFields=f,this.usePhoneExact=g,this.tooltipCourierText=LegacyBridge.getStoreConfig("geoValidation/tooltipCourierText"),this.tooltipPickupText=LegacyBridge.getStoreConfig("geoValidation/tooltipText"),d&&(this.phoneConfig=d,!this.formSelect&&this.phoneConfig.dialCodeEl&&(this.formSelect=new LPP.common.formSelect(this.phoneConfig.dialCodeEl,this.changeCallback))),!b&&this.enabled?(this.fields.forEach(function(a){h.additionalRules[a.field]=h.commonPattern,h.additionalRules[a.field].normalizer=function(a){return a.replace(/^\s+|\s+$/g,"")},"postcode"===a.validator&&(h.additionalRules[a.field]=Object.assign({},h.commonPattern,h.postCodePattern))}),this):(this.fields.forEach(function(a){h.additionalRules[a.field]=h.defaultRules[a.validator]}),this)},LPP.common.GeoValidation.prototype.additionalRules={},LPP.common.GeoValidation.prototype.phoneConfig={},LPP.common.GeoValidation.prototype.fields={},LPP.common.GeoValidation.prototype.defaultRules={},LPP.common.GeoValidation.prototype.getRules=function(){return this.additionalRules},LPP.common.GeoValidation.prototype.changeCallback=function(a){this.phoneConfig.dialCodeEl.value=a,this.changePhoneRule()},LPP.common.GeoValidation.prototype.changePhoneRule=function(){this.enabled&&(this.preventChangeRule||this.changeRuleTo(this.validator,this.phoneConfig.dialCodeEl.value==this.defaultPhone),this.phoneConfig.phoneEl.value.length&&this.validator.element(this.phoneConfig.phoneElName))},LPP.common.GeoValidation.prototype.changeRuleTo=function(a,b){this.enabled&&(jQuery(this.phoneConfig.phoneElName).rules("remove"),b?jQuery(this.phoneConfig.phoneElName).rules("add",this.usePhoneExact?this.defaultRules.phone_exact:this.defaultRules.phone):jQuery(this.phoneConfig.phoneElName).rules("add",this.phonePattern))},LPP.common.GeoValidation.prototype.checkValidation=function(a){this.closeError(),this.validator=a,this.fields.forEach(function(b){var c=document.getElementsByName(b.field)[0];c&&c.value&&a.element('[name="'+b.field+'"]')}),this.phoneConfig&&this.phoneConfig.dialCodeEl&&this.phoneConfig.phoneEl&&(this.changePhoneRule(a),this.phoneConfig.dialCodeEl.onchange=function(b){this.changePhoneRule(a)}.bind(this))},LPP.common.GeoValidation.prototype.appendChild=function(a,b,c){a.forEach(function(a){b[c].appendChild(b[a])})},LPP.common.GeoValidation.prototype.createElWithClass=function(a,b,c){var d=document.createElement(a);return b&&d.classList.add(b),c&&(d.innerHTML=c),d},LPP.common.GeoValidation.prototype.displayError=function(){var a={WrapperEl:this.createElWithClass("div","validation-global-error"),TextWrapperEl:this.createElWithClass("div","validation-text-wrapper"),TextEl:this.createElWithClass("span",!1,LegacyBridge.getStoreConfig("geoValidation/contactText")),InfoIconEl:this.createElWithClass("div","info-icon"),CloseEl:this.createElWithClass("div","close-button"),EmptyEl:this.createElWithClass("div","empty-spacing")},b=this;return this.errWrapper=document.getElementById("validationInvoiceError"),this.errWrapper?void(this.errWrapper.style.display=""):void(this.enabled&&(this.appendChild(["InfoIconEl","TextEl"],a,"TextWrapperEl"),this.appendChild(["EmptyEl","TextWrapperEl","CloseEl"],a,"WrapperEl"),this.errWrapper=a.WrapperEl,this.errWrapper.id="validationInvoiceError",document.body.appendChild(this.errWrapper),a.CloseEl.addEventListener("click",function(a){b.closeError()},!1),document.addEventListener("click",b.closeByClickOutside)))},LPP.common.GeoValidation.prototype.tryDisplayError=function(a){var b=!1,c=this;this.useDefaultRules&&(Object.keys(a).forEach(function(d){if(a[d]&&c.getRulesFieds().includes(d)||a[d]&&c.addinationalFields&&c.addinationalFields.includes(d))return void(b=!0)}),b?this.displayError():this.closeError())},LPP.common.GeoValidation.prototype.closeByClickOutside=function(a){var b=this.errWrapper.contains(a.target);!b&&this.preventCloseEl&&""==this.errWrapper.style.display&&window.innerWidth<768&&!a.target.matches(this.preventCloseEl+", "+this.preventCloseEl+" *")&&this.closeError()},LPP.common.GeoValidation.prototype.closeError=function(){this.errWrapper&&(this.errWrapper.style.display="none")},LPP.common.GeoValidation.prototype.createTooltip=function(){if(!this.tooltipCreated&&this.enabled&&(this.tooltipElement=document.getElementById("geoValidationTooltip"),this.tooltipElement)){for(this.tooltipElement.classList.add("validationTooltip");this.tooltipElement.firstChild;)this.tooltipElement.removeChild(this.tooltipElement.firstChild);this.tooltipElement.appendChild(this.createElWithClass("div","toolTipContent")),this.tooltipEnter=this.tooltipEnter.bind(this),this.tooltipLeave=this.tooltipLeave.bind(this),this.tooltipElement.addEventListener("mouseover",this.tooltipEnter,!1),this.tooltipElement.addEventListener("mouseleave",this.tooltipLeave,!1),this.tooltipCreated=!0}},LPP.common.GeoValidation.prototype.courierTooltip=function(a){var b=this.tooltipElement.childNodes[0];b.innerText=a?this.tooltipCourierText:this.tooltipPickupText},LPP.common.GeoValidation.prototype.tooltipEnter=function(){this.tooltipElement.classList.add("active")},LPP.common.GeoValidation.prototype.tooltipLeave=function(){this.tooltipElement.classList.remove("active")},LPP.common.GeoValidation.prototype.getRulesFieds=function(){return Object.keys(this.additionalRules)},LPP.cropp.modal=function(a){var b=a.parentSelector||"body",c=document.querySelector(b),d=c.querySelector(".modal-box"),e="boolean"!=typeof a.isSuccess||a.isSuccess;d&&removeModal(d),d=document.createElement("div"),"body"!==b&&(c.classList.add("modal-parent"),d.classList.add("inside-container")),d.classList.add("modal-box"),d.innerHTML='<div><h3 class="message">'+a.message+'</h3><span class="status-icon"></span></div>',e?d.classList.add("success"):d.classList.add("error"),c.appendChild(d),d.classList.add("modal-in"),setTimeout(function(){removeModal(d)},5e3),removeModal=function(a){var b=a.parentNode;a.classList.remove("modal-in"),a.classList.add("modal-out"),b&&setTimeout(function(){b.classList.remove("modal-parent"),b.removeChild(a)},300)}},LPP.cropp.ajaxHandlers={error:function(a,b){"timeout"===b&&LPP.common.closeSpinner(global.i18n.timeout_error)}},LPP.cropp.consts={ajaxTimeout:3e4},jQuery.getCachedScript=function(a,b){return b=jQuery.extend(b||{},{dataType:"script",cache:!0,url:a}),jQuery.ajax(b)};var ValidationManager={locationPathname:location.pathname.split("/"),getStoreCountry:function(){return this.locationPathname[1].toUpperCase()},getStoreLanguage:function(){return this.locationPathname[2]},templatePath:"/skin/frontend/cropp/default/",getTranslatedValidatorScriptsPath:function(){return this.templatePath+"javascript/validator/"},rmaCharacterSet:/^[0-9a-zA-ZąłńćśźżóęŚÓŁŃĆĘŹŻĄüöäÜÖÄßáčďéěíňóřšťúůýžÁČĎÉĚÍŇÓŘŠŤÚŮÝŽäĺľôŕÄĹĽÔŔāēģīķļņŗūĀĒĢĪĶĻŅŖŪąęėįųĄĘĖĮŲõöüÕÖÜćđĆĐăâîşţĂÂÎŞŢãőűÃŐŰабвгдежзийклмнопрстуфхцчшщъыьэюяАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯȘșȚț]+$/i,basicCharacterSet:"[-a-zA-ZąłńćśźżóęŚÓŁŃĆĘŹŻĄüöäÜÖÄßáčďéěíňóřšťúůýžÁČĎÉĚÍŇÓŘŠŤÚŮÝŽäĺľôŕÄĹĽÔŔāēģīķļņŗūĀĒĢĪĶĻŅŖŪąęėįųĄĘĖĮŲõöüÕÖÜćđĆĐăâîşţĂÂÎŞŢãőűÃŐŰабвгдежзийклмнопрстуфхцчшщъыьэюяАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯȘșȚț. ]+",basicCharacterSetWithSlash:"[-/a-zA-ZąłńćśźżóęŚÓŁŃĆĘŹŻĄüöäÜÖÄßáčďéěíňóřšťúůýžÁČĎÉĚÍŇÓŘŠŤÚŮÝŽäĺľôŕÄĹĽÔŔāēģīķļņŗūĀĒĢĪĶĻŅŖŪąęėįųĄĘĖĮŲõöüÕÖÜćđĆĐăâîşţĂÂÎŞŢãőűÃŐŰабвгдежзийклмнопрстуфхцчшщъыьэюяАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯȘșȚț. ]+",basicCharacterSetWithNumbers:"[0-9-/a-zA-ZąłńćśźżóęŚÓŁŃĆĘŹŻĄüöäÜÖÄßáčďéěíňóřšťúůýžÁČĎÉĚÍŇÓŘŠŤÚŮÝŽäĺľôŕÄĹĽÔŔāēģīķļņŗūĀĒĢĪĶĻŅŖŪąęėįųĄĘĖĮŲõöüÕÖÜćđĆĐăâîşţĂÂÎŞŢãőűÃŐŰабвгдежзийклмнопрстуфхцчшщъыьэюяАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯȘșȚț. ]+",basicCharacterSetWithNumbersOptional:"[0-9-/a-zA-ZąłńćśźżóęŚÓŁŃĆĘŹŻĄüöäÜÖÄßáčďéěíňóřšťúůýžÁČĎÉĚÍŇÓŘŠŤÚŮÝŽäĺľôŕÄĹĽÔŔāēģīķļņŗūĀĒĢĪĶĻŅŖŪąęėįųĄĘĖĮŲõöüÕÖÜćđĆĐăâîşţĂÂÎŞŢãőűÃŐŰабвгдежзийклмнопрстуфхцчшщъыьэюяАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯȘșȚț.& ]*",loadLanguageMessages:function(){jQuery.getCachedScript(this.getTranslatedValidatorScriptsPath()+"messages/"+this.getStoreLanguage()+"_"+this.getStoreCountry()+".js")},loadLanguageMethods:function(){jQuery.getCachedScript(this.getTranslatedValidatorScriptsPath()+"methods/"+this.getStoreCountry()+".js")},loadValidationDependencies:function(){const a=["CZ","DE","HU","PL","RO","SK"],b=this.getStoreCountry();if(a.indexOf(b)!==-1){const c=document.createElement("script");c.async=!1,c.defer=window.global.performance.asyncAssets,c.src=this.getTranslatedValidatorScriptsPath()+"methods/"+b+".js",document.head.append(c)}}};jQuery(document).ready(function(){jQuery.validator.addMethod("accept",function(a,b,c){return a.match(new RegExp("^"+c+"$"))}),jQuery.fn.clearValidation=function(){var a=$(this).validate();$("[name]",this).each(function(){a.successList.push(this),a.showErrors()}),a.resetForm(),a.reset()},jQuery.validator.addMethod("exactlength",function(a,b,c){return this.optional(b)||a.length==c}),jQuery.validator.addMethod("zipcodecountry",function(a,b,c){return a.match(new RegExp("^[0-9]{2}-[0-9]{3}$"))}),jQuery.validator.addMethod("minValue",function(a,b,c){return 0==jQuery(".count-counter-"+jQuery(b).data("counter")).val()&&0==jQuery(b).val()||jQuery(".count-counter-"+jQuery(b).data("counter")).val()>0&&0!=jQuery(b).val()||0==jQuery(".count-counter-"+jQuery(b).data("counter")).val()}),jQuery.extend(jQuery.validator.messages,{required:global.i21v.field_req,remote:global.i21v.email_exist,email:global.i21v.enter_valid_email,url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:global.i21v.digits,creditcard:"Please enter a valid credit card number.",equalTo:global.i21v.same_value_req,accept:global.i21v.enter_valid,maxlength:jQuery.validator.format(global.i21v.enter_valid_max),minlength:jQuery.validator.format(global.i21v.enter_valid_min),rangelength:jQuery.validator.format("Please enter a value between {0} and {1} characters long."),range:jQuery.validator.format("Please enter a value between {0} and {1}."),max:jQuery.validator.format("Please enter a value less than or equal to {0}."),min:global.i21v.topic_select,regulations:global.i21v.regulations_req,pattern:global.i21v.invalid_format,zipcodecountry:global.i21v.invalid_format,rmaitemqty:global.i21v.field_req,minValue:global.i21v.topic_select,rmacomplainttext:global.i21v.field_req,rmareturntext:global.i21v.field_req,returnminlength:global.i21v.min_10_chars,exactlength:global.i21v.exact_length}),newsletterValidation(),resetPasswordValidation(),searchOrderForm(),ValidationManager.loadValidationDependencies()});var reValidation={init:function(){this.methods(),this.overrideValidation(),this.updateDefaultValidation(),this.globalRules=getValidationRules(),this.initRules(),this.initMessages(),this.checkout(),this.login(),this.forgotPassword(),this.registration(),this.initCustomerAccountForm(),this.contactForm(),this.orderContactForm(),this.rma.init(this),this.newsletterSubscription()},globalRules:null,rules:null,messages:null,initRules:function(){this.isVatinRequired=0!==this.globalRules.customer_address_vatin.min_text_length,this.isRegonRequired=0!==this.globalRules.customer_address_regon.min_text_length,this.isCCRequires=0!==this.globalRules.customer_address_regon.min_text_length,this.rules={password:{required:!0,minlength:this.globalRules.customer_password_hash.min_text_length},password_optional:{minlength:this.globalRules.customer_password_hash.min_text_length},firstname:{required:!0,pattern:this.globalRules.customer_firstname.pattern_validation,minlength:this.globalRules.customer_firstname.min_text_length,maxlength:this.globalRules.customer_firstname.max_text_length},lastname:{required:!0,pattern:this.globalRules.customer_lastname.pattern_validation,minlength:this.globalRules.customer_lastname.min_text_length,maxlength:this.globalRules.customer_lastname.max_text_length},email:{required:this.globalRules.customer_email.is_required,pattern:this.globalRules.customer_email.pattern_validation},getEmailConfirmation:function(){return{equalTo:"#registrationEmail",required:this.email.required}},multiemail:{multiemail:this.globalRules.customer_multiemail.multiemail,required:this.globalRules.customer_multiemail.is_required},email_exist:{email_exist:this.globalRules.customer_email_exist.email_exist,pattern:this.globalRules.customer_email.pattern_validation,required:this.globalRules.customer_email_exist.is_required},new_email:{pattern:this.globalRules.customer_email.pattern_validation},username:{pattern:this.globalRules.customer_username.pattern_validation,required:this.globalRules.customer_username.is_required},dialcode:{required:this.globalRules.customer_address_dialcode.is_required,pattern:this.globalRules.customer_address_dialcode.pattern_validation,maxlength:this.globalRules.customer_address_dialcode.max_text_length},dialcode_optional:{required:this.globalRules.customer_dialcode_optional.is_required,pattern:this.globalRules.customer_dialcode_optional.pattern_validation,maxlength:this.globalRules.customer_dialcode_optional.max_text_length},phone:{required:this.globalRules.customer_address_telephone.is_required,pattern:this.globalRules.customer_phone_number.pattern_validation,minlength:this.globalRules.customer_phone_number.min_text_length,maxlength:this.globalRules.customer_phone_number.max_text_length},phone_exact:{required:this.globalRules.customer_phone_number.is_required,pattern:this.globalRules.customer_phone_number.pattern_validation,minlength:this.globalRules.customer_phone_number.min_text_length,maxlength:this.globalRules.customer_phone_number.max_text_length},phone_optional:{required:!1,pattern:this.globalRules.customer_phone_number.pattern_validation,minlength:this.globalRules.customer_phone_number.min_text_length,maxlength:this.globalRules.customer_phone_number.min_text_length},phone_optional_exact:{required:!1,pattern:this.globalRules.customer_phone_number.pattern_validation,minlength:this.globalRules.customer_phone_number.min_text_length,maxlength:this.globalRules.customer_phone_number.max_text_length},order_id_optional:{required:!1,digits:!0},street:{required:this.globalRules.customer_address_street.is_required,pattern:this.globalRules.customer_address_street.pattern_validation,maxlength:this.globalRules.customer_address_street.max_text_length},street_nb:{required:this.globalRules.customer_street_nb.is_required,pattern:this.globalRules.customer_street_nb.pattern_validation,maxlength:this.globalRules.customer_street_nb.max_text_length},apartment_number:{pattern:this.globalRules.customer_street_nb.pattern_validation,maxlength:this.globalRules.customer_street_nb.max_text_length},city:{required:this.globalRules.customer_address_city.is_required,pattern:this.globalRules.customer_address_city.pattern_validation,maxlength:this.globalRules.customer_address_city.max_text_length},company:{required:!0,pattern:this.globalRules.customer_address_company.pattern_validation,minlength:this.globalRules.customer_address_company.min_text_length,maxlength:this.globalRules.customer_address_company.max_text_length},postcode:{required:this.globalRules.customer_address_postcode.is_required},pesel:{required:this.globalRules.customer_address_pesel.is_required,digits:!0,minlength:this.globalRules.customer_address_pesel.min_text_length,maxlength:this.globalRules.customer_address_pesel.max_text_length},vatin:{vatin_validation:"pl_PL"===LegacyBridge.getStoreConfig("languageCode"),required:this.isVatinRequired,pattern:this.globalRules.customer_address_vatin.pattern_validation},regon:{required:this.isRegonRequired,pattern:this.globalRules.customer_address_regon.pattern_validation},vatdph:{required:this.globalRules.customer_address_vatdph.is_required,pattern:this.globalRules.customer_address_vatdph.pattern_validation},store:{required:this.globalRules.store.is_required},text_optional:{required:this.globalRules.text_optional.is_required,pattern:this.globalRules.text_optional.pattern_validation},dob:{required:this.globalRules.customer_dob.is_required,isAdult:[!0]},gender:{required:this.globalRules.customer_gender.is_required},regulations:{required:!0},general_terms_agreed:{required:!0},additional_information:{required:this.globalRules.customer_address_additional_information.is_required,pattern:this.globalRules.customer_address_additional_information.pattern_validation,minlength:this.globalRules.customer_address_additional_information.min_text_length,maxlength:this.globalRules.customer_address_additional_information.max_text_length},contact_form_select:{required:this.globalRules.customer_contact_form_select.is_required,min:1},comment:{required:!0,pattern:this.globalRules.customer_address_additional_information.pattern_validation},rma_bank:{bankAccountNumberValidation:!0,required:!0},rma_bank_ru_account:{bankAccountNumberValidation:!0,required:!0},rma_bank_bik:{bankAccountNumberValidation:!0,required:!0},rma_bank_owner:{required:!0,pattern:this.globalRules.customer_firstname.pattern_validation},rma_courier:{required:this.globalRules.rma_courier_pickup_date.is_required},rma_select:{required:!0},newsletter_conditions:{required:!0},g_recaptcha_response:{required:!0},cybersource_name_card:"undefined"!=typeof LPP.common.payments.cybersource.rules?LPP.common.payments.cybersource.rules.credit_card_name:null,cybersource_security_code:"undefined"!=typeof LPP.common.payments.cybersource.rules?LPP.common.payments.cybersource.rules.security_code:null,cybersource_credit_card_number:"undefined"!=typeof LPP.common.payments.cybersource.rules?LPP.common.payments.cybersource.rules.credit_card_number:null,cybersource_credit_card_year:"undefined"!=typeof LPP.common.payments.cybersource.rules?LPP.common.payments.cybersource.rules.credit_card_is_not_expired:null,cybersource_credit_card_month:"undefined"!=typeof LPP.common.payments.cybersource.rules?LPP.common.payments.cybersource.rules.credit_card_is_not_expired:null},this.globalRules.customer_address_postcode.min_text_length&&(this.rules.postcode.minlength=this.globalRules.customer_address_postcode.min_text_length),this.globalRules.customer_address_postcode.max_text_length&&(this.rules.postcode.maxlength=this.globalRules.customer_address_postcode.max_text_length),this.globalRules.customer_address_postcode.pattern_validation&&(this.rules.postcode.rxpattern=this.globalRules.customer_address_postcode.pattern_validation),this.globalRules.local_postcode&&(this.rules.postcode.local_postcode=this.globalRules.local_postcode.pattern_validation)},initMessages:function(){this.messages={password:{required:this.globalRules.customer_password_hash.validation_key_required,minlength:this.globalRules.customer_password_hash.validation_key_min},password_optional:{minlength:this.globalRules.customer_password_hash.validation_key_min},firstname:{required:this.globalRules.customer_firstname.validation_key_required,minlength:this.globalRules.customer_firstname.validation_key_min,maxlength:this.globalRules.customer_firstname.validation_key_max,pattern:this.globalRules.customer_firstname.validation_key_illegal},lastname:{required:this.globalRules.customer_firstname.validation_key_required,minlength:this.globalRules.customer_firstname.validation_key_min,maxlength:this.globalRules.customer_firstname.validation_key_max,pattern:this.globalRules.customer_firstname.validation_key_illegal},email:{required:this.globalRules.customer_email.validation_key_required,pattern:global.i18n.validation_valid_email},emailConfirmation:{required:this.globalRules.customer_email.validation_key_required,pattern:global.i18n.validation_valid_email,equalTo:global.i18n.different_emails},multiemail:{multiemail:this.globalRules.customer_multiemail.multiemail,required:this.globalRules.customer_multiemail.validation_key_illegal},email_exist:{email_exist:this.globalRules.customer_email_exist.validation_key_illegal,pattern:this.globalRules.customer_email_exist.validation_key_illegal,required:this.globalRules.customer_email_exist.validation_key_required},new_email:{pattern:this.globalRules.customer_email.validation_key_illegal},username:{required:this.globalRules.customer_email.validation_key_required,pattern:this.globalRules.customer_email.validation_key_illegal},dialcode:{required:"",maxlength:"",accept:"",pattern:""},dialcode_optional:{required:this.globalRules.customer_address_dialcode.validation_key_required,pattern:this.globalRules.customer_address_dialcode.pattern_validation,maxlength:this.globalRules.customer_address_dialcode.max_text_length},phone:{required:this.globalRules.customer_phone_number.validation_key_required,pattern:this.globalRules.customer_phone_number.validation_key_illegal,minlength:this.globalRules.customer_phone_number.validation_key_min,maxlength:this.globalRules.customer_phone_number.validation_key_max},phone_exact:{required:this.globalRules.customer_phone_number.validation_key_required,pattern:this.globalRules.customer_phone_number.validation_key_illegal,minlength:global.i18n.validation_length,maxlength:global.i18n.validation_length},phone_optional:{required:this.globalRules.customer_phone_number.validation_key_required,pattern:this.globalRules.customer_phone_number.validation_key_illegal,minlength:this.globalRules.customer_phone_number.validation_key_min,maxlength:this.globalRules.customer_phone_number.validation_key_max},phone_optional_exact:{required:this.globalRules.customer_phone_number.validation_key_required,pattern:this.globalRules.customer_phone_number.validation_key_illegal,minlength:global.i18n.validation_length,maxlength:global.i18n.validation_length},street:{required:this.globalRules.customer_address_street.validation_key_required,maxlength:this.globalRules.customer_address_street.validation_key_max,pattern:this.globalRules.customer_address_street.validation_key_illegal},street_nb:{required:this.globalRules.customer_address_street.validation_key_required,maxlength:this.globalRules.customer_address_street.validation_key_max,pattern:this.globalRules.customer_address_street.validation_key_illegal},apartment_number:{maxlength:this.globalRules.customer_address_street.validation_key_max,pattern:this.globalRules.customer_address_street.validation_key_illegal},city:{required:this.globalRules.customer_address_city.validation_key_required,maxlength:this.globalRules.customer_address_city.validation_key_max,pattern:this.globalRules.customer_address_city.validation_key_illegal},company:{required:this.globalRules.customer_address_company.validation_key_required,minlength:this.globalRules.customer_address_company.validation_key_min,maxlength:this.globalRules.customer_address_company.validation_key_max,pattern:this.globalRules.customer_address_street.validation_key_illegal},postcode:{required:this.globalRules.customer_address_postcode.validation_key_required},pesel:{required:this.globalRules.customer_address_pesel.validation_key_required,minlength:this.globalRules.customer_address_pesel.validation_key_min,maxlength:this.globalRules.customer_address_pesel.validation_key_max,digits:this.globalRules.customer_address_pesel.validation_key_illegal},vatin:{vatin_validation:global.i18n.validation_vatin_invalid,required:this.globalRules.customer_address_vatin.validation_key_required,pattern:this.globalRules.customer_address_vatin.validation_key_illegal},regon:{required:this.globalRules.customer_address_regon.validation_key_required,pattern:this.globalRules.customer_address_regon.validation_key_illegal},vatdph:{required:this.globalRules.customer_address_vatdph.validation_key_required,pattern:this.globalRules.customer_address_vatdph.validation_key_illegal},store:{required:global.i18n.pickpoint},text_optional:{required:this.globalRules.text_optional.is_required,pattern:this.globalRules.text_optional.pattern_validation},gender:{required:this.globalRules.customer_gender.validation_key_required},dob:{required:this.globalRules.customer_dob.validation_key_required},confirmation:{required:this.globalRules.customer_password_hash.validation_key_required,equalTo:global.i18n.validation_passwords_identity},regulations:{required:global.i18n.regulations_required},general_terms_agreed:{required:global.i18n.required_field},additional_information:{required:this.globalRules.customer_address_additional_information.validation_key_required,pattern:this.globalRules.customer_address_additional_information.validation_key_illegal,minlength:this.globalRules.customer_address_additional_information.validation_key_min,maxlength:this.globalRules.customer_address_additional_information.validation_key_max},contact_form_select:{required:this.globalRules.customer_contact_form_select.validation_key_required},comment:{required:this.globalRules.customer_address_additional_information.validation_key_required,pattern:this.globalRules.customer_address_additional_information.validation_key_illegal},rma_bank:{bankAccountNumberValidation:global.i18n.validation_bank_invalid,required:global.i18n.this_field_is_required},rma_bank_ru_account:{bankAccountNumberValidation:global.i18n.validation_bank_account_invalid,required:global.i18n.this_field_is_required},rma_bank_bik:{bankAccountNumberValidation:global.i18n.validation_bank_bik_invalid,required:global.i18n.this_field_is_required},rma_bank_owner:{required:global.i18n.this_field_is_required,pattern:global.i18n.validation_illegal},rma_select:{required:global.i18n.this_field_is_required},g_recaptcha_response:{required:global.i18n.this_field_is_required},newsletter_conditions:{required:global.i18n.newsletter_conditions},cybersource_name_card:{required:global.i18n.this_field_is_required,pattern:global.i18n.validation_illegal},cybersource_security_code:{required:global.i18n.this_field_is_required,pattern:this.globalRules.customer_firstname.validation_key_illegal,minlength:global.i18n.validation_min_length,maxlength:global.i18n.validation_max_length},cybersource_credit_card_number:{required:global.i18n.this_field_is_required}},this.globalRules.customer_address_postcode.min_text_length&&(this.messages.postcode.minlength=this.globalRules.customer_address_postcode.validation_key_min),this.globalRules.customer_address_postcode.max_text_length&&(this.messages.postcode.maxlength=this.globalRules.customer_address_postcode.validation_key_max),this.globalRules.customer_address_postcode.pattern_validation&&(this.messages.postcode.rxpattern=this.globalRules.customer_address_postcode.validation_key_illegal),this.globalRules.local_postcode&&(this.messages.postcode.local_postcode=this.globalRules.local_postcode.validation_key_illegal);
},methods:function(){jQuery.validator.addMethod("rxpattern",function(a,b,c){return a.match(new RegExp(c))}),jQuery.validator.addMethod("before_today",function(a,b){var c=a.split(".");return this.optional(b)||new Date(parseInt(c[2]),parseInt(c[1])-1,parseInt(c[0])+1).getTime()<(new Date).getTime()}),jQuery.validator.addMethod("after_today",function(a,b){var c=a.split(".");return this.optional(b)||new Date(parseInt(c[2]),parseInt(c[1])-1,parseInt(c[0])+1).getTime()>(new Date).getTime()}),jQuery.validator.addMethod("credit_card_number_valid",function(a){if(/[^0-9-\s]+/.test(a))return!1;var b=0,c=!1;a=a.replace(/ /g,"");var d=a.length;if(d>19||d<12)return!1;for(var e=d-1;e>=0;e--){var f=a.charAt(e),g=parseInt(f,10);c&&(g*=2)>9&&(g-=9),b+=g,c=!c}return 0!==b&&b%10==0},global.i18n.validation_credit_card_number_invalid),"pl_PL"===LegacyBridge.getStoreConfig("languageCode")&&jQuery.validator.addMethod("vatin_validation",function(a){return ValidationBridge.constraint.vatin(a)},global.i18n.validation_vatin_invalid),jQuery.validator.addMethod("isAdult",function(a,b,c){var d=parseInt(b.dataset.minage),e=/(\d{2})\.(\d{2})\.(\d{4})/,f=new Date(a.replace(e,"$3-$2-$1")),g=f.getFullYear(),h=f.getMonth(),i=f.getDate();return!(!isNaN(d)&&"undefined"!=d&&""!==a)||(c[1]=d,new Date(g+d,h,i)<=new Date)},global.i18n.validation_is_adult),jQuery.validator.addMethod("local_postcode",function(a,b,c){return new RegExp(c).test(a)}),jQuery.validator.addMethod("is_credit_card_number_in_service",function(a,b,c){return LPP.common.payments.cybersource.isCreditCardNumberInService(a.replace(/ /g,""))},global.i18n.credit_card_type_not_in_service),jQuery.validator.addMethod("is_credit_card_not_expired",function(a,b,c){var d=LPP.common.payments.cybersource.isCreditCardExpired();return d||(jQuery('[for="cybersourceMonth"]').hide(),jQuery('[for="cybersourceYear"]').hide(),jQuery("#cybersourceMonth").removeClass("error").addClass("valid"),jQuery("#cybersourceYear").removeClass("error").addClass("valid")),!d},global.i18n.credit_card_expired)},overrideValidation:function(){jQuery.fn.validate=function(a){if(!this.length)return void(a&&a.debug&&window.console);var b=jQuery.data(this[0],"validator");return b?b:(this.attr("novalidate","novalidate"),b=new jQuery.validator(a,this[0]),jQuery.data(this[0],"validator",b),b.settings.onsubmit&&(this.on("click.validate",":submit",function(a){var c=jQuery(this);b.submitButton=a.currentTarget,(c.hasClass("cancel")||void 0!==c.attr("formnovalidate"))&&(b.cancelSubmit=!0)}),this.on("submit.validate",function(a){function c(){var c;return!(b.settings.submitHandler&&!b.settings.debug)||(c=b.settings.submitHandler.call(b,b.currentForm,a),void 0!==c&&c)}return b.settings.debug&&a.preventDefault(),b.cancelSubmit?(b.cancelSubmit=!1,c()):b.form()?b.pendingRequest?(b.formSubmitted=!0,!1):c():(b.focusInvalid(),!1)})),b)}},updateDefaultValidation:function(){var a=this;jQuery.validator.setDefaults({highlight:function(b,c,d){a.highlight(b,c,d,this)},unhighlight:function(b,c,d){a.unhighlight(b,c,d,this)},onfocusout:function(a){var b=jQuery(a);b.valid()}})},highlight:function(a,b,c,d){"radio"===a.type?d.findByName(a.name).addClass(b).removeClass(c):jQuery(a).addClass(b).removeClass(c),a.classList.remove("warning")},unhighlight:function(a,b,c,d){"radio"===a.type?d.findByName(a.name).removeClass(b).addClass(c):jQuery(a).removeClass(b).addClass(c),a.classList.remove("warning")},checkout:function(){function a(a){var b={storemethod:"shop[]",courier_ups_pp:"accesspoint",courier_gls_pp:"parcelshop[]"},c=b[a];return!!c&&(!jQuery('input[name="'+c+'"]').length||!jQuery('input[name="'+c+'"]:checked').length)}var b=jQuery("#checkoutForm"),c=this,d=this.rules,e=this.messages,f=d.phone.required,g=!jQuery("#normal-client-invoice").is(":checked");b.length&&(d.phone.required=this.globalRules.customer_address_telephone.required_on_checkout,this.checkoutGeoValidation||(this.checkoutGeoValidation=new LPP.common.GeoValidation(d,g,[{field:"[invoice][postcode]",validator:"postcode"},{field:"[invoice][city]",validator:"city"},{field:"[invoice][street0]",validator:"street"},{field:"[invoice][street1]",validator:"street_nb"},{field:"[invoice][street3]",validator:"apartment_number"},{field:"[invoice][firstname]",validator:"firstname"},{field:"[invoice][lastname]",validator:"lastname"}],{phoneEl:document.getElementById("phone"),dialCodeEl:document.getElementById("dial-code"),phoneElName:'[name="[phone]"]'},"#show_ivoice_form",["[invoice][vatin]","[invoice][company]","[invoice][vatdph]","[invoice][regon]"])),this.checkoutGeoValidation.createTooltip(),this.checkoutValidator&&this.checkoutValidator.destroy(),this.checkoutValidator=b.validate({ignore:":hidden, .invisible input",showErrors:function(){c.checkoutGeoValidation.tryDisplayError(c.checkoutValidator.invalid),this.defaultShowErrors()},highlight:function(a,b,d){c.highlight(a,b,d,this),c.checkoutGeoValidation.tryDisplayError(c.checkoutValidator.invalid)},unhighlight:function(a,b,d){c.unhighlight(a,b,d,this),c.checkoutGeoValidation.tryDisplayError(c.checkoutValidator.invalid)},rules:jQuery.extend({"[gender]":d.gender,"[firstname]":d.firstname,"[lastname]":d.lastname,"[email]":d.email,"[dial-code]":d.dialcode,"[phone]":d.phone,"[street0]":d.street,"[street1]":d.street_nb,"[street3]":d.apartment_number,"[city]":d.city,"[postcode]":d.postcode,"[additional-information]":d.additional_information,"[invoice][company]":d.company,"[invoice][vatin]":d.vatin,"[invoice][regon]":d.regon,"[invoice][vatdph]":d.vatdph,"[invoice][pesel]":d.pesel,conditions:d.regulations,"[cybersource][cardname]":d.cybersource_name_card,"[cybersource][securitycode]":d.cybersource_security_code,"[cybersource][cardnumber]":d.cybersource_credit_card_number,"[cybersource][year]":d.cybersource_credit_card_year,"[cybersource][month]":d.cybersource_credit_card_year},this.checkoutGeoValidation.getRules()),messages:{"[gender]":e.gender,"[firstname]":e.firstname,"[lastname]":e.lastname,"[email]":e.email,"[dial-code]":e.dialcode,"[phone]":e.phone,"[street0]":e.street,"[street1]":e.street_nb,"[street3]":e.apartment_number,"[city]":e.city,"[postcode]":e.postcode,"[additional-information]":e.additional_information,"[invoice][company]":e.company,"[invoice][vatin]":e.vatin,"[invoice][regon]":e.regon,"[invoice][vatdph]":e.vatdph,"[invoice][pesel]":e.pesel,"[invoice][firstname]":e.firstname,"[invoice][lastname]":e.lastname,"[invoice][street0]":e.street,"[invoice][street1]":e.street_nb,"[invoice][city]":e.city,"[invoice][postcode]":e.postcode,conditions:e.regulations,"[cybersource][cardname]":e.cybersource_name_card,"[cybersource][securitycode]":e.cybersource_security_code,"[cybersource][cardnumber]":e.cybersource_credit_card_number,"[cybersource][year]":e.cybersource_credit_card_year,"[cybersource][month]":e.cybersource_credit_card_year},submitHandler:function(){function c(){f(),LPP.common.checkout.isPostCodeOutOfService(m).then(function(a){a?(g(),MessageBox.notice(global.i18n.no_courier_for_your_postcode,!0)):h()})}function d(a,b){var c="";return b.forEach(function(b){c+=a[b]}),c}function e(){var a,b={},c=!0,e=["[firstname]","[lastname]","[street1]","[street2]","[city]","[postcode]","[phone]"];return document.querySelectorAll(".address-model").forEach(function(a){b[a.name]=a.value.trim()}),a=d(b,e),document.querySelectorAll(".old-address").forEach(function(b){if(b.dataset.placeholder){var e=JSON.parse(window.atob(b.dataset.placeholder)),f=e.content,g=d(f,s);g===a&&(c=!1)}}),c}function f(){p.disabled=!0,LPP.common.openSpinner({parentSelector:".main-content",keepContent:!0,withModal:!0})}function g(){LPP.common.closeSpinner({fadeOutTime:0}),p.disabled=!1}function h(){LPP.common.payments.cybersource.silentPayEnabled&&LPP.common.payments.cybersource.isPaymentChecked()?LPP.common.payments.cybersource.submitCheckoutAsAjax(l.attr("id")).then(g()):LPP.common.payments.googlepay.isPaymentChecked("#payment-lpp_newpayu_googlepay")?LPP.common.payments.googlepay.sendRequest({form:l,afterRequestCallback:g}):l.submit()}var i,j,k,l,m,n=jQuery("input[name=delivery_type]:checked").val(),o=[],p=document.getElementById("orderSubmit"),q=document.getElementById("same-address-invoice"),r=b.serializeArray(),s=["firstname","lastname","street0","street1","city","postcode","telephone"];if(q&&q.checked&&r.map(function(a){r.map(function(b){a.name==="[invoice]"+b.name&&(a.value=b.value)}),"[invoice][inv_private]"===a.name&&(a.value="1")}),a(n))return jQuery("#page").css("opacity","1"),void jQuery("html, body").animate({scrollTop:0},500,function(){MessageBox.notice(jsVars.select_shop,!0)});if(k=["payu-card-number","payu-card-cvv","payu-card-expm","payu-card-expy"],j=["form_key","delivery_type","payment_type","conditions","newsletter","subscriptionPlace","shop[]","accesspoint","parcelshop[]","store_address_input","dial_code"],e()||(jQuery("#add-address").prop("checked",!1),r=b.serializeArray()),r.forEach(function(a){var b=n+a.name;if(k.indexOf(a.name)===-1)if(j.indexOf(a.name)!==-1)o.push({name:a.name,value:a.value});else if("[invoice][vatin]"===a.name||"[invoice][pesel]"===a.name||"dial_code"===a.name){var c=a.value;"HU"!==jsVars.countryCode&&(c=c.replace(/-/g,"")),o.push({name:b,value:c})}else if("[company]"===a.name)"storemethod"!==n&&"courier_ups_pp"!==n&&"courier_gls_pp"!==n&&o.push({name:b,value:a.value});else if("[phone]"===a.name){var d=a.value,e=d.replace(/^(\((\+|00)?\d{2}\)|(\+|00)\d{2})?/,"");e=e.replace(/\s/g,""),e=e.replace(/-/g,""),o.push({name:n+"[phone]",value:e})}else"storemethod"!==n&&"courier_ups_pp"!==n&&"courier_gls_pp"!==n?o.push({name:b,value:a.value}):"[street1]"!==a.name&&"[street2]"!==a.name&&"[city]"!==a.name&&"[postcode]"!==a.name&&o.push({name:b,value:a.value})}),""===jQuery(".address-data.data-company").val()?o.push({name:n+"[is_private]",value:"1"}):o.push({name:n+"[is_private]",value:"0"}),o.forEach(function(a){!LegacyBridge.getStoreConfig("isInvoiceEnabled")&&a.name.indexOf("[invoice]")>=0||(i+='<input type="text" name="'+a.name+'" value="'+a.value+'">')}),jQuery('input[name="payment_type"][value="payu_cc"]:visible').prop("checked")&&jQuery("#payu_remembered_cc").find(":input.error").length)return void jQuery("#payu_remembered_cc").find(":input.error").first().focus();if(p.disabled=!0,jQuery("#checkoutFormHidden").html(i),"payu_cc"===jQuery('#checkoutFormHidden input[name="payment_type"]').val()){var t=oneClickOrder();if(t!==!0)return void(t.hasOwnProperty("card.expirationDate")?MessageBox.error(jsVars.credit_card_date,!0):t.hasOwnProperty("card.number")?MessageBox.error(jsVars.credit_card_number,!0):MessageBox.error(jsVars.credit_card_error,!0))}else l=jQuery("#checkoutFormHidden"),m=document.getElementsByName("[postcode]")[0].value,LPP.common.checkout.blockOutOfServiceEnabled&&n===LPP.common.shipping.dummyCourierMethodCod?c():(f(),LPP.common.checkout.isPostcodeInService(m,n).then(function(a){a?h():(g(),MessageBox.show(global.i18n.no_postcode_in_database,!0,void 0,void 0,!0,function(){f(),h()}))}));var u=0;if(jQuery(".error").each(function(){jQuery(this).is(":visible")&&(u+=1)}),0===u){var v=global.i22o.order_process;"CZ"===jsVars.countryCode&&jQuery(".payment-form ").find("input:checked").val().indexOf("payu_account")!==-1&&(v=global.i22o.transfer_order_process,LPP.common.openSpinner({parentSelector:".main-content",keepContent:!0,withModal:!0,headerText:v})),jQuery("#orderSubmit").addClass("is-order-submit")}}}),d.phone.required=f,this.checkoutGeoValidation.checkValidation(this.checkoutValidator))},login:function(){var a=jQuery("#customerLogin"),b=this.rules,c=this.messages;a.length&&a.validate({rules:{"login[username]":b.email,"login[password]":b.password},messages:{"login[username]":c.email,"login[password]":c.password},submitHandler:function(a){var b=jQuery(a);jQuery.ajax({url:sessionCache.get("base_url")+"ajx/customer/login/",async:!0,data:b.serialize(),type:"POST",dataType:"json",timeout:LPP.cropp.consts.ajaxTimeout,error:LPP.cropp.ajaxHandlers.error,beforeSend:function(){jQuery("body").addClass("wait"),LPP.common.openSpinner({parentSelector:".main-content",keepContent:!0,withModal:!0})},success:function(a){var c,d;a.status?(jQuery("body").removeClass("wait"),document.location.href=a.content.url):(jQuery("body").removeClass("wait"),LPP.common.closeSpinner(),a.is_terms_accepted===!1?(c=document.getElementById("acceptRulesPopup"),d=c.querySelector("#acceptRulesSubmit"),c.style.display="block",d.addEventListener("click",acceptRulesAjax.bind(null,b))):new LPP.Popup({content:a.message,cssClass:["authorization-popup"]}).open())}})}})},newsletterSubscription:function(){var a=jQuery(".js-newsletter-form"),b=this.rules,c=this.messages;if(a.length){var d={rules:{email:b.email,newsletter_conditions:b.newsletter_conditions},messages:{email:c.email,newsletter_conditions:c.newsletter_conditions},submitHandler:function(a){jQuery.ajax({url:a.dataset.url,data:{email:a.querySelector(".js-newsletter-email").value,subscriptionPlace:a.querySelector(".ai-subscription-place").value},method:"POST",xhrFields:{withCredentials:!0},timeout:LPP.cropp.consts.ajaxTimeout,error:LPP.cropp.ajaxHandlers.error,beforeSend:function(){jQuery("body").addClass("wait"),LPP.common.openSpinner({parentSelector:".main-content",keepContent:!0,withModal:!0})},success:function(b){jQuery("body").removeClass("wait"),LPP.common.closeSpinner(),b.status?document.location.href=a.dataset.success:MessageBox.error(b.message,!0)}})}};a.each(function(){jQuery(this).validate(d)})}},forgotPassword:function(){var a=jQuery("#forgotPasswordForm"),b=this.rules,c=this.messages;a.length&&a.validate({rules:{email:b.email},messages:{email:c.email},submitHandler:function(a){jQuery.ajax({url:sessionCache.get("base_url")+"ajx/customer/recover/",async:!0,data:jQuery('form[data-form="password-recovery"]').serialize(),type:"POST",timeout:LPP.cropp.consts.ajaxTimeout,dataType:"json",error:LPP.cropp.ajaxHandlers.error,beforeSend:function(){jQuery("body").addClass("wait"),LPP.common.openSpinner({parentSelector:".main-content",keepContent:!0,withModal:!0})},success:function(a){jQuery("body").removeClass("wait"),a.status?(MessageBox.success(a.content.message,!0),setTimeout(function(){document.location.href=sessionCache.get("base_url")},4e3)):MessageBox.error(a.message,!0),LPP.common.closeSpinner()}})}})},registration:function(){var a=jQuery("#registerForm"),b=this.rules,c=this.messages;a.length&&(this.registrationGeoValidation||(this.registrationGeoValidation=new LPP.common.GeoValidation(b,(!1),[{field:"invoice1[postcode]",validator:"postcode"},{field:"invoice1[city]",validator:"city"},{field:"invoice1[street][0]",validator:"street"},{field:"invoice1[street][1]",validator:"street_nb"},{field:"invoice1[firstname]",validator:"firstname"},{field:"invoice1[lastname]",validator:"lastname"}],{phoneEl:document.getElementById("registrationPhone"),dialCodeEl:document.getElementById("registrationUserPrefix"),phoneElName:'[name="phone"]'})),this.registerFormValidator=a.validate({rules:{gender:b.gender,firstname:b.firstname,lastname:b.lastname,email:b.email,emailConfirmation:b.getEmailConfirmation(),dial_code:b.dialcode,phone:b.phone,dob:b.dob,password:b.password,"location[street][0]":b.street,"location[street][1]":b.street_nb,"location[street][2]":b.apartment_number,"location[city]":b.city,"location[postcode]":b.postcode,terms_agreed:b.regulations,general_terms_agreed:b.general_terms_agreed},messages:{gender:c.gender,firstname:c.firstname,lastname:c.lastname,email:c.email,dial_code:c.dialcode,phone:c.phone,dob:c.dob,password:c.password,emailConfirmation:c.emailConfirmation,"location[street][0]":c.street,"location[street][1]":c.street_nb,"location[street][2]":c.apartment_number,"location[city]":c.city,"location[postcode]":c.postcode,terms_agreed:c.regulations,general_terms_agreed:c.general_terms_agreed},submitHandler:function(a){var b,c=window.location.pathname.split("/"),d="",e=0,f=jQuery(a).find('button[type="submit"]'),g=jQuery('form[data-form="registration"]');jQuery(c).each(function(a,b){"uenc"===b&&(e=a)}),0!==e&&(d=c[e+1]),f.attr("disabled","disabled"),b=g.serialize(),b+="&confirmation="+encodeURIComponent(g[0].password.value),jQuery.ajax({url:sessionCache.get("base_url")+"ajx/customer/register/uenc/"+d,async:!0,data:b,type:"POST",timeout:LPP.cropp.consts.ajaxTimeout,dataType:"json",error:LPP.cropp.ajaxHandlers.error,beforeSend:function(){jQuery("body").addClass("wait"),LPP.common.openSpinner({parentSelector:".main-content",keepContent:!0,withModal:!0})},success:function(a){a.status?(jQuery("body").removeClass("wait"),document.location.href=a.content.url):(jQuery("body").removeClass("wait"),LPP.common.closeSpinner(),MessageBox.error(a.message,!0),f.removeAttr("disabled"))}})}}),this.registrationGeoValidation.checkValidation(this.registerFormValidator))},initCustomerAccountForm:function(a){var b=jQuery("#customerAccountForm"),c=this.rules,d=this.messages,e=this,f=c.phone.required;jQuery(".my-account-settings-content input[type=radio]",b).change(function(){b.validate().resetForm()}),b.length&&(this.customerAccountFormValidation&&this.customerAccountFormValidation.destroy(),c.postcode.rxpattern&&(c.postcode.pattern=c.postcode.rxpattern,delete c.postcode.rxpattern),b.find("#addressData:visible").length&&(c.phone.required=this.globalRules.customer_address_telephone.required_on_checkout),this.accountGeoValidation||(this.accountGeoValidation=new LPP.common.GeoValidation(c,a,[{field:"invoice1[postcode]",validator:"postcode"},{field:"invoice1[city]",validator:"city"},{field:"invoice1[street][0]",validator:"street"},{field:"invoice1[street][1]",validator:"street_nb"},{field:"invoice1[firstname]",validator:"firstname"},{field:"invoice1[lastname]",validator:"lastname"}],{phoneEl:document.getElementById("customerPhoneNumber"),dialCodeEl:document.getElementById("customerDialcode"),phoneElName:'[name="phone_no"]'},"#customerInvoiceData",["invoice1[vatin]","invoice1[company]","invoice1[vatdph]","invoice1[regon]"],(!0))),this.customerAccountFormValidation=b.validate({showErrors:function(){e.accountGeoValidation.tryDisplayError(e.customerAccountFormValidation.invalid),this.defaultShowErrors()},highlight:function(a,b,c){e.highlight(a,b,c,this),e.accountGeoValidation.tryDisplayError(e.customerAccountFormValidation.invalid)},unhighlight:function(a,b,c){e.unhighlight(a,b,c,this),e.accountGeoValidation.tryDisplayError(e.customerAccountFormValidation.invalid)},rules:jQuery.extend({gender:c.gender,firstname:c.firstname,lastname:c.lastname,email:c.email,phone_no:c.phone_exact,dob:c.dob,current_password:{required:function(){return!(!jQuery("#customerNewPassword").val().length&&!jQuery("#customerConfirmPassword").val().length)},minlength:this.globalRules.customer_password_hash.min_text_length},password:{required:function(){return!!jQuery("#customerConfirmPassword").val().length},minlength:this.globalRules.customer_password_hash.min_text_length},confirmation:{required:function(){return!!jQuery("#customerNewPassword").val().length},minlength:this.globalRules.customer_password_hash.min_text_length,equalTo:"input[name=password]"},"address[firstname]":c.firstname,"address[lastname]":c.lastname,"address[dial-code]":c.dialcode,"address[phone]":c.phone,"address[street0]":c.street,"address[street1]":c.street_nb,"address[street2]":c.apartment_number,"address[city]":c.city,"address[postcode]":c.postcode,"address[additional_information]":c.additional_information,"invoice1[is_private]":{required:!0},"invoice1[pesel]":c.pesel,"invoice1[vatdph]":c.vatdph,"invoice1[company]":c.company,"invoice1[vatin]":c.vatin,"invoice1[regon]":c.regon},this.accountGeoValidation.getRules()),messages:{required:global.i21v.field_req,digits:global.i21v.digits,gender:d.gender,firstname:d.firstname,lastname:d.lastname,email:d.email,dial_code:{required:"",accept:"",pattern:""},phone_no:d.phone,dob:d.dob,current_password:d.password,password:d.password,confirmation:d.confirmation,"address[firstname]":d.firstname,"address[lastname]":d.lastname,"address[dial-code]":d.dialcode,"address[phone]":d.phone,"address[street0]":d.street,"address[street1]":d.street_nb,"address[street2]":d.apartment_number,"address[city]":d.city,"address[postcode]":d.postcode,"address[additional_information]":d.additional_information,"invoice1[firstname]":d.firstname,"invoice1[lastname]":d.lastname,"invoice1[pesel]":d.pesel,"invoice1[vatdph]":d.vatdph,"invoice1[company]":d.company,"invoice1[street][0]":d.street,"invoice1[street][1]":d.street_nb,"invoice1[city]":d.city,"invoice1[postcode]":d.postcode,"invoice1[vatin]":d.vatin},submitHandler:function(a){const b=a.querySelector("#customerAccountFormsSubmitButton");b&&(b.disabled=!0),a.submit()}}),this.accountGeoValidation.checkValidation(this.customerAccountFormValidation),c.phone.required=f)},contactForm:function(){var a=jQuery("#contactForm"),b=this.rules,c=this.messages;a.length&&a.validate({ignore:[],onfocusout:function(a){jQuery(a).valid()},rules:{firstname:b.firstname,lastname:b.lastname,customer_email:b.email,order_id:b.order_id_optional,comment:b.comment,department_saved_id:b.contact_form_select,topic_id:b.contact_form_select,"g-recaptcha-response":b.g_recaptcha_response},messages:{firstname:c.firstname,lastname:c.lastname,customer_email:c.email,comment:c.comment,department_saved_id:c.contact_form_select,topic_id:c.contact_form_select,"g-recaptcha-response":c.g_recaptcha_response}})},orderContactForm:function(){var a=jQuery("#orderContactForm"),b=this.rules,c=this.messages;a.length&&(jQuery("#modal-customer-service").hide(),jQuery(".order-details-container").on("click",'a[data-target="#modal-customer-service"]',function(){a.validate().resetForm()}),a.change("select",function(){a.validate().form()}),a.validate({ignore:[],rules:{service_topic:b.contact_form_select,content:b.comment,"g-recaptcha-response":b.g_recaptcha_response},messages:{service_topic:c.contact_form_select,content:c.comment,"g-recaptcha-response":c.g_recaptcha_response},submitHandler:function(){jQuery.ajax({url:sessionCache.get("base_url")+"ajx/service/send/",async:!0,data:a.serialize(),type:"POST",timeout:LPP.cropp.consts.ajaxTimeout,dataType:"json",error:LPP.cropp.ajaxHandlers.error,beforeSend:function(){jQuery("body").addClass("wait"),LPP.common.openSpinner({parentSelector:"#cboxContent",keepContent:!0})},success:function(b){jQuery("body").removeClass("wait"),LPP.common.closeSpinner(),jQuery("#modal-customer-service").colorbox.close(),a.get(0).reset(),a.validate().resetForm(),jQuery("select",a).selectric("refresh"),setTimeout(function(){b.status?MessageBox.success(b.content.message):MessageBox.error(b.message)},600),LPP.common.recaptchaEnabled&&grecaptcha.reset()}})}}))},rma:{rules:null,messages:null,returnForm:null,init:function(a){this.initRules(a.rules),this.initMessages(a.messages),this.initMethods(),document.getElementById("returnRmaForm")?this.returnForm=document.getElementById("returnRmaForm"):document.getElementById("complaintRmaForm")&&(this.returnForm=document.getElementById("complaintRmaForm")),this.returnFrom(),this.mailRequest()},initRules:function(a){this.rules={courier_date:a.rma_courier,"courier[courier_fname]":a.firstname,"courier[courier_lname]":a.lastname,"courier[courier_street1]":a.street,"courier[courier_street2]":a.street_nb,"courier[courier_city]":a.city,"courier[courier_postcode]":a.postcode,rma_phone_number:a.phone,"courier[courier_email]":a.email,rma_bank:a.rma_bank,rma_bank_owner:a.rma_bank_owner,rma_bank_owner_firstname:a.firstname,rma_bank_owner_lastname:a.lastname,rma_bank_owner_patronimic:a.lastname,comment:a.additional_information,is_signed:a.regulations,qty_count:{min:1},"dial-code":a.dialcode,additional_information:a.additional_information},LPP.common.rma.validateRussianAccountNumberEnabled&&(this.rules.rma_bank=a.rma_bank_ru_account,this.rules.rma_bank_bik_number=a.rma_bank_bik)},initMessages:function(a){this.messages={courier_date:a.rma_courier,"courier[courier_fname]":a.firstname,"courier[courier_lname]":a.lastname,"courier[courier_street1]":a.street,"courier[courier_street2]":a.street_nb,"courier[courier_city]":a.city,"courier[courier_postcode]":a.postcode,rma_phone_number:a.phone,"courier[courier_email]":a.email,rma_bank:a.rma_bank,rma_bank_owner:a.rma_bank_owner,rma_bank_owner_firstname:a.firstname,rma_bank_owner_lastname:a.lastname,rma_bank_owner_patronimic:a.lastname,comment:a.additional_information,is_signed:a.regulations,qty_count:{min:global.i21v.at_least_one},"dial-code":a.dialcode,additional_information:a.additional_information,rma_credit_card_number:a.cybersource_credit_card_number},LPP.common.rma.validateRussianAccountNumberEnabled&&(this.messages.rma_bank=a.rma_bank_ru_account,this.messages.rma_bank_bik_number=a.rma_bank_bik)},initMethods:function(){jQuery.validator.addMethod("bankAccountNumberValidation",function(){var a=jQuery(".bank-nr");return window.isBankAccountNumberValid===!0?(a.removeClass("error").addClass("valid"),!0):(a.removeClass("valid").addClass("error"),!1)}),jQuery.validator.addMethod("creditcard",function(a,b,c){var d=a.length,e=0,f=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],g=0;if(16!==d)return!1;for(;d--;)g+=f[e][parseInt(a.charAt(d),10)],e^=1;return g%10===0&&g>0}),jQuery.validator.addMethod("rmaitemqty",function(a,b,c){return jQuery(".count-counter-"+jQuery(b).data("counter")).val()>0&&""!=jQuery(b).val()||0==jQuery(".count-counter-"+jQuery(b).data("counter")).val()&&""==jQuery(b).val()||0==jQuery(".count-counter-"+jQuery(b).data("counter")).val()}),jQuery.validator.addMethod("rmacomplainttext",function(a,b,c){return 0==jQuery(".count-counter-"+jQuery(b).data("counter")).val()&&0==jQuery(b).val().length||jQuery(".count-counter-"+jQuery(b).data("counter")).val()>0&&jQuery(b).val().length>0&&"other"==jQuery("select[name='items["+jQuery(b).data("counter")+"][complaint_reason]']").val()&&ValidationManager.rmaCharacterSet.test(a)||jQuery(".count-counter-"+jQuery(b).data("counter")).val()>0&&"other"!=jQuery("select[name='items["+jQuery(b).data("counter")+"][complaint_reason]']").val()}),jQuery.validator.addMethod("returnminlength",function(a,b,c){return 0==jQuery(".count-counter-"+jQuery(b).data("counter")).val()||"other"==jQuery("select[name='items["+jQuery(b).data("counter")+"][return_reason]']").val()&&jQuery(b).val().length>10||"other"!=jQuery("select[name='items["+jQuery(b).data("counter")+"][return_reason]']").val()}),jQuery.validator.addMethod("rmareturntext",function(a,b,c){return 0==jQuery(".count-counter-"+jQuery(b).data("counter")).val()&&0==jQuery(b).val().length||jQuery(".count-counter-"+jQuery(b).data("counter")).val()>0&&jQuery(b).val().length>0&&"other"==jQuery("select[name='items["+jQuery(b).data("counter")+"][return_reason]']").val()||jQuery(".count-counter-"+jQuery(b).data("counter")).val()>0&&"other"!=jQuery("select[name='items["+jQuery(b).data("counter")+"][return_reason]']").val()||0==jQuery(".count-counter-"+jQuery(b).data("counter")).val()}),jQuery.validator.addMethod("rmaitemdate",function(a,b,c){return!0}),jQuery.validator.addClassRules("rma-datepicker-select",{rmaitemqty:!0,rmaitemdate:!0,pattern:/^(\d{2}).(\d{2}).(\d{4})$/}),jQuery.validator.addClassRules(".rma-form fancy-select",{minValue:!0}),jQuery.validator.addClassRules("rma-complaint-text",{rmacomplainttext:!0}),jQuery.validator.addClassRules("rma-return-text",{rmareturntext:!0}),jQuery.validator.addClassRules("rma-reason",{rmaReason:!0})},returnFrom:function(){var a=this,b=jQuery(this.returnForm),c=jQuery("#rmaStreet"),d=jQuery("#rmaStreetNumber");b.length&&(b.validate({ignore:[],onfocusout:function(a){jQuery(a).valid()},rules:a.rules,messages:a.messages}),jQuery("select",b).change(function(){b.validate().form()}),jQuery("#rmaStreet, #rmaStreetNumber").on("change",function(){jQuery("#addressFull").val(c.val()+" "+d.val())}))},mailRequest:function(){var a=this,b=jQuery("#bankAccountSaveForm");if(b.length){var c={rma_bank:a.rules.rma_bank,rma_bank_owner:a.rules.rma_bank_owner,comment:a.rules.additional_information},d={rma_bank:a.messages.rma_bank,rma_bank_owner:a.messages.rma_bank_owner,comment:a.messages.additional_information};LPP.common.rma.validateRussianAccountNumberEnabled&&(c.rma_bank_bik_number=a.rules.rma_bank_bik_number,c.rma_bank_owner_firstname=a.rules.rma_bank_owner_firstname,c.rma_bank_owner_lastname=a.rules.rma_bank_owner_lastname,c.rma_bank_owner_patronimic=a.rules.rma_bank_owner_patronimic,d.rma_bank_bik_number=a.messages.rma_bank_bik_number,d.rma_bank_owner_firstname=a.messages.rma_bank_owner_firstname,d.rma_bank_owner_lastname=a.messages.rma_bank_owner_lastname,d.rma_bank_owner_patronimic=a.messages.rma_bank_owner_patronimic),b.validate({rules:c,messages:d,submitHandler:function(a){var b=jQuery("#bankName");return isBankAccountNumberValid?void a.submit():(b.text(b.data("default")).show(),!1)}})}}},comingSoonPopUp:function(){var a={};return a.rules={email:this.rules.email,is_accepted:this.rules.regulations},a.messages={email:this.messages.email,is_accepted:this.messages.regulations},a}};jQuery(document).ready(function(){reValidation.init(),LegacyBridge.initDadataFormService()});var initCustomerAccountView=function(){function a(){var a=document.getElementById("customerAccountForm");a&&(b(),"GB"===jsVars.countryCode&&LPP.common.form.formatInputValueOnBlur(["shippingDataPostcode","invoicePostcode"],LPP.common.form.formatPostcodeUK))}function b(){function a(){c.checked?(f.classList.add("hidden"),e.classList.remove("hidden"),reValidation.initCustomerAccountForm(!1)):d.checked&&(e.classList.add("hidden"),f.classList.remove("hidden"),reValidation.initCustomerAccountForm(!0))}var b,c,d,e,f,g=document.getElementById("customerInvoiceData");g&&(b=g.querySelector("#typeOfInvoice"),c=b.querySelector("#privatePersonInvoiceOption"),d=b.querySelector("#companyInvoiceOption"),e=g.querySelector("#privatePersonInvoice"),f=g.querySelector("#companyInvoice"),a(),c.addEventListener("click",function(){a()}),d&&d.addEventListener("click",function(){a()}))}return a}(),isMobile=!!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|Android|webOS|IEMobile|Opera Mini)/i),CROPP={};jQuery(document).ready(function(a){a.extend(window.CROPP,{$window:null,init:function(){this.$window=a(window),this.fLanguageClass(),this.fFrontPageSlider(),this.fCustomForms(),this.fSidebarSetHeight(),this.fInvoiceInputs(),this.fEqualHeight(),this.fSidebarSetHeight(),this.fInvoiceFormActions(),this.fPayUCCActions(),this.fMyAccountFvat(),this.fOrdersTrigger(),this.fTooltip(),this.fCustomSelect(),this.fTableSizes(),this.fOrderCustomerService(),this.fSearchOrder(),this.fFixedBackground(),this.fClearAdress(),this.fDatePicker(),this.fForbidCharacters(),this.fSizeTableTab(),this.fLookbookQSBlock(),this.fCancelOrder(),this.fRemoveAddress(),this.changePaymentToCod(),this.fCustomScrollbar(),this.errorDimensions(),this.myOrdersHeight(),this.storeLocatorHeight(),this.storeLocatorMap(),this.showMoreRules(),this.toggleEventsHandler(),this.newsletterPromoBottomBanner.init(),this.hideUnnecessaryInfoInReturns(),this.postcodeHints(),this.submenuKidsMechanics(),this.submenuKidsHoverFixer(),this.showSelectric(),this.preventAddressAmount(),this.bindMobileScrollAction(),this.$window.trigger("finished_loading_main_js"),jQuery(".creditmemo").on("click",function(){return jQuery(this).parent().find("ul.creditmemo-list").addClass("active"),!1});var b=a('[name="storeButton"]');b.length&&this.$window.resize(function(){b.width(a('[name="courierButton"]').width())}).trigger("resize")},bindMobileScrollAction:function(){function b(){var a=c(window.scrollY)?"down":"up";f=window.scrollY,a!==g&&d(window.scrollY)&&(g=a,e(a))}function c(a){return f<a}function d(a){return a>i}function e(a){CROPP.isMobileResolution(window.innerWidth)&&("up"===a&&h.removeClass("hide"),"down"===a&&h.addClass("hide"))}var f=0,g="up",h=a("#main-header"),i=50;this.$window.on("scroll",b)},isMobileResolution:function(a){return(a||this.$window.width())<=this.tablet},mobile:768,tablet:1024,smallDesktop:1280,fForbidCharacters:function(){function b(a){225!==a.which&&233!==a.which||a.preventDefault()}function c(){var b=a(this),c=b.val();
c=c.replace("á","a"),c=c.replace("é","e"),b.val(c)}var d,e;jQuery("body").hasClass("lang-de")&&(d=jQuery("input"),e=jQuery("textarea"),jQuery('input[name="address[city]"]').blur(function(a){var b=jQuery(this),c=b.val().replace(/^\s+/g,"");b.val(c)}),d.keypress(b),d.bind("paste",c),e.keypress(b),e.bind("paste",c))},fCancelOrder:function(){var a={},b=jQuery(".cancel-order");b.each(function(){var b=jQuery(this);a[b.data("order-increment-id")]=b.attr("href"),b.attr("href","#cancel-order")}),b.on("click",function(b){b.preventDefault(),orderIncrementId=jQuery(this).data("order-increment-id"),jQuery("#cancel-order-id").html(orderIncrementId),jQuery("#cancel-order-yes").attr("href",a[orderIncrementId]),MessageBox.show(jQuery("#cancel-order-box").html())})},fRemoveAddress:function(){var a,b=document.querySelectorAll("#customerAccountForm .remove-address-button");for(a=0;a<b.length&&b[a].dataset&&b[a].dataset.options;a++)b[a].addEventListener("click",function(a){var b,c,d=this,e=this.form;a.preventDefault(),c=JSON.parse(d.dataset.options),b="<h1>"+c.title+"</h1><span>"+c.message+"</span>",MessageBox.confirm(b,!1,function(){var a=document.createElement("input");a.type="hidden",a.name="referer",a.value=c.referer,e.action=c.formAction,e.appendChild(a),e.submit()})})},changePaymentToCod:function(){var a=document.querySelectorAll(".change-payment-to-cod-button");a.forEach(function(a){a.addEventListener("click",function(b){b.preventDefault(),MessageBox.confirm(global.i18n.are_you_sure_to_want_to_change_payment_method,!0,function(){window.location=a.dataset.url})})})},fLanguageClass:function(){var a=jQuery("html").attr("lang");jQuery("body").addClass("lang-"+a)},fFrontPageSlider:function(){if(jQuery(".front-page-slider ul.slides").length){var a=jQuery(window).height(),b=jQuery(window).width(),c=a-135;b>this.tablet?(jQuery(".front-page-slider ul.slides").height(c),jQuery(".front-page-slider ul.slides li").width(b)):jQuery(".front-page-slider ul.slides").height("auto"),jQuery(".front-page-slider ").flexslider({animation:"slide",slideshowSpeed:1e4,controlNav:!1,start:function(){b=jQuery(window).width(),jQuery(".front-page-slider ul.slides").css("-webkit-transform","translate3d(-"+b+"px, 0px, 0px)")}})}},fSidebarSetHeight:function(){var a=jQuery(window).height()-50;jQuery(".cart-sidebar").css("min-height",a)},hideUnnecessaryInfoInReturns:function(){var a=jQuery(".tooltip-box.returns").find(".headline");a.hide().prev().hide()},fCustomForms:function(){var a="body:not(.catalog-category-view, .catalogsearch-result-index) input[type=radio]:not(.radio),body:not(.catalog-category-view, .catalogsearch-result-index) input[type=checkbox]:not(.checkbox)";jQuery(a).uniform()},fInvoiceFormActions:function(){function b(){var b=i.data("placeholder");b&&(b=JSON.parse(window.atob(b)),"undefined"!=typeof b.content&&setTimeout(function(){jQuery(".client-type").find(".invoice-changer:checked").change()},20),a.each(b.content,function(a,b){jQuery('input[name="[invoice]['+a+']"]').val(b)}))}function c(a){k.prop("checked")||l.indexOf(a.value)!==-1||(h.addClass("invisible"),f.prop("checked",!0)),l.indexOf(a.value)!==-1?(f.prop("disabled",!0).prop("checked",!1),g.addClass("inactive"),f.parent().addClass("hidden"),h.removeClass("invisible")):(f.prop("disabled",!1),f.prop("checked",!0),f.parent().removeClass("hidden"),g.removeClass("inactive"),m())}var d=jQuery(".shipment-type-input"),e=jQuery(".address-changer"),f=jQuery("#same-address-invoice"),g=f.parents("label"),h=jQuery("#show_ivoice_form"),i=(jQuery(".normal-client.textboxes"),jQuery(".business-client.textboxes"),jQuery("#billing-address")),j=i.length,k=jQuery("#faktura-vat"),l=["courier_ups_pp","storemethod","courier_gls_pp"];j&&(e.on("change",function(){f.prop("checked")||b()}),k.on("change",function(){a(this).prop("checked")&&(f.prop("checked")||b())}));var m=function(){var a=jQuery("#normal-client-invoice");jQuery("#show_ivoice_form").find("span.checked").removeClass("checked"),a.parent().addClass("checked"),h.addClass("invisible")};f.on("change",function(){a(this).prop("checked")?m():(j&&b(),h.removeClass("invisible")),reValidation.checkout()}),d.on("change",function(){c(this)}),d.length&&c(d[0])},fPayUCCActions:function(){var a=jQuery(".payment-method").find('input[type="radio"]'),b=jQuery("#payu_cc_textboxes"),c=jQuery("#payu_remembered_cc"),d=jQuery("#payu_cc_add_form");a.on("change",function(){"payu_cc"===this.value?(b.removeClass("hidden"),c.find('input[type="radio"]').first().prop("checked",!0),jQuery.uniform.update(),c.find('input[type="radio"][value="new"]').prop("checked")&&d.removeClass("hidden")):(b.addClass("hidden"),d.addClass("hidden"))}),c.on("change",'input[type="radio"]',function(){"new"===this.value?d.removeClass("hidden"):d.addClass("hidden")}),c.find('input[type="radio"][value="new"]').prop("checked")&&d.removeClass("hidden")},fInvoiceInputs:function(){var a=jQuery("#faktura-vat"),b=jQuery(".client-data"),c=b.find(".bussiness-client"),d=c.find("#show_ivoice_form .row input");a.parent("span").hasClass("checked")&&(c.show(),b.addClass("opened")),setTimeout(function(){d.each(function(){var a=jQuery(this),b=a.val();b&&(a.removeClass("error").addClass("valid"),a.next("label").hide())})},200),LegacyBridge.getStoreConfig("isInvoiceEnabled")?(c.show(),b.addClass("opened")):(c.hide(),b.removeClass("opened"),c.find('input[type="text"]').each(function(){jQuery(this).val("")}))},fEqualHeight:function(){var a=jQuery(".thank-you-page .span9"),b=jQuery(".thank-you-page .span3"),c=a.height(),d=b.height();c>d?b.css("height",c):a.css("height",d)},fTableSizes:function(){tableSizes()},fOrderCustomerService:function(){jQuery(".order-details-container").on("click",'a[data-target="#modal-customer-service"]',function(){var a=jQuery("#modal-customer-service"),b=jQuery.parseJSON(jQuery(this).attr("data-autocomplete")).value;LPP.common.closeSpinner(),jQuery("#order_incremental_id").val(b),jQuery("#content").val(""),jQuery(this).colorbox({width:"95%",height:"90%",overlayClose:!0,inline:!0,href:a,onOpen:function(){a.show(),jQuery("#topic").val(0),jQuery("#topic").selectric({effect:"fade"}),jQuery("body").css("overflow","hidden"),LPP.common.openSpinner({parentSelector:"#cboxLoadedContent",keepContent:!0}),jQuery("#modal-customer-service.mCustomScrollbar").length?jQuery("#modal-customer-service").mCustomScrollbar("update"):jQuery("#modal-customer-service").mCustomScrollbar({theme:"dark-thin"})},onCleanup:function(){jQuery("body").css("overflow","auto")},onClosed:function(){a.hide(),jQuery("#topic").selectric("destroy")},onComplete:function(){jQuery("#orderContactForm").validate().resetForm(),jQuery(this).colorbox.resize(),LPP.common.closeSpinner()}})})},fSearchOrder:function(){jQuery('a[data-target="#modal-search-order"]').click(function(){var a=jQuery(jQuery(this).data("target"));jQuery.colorbox({overlayClose:!0,inline:!0,href:a,onOpen:function(){a.show(),jQuery("#modal-search-order form").find("input[type=text], textarea").val(""),jQuery("body").css("overflow","hidden"),LPP.common.openSpinner({parentSelector:"#cboxLoadedContent",keepContent:!0})},onClosed:function(){a.hide(),jQuery("body").css("overflow","auto")},onComplete:function(){jQuery.colorbox.resize(),LPP.common.closeSpinner()}})})},fMyAccountFvat:function(){jQuery("#uniform-f-vat").on("click",function(){jQuery("#companyInvoiceData").fadeToggle()}),jQuery("#uniform-f-vat span").hasClass("checked")&&jQuery("#companyInvoiceData").show()},fOrdersTrigger:function(){jQuery(".order-trigger").on("click",function(){var a=jQuery(this).parents(".order-item"),b=a.children(".order-item-list-container");b.slideToggle(),setTimeout(function(){a.toggleClass("active")},200)})},fTooltip:function(){jQuery(".tooltip").on("click",function(a){a.preventDefault(),jQuery(this).children(".tooltip-text").toggle()})},fCustomSelect:function(){jQuery("select").not(".not-selectric").each(function(){jQuery(this).selectric({effect:"fade",direction:"up",disableOnMobile:!0})})},fFixedBackground:function(){jQuery(".fixed-background").length&&jQuery("html").addClass("body-register-page"),jQuery("section.main-content").hasClass("cmspage")&&jQuery("html").addClass("cmspage")},fClearAdress:function(){var a=(global.i18n.prefix,jQuery(".client-address-select")),b=jQuery(".add-address-wrapper").find("label"),c=jQuery(".my-account-settings #addNewAddress");setTimeout(function(){var c=a.find('input[name="address-entity"]:checked');c.hasClass("old-address")&&b.hide()},200),c.on("click",function(){const a=document.querySelectorAll(".shipping-address-data input");a.forEach(function(a){"shippingDataDialcode"!==a.id&&(a.value="")})})},fDatePicker:function(){var a=new Date,b=new Date,c=a.getDate(),d=jQuery(".order-date").val(),e=a.getMonth()+1,f=a.getFullYear(),g=6==b.getDay()?1:0;g=5==b.getDay()?2:g,c<10&&(c="0"+c),e<10&&(e="0"+e),a=c+"."+e+"."+f;var h=b.getFullYear(),i="01.01."+(h-100);jQuery("#registrationCustomerDob, #dateOfBirth, .data-dob, .datepicker-select, .input-date").Zebra_DatePicker({direction:[i,a],format:"d.m.Y",start_date:a,show_select_today:!1,show_clear_date:!1,view:"years",months:global.i20df.months,days:global.i20df.days}),jQuery(".rma-datepicker-select").Zebra_DatePicker({direction:[d,a],format:"d.m.Y",start_date:a,show_select_today:!1,show_clear_date:!1,view:"years",months:global.i20df.months,days:global.i20df.days}),jQuery("#pickup-date").Zebra_DatePicker({direction:[2+g,30],disabled_dates:["* * * 0,6","06 04 2015","07 04 2015"],format:"d.m.Y",start_date:a,show_select_today:!1,show_clear_date:!1,view:"",months:global.i20df.months,days:global.i20df.days})},fSizeTableTab:function(){jQuery(".cmspage .span7 .nav-table li a").click(function(a){a.preventDefault();var b=jQuery(this).attr("href");jQuery(".cmspage .span7 .nav-table li").removeClass("active"),jQuery(this).parent().addClass("active"),jQuery(".tab-pane.active").removeClass("active").fadeOut("fast"),jQuery(b).fadeIn("slow"),jQuery(b).addClass("active")})},fLookbookQSBlock:function(){jQuery(".microsite-label.hide-quickshop").find("a").on("click",function(a){a.preventDefault()})},newsletterCookie:{setCookie:function(a){var b=new Date,c="newsletterCookie=";b.setTime(b.getTime()+2592e6);var d="expires="+b.toUTCString();document.cookie=c+a+"; "+d+"; path=/"},getCookie:function(){for(var a="newsletterCookie=",b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return""},checkCookie:function(a){if(/newsletter|subscri|checkout/.exec(document.location.href))return!1;var b=LPP.isLogged||void 0,c=LPP.isSubscribed||void 0;if(b&&c)return void this.setCookie(3);var d=this.getCookie();if(""!==d||a)if(1!==parseInt(d)||a){if(2===parseInt(d)||a){var e=jQuery(".newsletter-popup"),f=jQuery(".popup-cms-block-nl"),g=function(){e.hide()};e.show().find(".close").click(function(){g()}),this.gtmNewsletterPopupShown(),e.find(".ai-subscription-place").val("popup"),e.click(function(a){a.target==this&&g()}),f.click(function(a){a.target==this&&g()}),a||this.setCookie(3)}}else this.setCookie(parseInt(++d));else this.setCookie(1)},gtmNewsletterPopupShown:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"newsletter",action:"view",label:"popup"})}},showSelectric:function(){jQuery("select.select_c").on("change",function(){var a=jQuery(this).data("options"),b="";jQuery(this).val()>0&&jQuery.each(a[jQuery(this).val()],function(a,c){b=b+"<option "+(0==a?'selected="selected"':"")+'value="'+a+'">'+c+"</option>"}),jQuery(".select2").html(jQuery(this).val()>0?'<select id="topic_id" name="topic_id" class="topic-select">'+b+"</select>":""),jQuery(".topic-select").selectric("refresh")})},postcodeHints:function(){var b=a("input.postcode, input.data-postcode, input#zip"),c=b.attr("placeholder"),d=b.attr("data-postcode");b.click(function(){var a=jQuery(this);a.val()||a.attr("placeholder",d)}),b.blur(function(){var a=jQuery(this);a.attr("placeholder",c)})},freeShippingFooter:function(){var a=jQuery("#freeShipping"),b=getCookie("free_shipping"),c=a.find(".bottom-banner-close");b||setTimeout(function(){a.addClass("bottom-banner-active")},500),c.click(function(){setCookie("free_shipping","1"),a.removeClass("bottom-banner-active")})},newsletterPromoBottomBanner:{init:function(){var a=document.getElementById("newsletterPromoBanner");if(a&&this.checkDate()){if(!getCookie("newsletterPromo")){a.classList.add("bottom-banner-active");var b=a.querySelector(".bottom-banner-close"),c=a.querySelector(".bottom-banner-text");b.addEventListener("click",function(){setCookie("newsletterPromo","1"),a.classList.remove("bottom-banner-active")},!1),c.addEventListener("click",function(){CROPP.newsletterCookie.checkCookie(!0)},!1)}}else CROPP.freeShippingFooter()},startTime:new Date(2016,5,8,10,0,0),endTime:new Date(2016,5,12,23,59,59),checkDate:function(){var a=new Date;return a=a.getTime(),a>=this.startTime.getTime()&&a<=this.endTime.getTime()}},submenuKidsMechanics:function(){var a=jQuery(".submenu.kids"),b=a.find(".parent-with-children ul"),c=b.siblings("a");b.each(function(){var a=jQuery(this);a.is(":empty")||a.siblings("a").addClass("kids-expandable-menu").append('<span class="ico"></span>')}),c.click(function(b){var c=jQuery(this),d=c.closest("li"),e=d.find("ul");a.find("li.parent-with-children").each(function(){var a=jQuery(this);a.find("ul").slideUp(),a.find("a .ico").removeClass("active")}),d.find("a .ico").addClass("active"),e.is(":hidden")?e.slideDown("swing",function(){a.css("min-height",function(){return jQuery(this).height()})}):(e.slideUp("swing"),e.siblings("a").find("span").removeClass("active")),b.preventDefault()})},submenuKidsHoverFixer:function(){var a=document.querySelector(".submenu.kids");a&&a.addEventListener("mouseleave",function(b){0===b.screenX&&0===b.screenY?a.classList.add("hover-menu"):a.classList.remove("hover-menu")})},showMoreRules:function(){jQuery(".js-show-more-button").click(function(){var a=jQuery(this),b=a.parents(".show-more-wrapper");b.addClass("active")}),jQuery(".js-show-more-input").change(function(a){a.stopPropagation();var b=jQuery(this),c=b.parents(".show-more-wrapper");b.is(":checked")?c.addClass("active"):c.removeClass("active")})},toggleEventsHandler:function(){var b=this,c=!1;return b.togglingElements=[],b.findTogglingElements=function(){b.togglingElements=[],jQuery("[data-toggle]").each(function(){var a=jQuery(this),c=a.data("toggle"),d=a.data("toggle-action");if(0===jQuery(c).length)return!1;if(b.togglingElements.push(a),a.is('input[type="checkbox"]')||a.is('input[type="radio"]'))a.unbind("change.toggleElements").bind("change.toggleElements",function(){this.checked?b.toggleElementsVisibility(c,"show",a.data("display")):b.toggleElementsVisibility(c,"hide",a.data("display"))});else if("hover"===d){var e;a.unbind("mouseenter.toggleElements").bind("mouseenter.toggleElements",function(){return b.toggleElementsVisibility(c,"show",a.data("display")),clearTimeout(e),!1}),a.unbind("mouseleave.toggleElements").bind("mouseleave.toggleElements",function(){return e=setTimeout(function(){b.toggleElementsVisibility(c,"hide",a.data("display"))},400),!1})}else a.unbind("click.toggleElements").bind("click.toggleElements",function(){return b.toggleElementsVisibility(c,!1,a.data("display")),!1})})},a("#payment-payu_account").prop("checked",!0),b.toggleElementsVisibility=function(a,c,d){var e=!0,f=d||"block";"undefined"!=typeof c&&c!==!1&&"hide"===c&&(e=!1),a instanceof Array?jQuery.each(a,function(){var a=jQuery(this);"undefined"==typeof c&&(e=!b.isElementVisible(a)),e?(b.hideConnectedElements(this),a.fadeIn(100).css("display",f)):(b.showConnectedElements(this),a.fadeOut(100))}):("undefined"==typeof c&&(e=!b.isElementVisible(a)),e?(b.hideConnectedElements(a),jQuery(a).fadeIn(100).css("display",f)):(b.showConnectedElements(a),jQuery(a).fadeOut(100)))},b.isElementVisible=function(a){return jQuery(a).is(":visible")},b.hideConnectedElements=function(a){jQuery('[data-toggle*="'+a+'"][data-hide]').hide()},b.showConnectedElements=function(a){jQuery('[data-toggle*="'+a+'"][data-hide]').show()},b.init=function(){b.findTogglingElements(),c=!0},c||b.init(),b},fCustomScrollbar:function(){jQuery("#content #lookbook .container .slidebox .products").mCustomScrollbar({theme:"dark-thin"})},errorDimensions:function(){var a=jQuery(window).height(),b=jQuery("header").height();jQuery(".error404 .span9").css("height",a-b-31)},myOrdersHeight:function(){var a=jQuery(window).height();jQuery(".my-orders .span7").css("min-height",a-232)},storeLocatorHeight:function(){var a=jQuery(window).height(),b=jQuery(".storelocator-container");b.length&&b.css("min-height",a-101)},storeLocatorMap:function(){this.getParameterByName("show")?a("#show-all-shops-in-country").addClass("active"):a("#show-all-shops").addClass("active")},getParameterByName:function(a,b){var c=new RegExp("[?&]"+a+"(=([^&#]*[^/])|&|#|$)","i"),d=c.exec(b||window.location.href);return!d||d.length<3?null:decodeURIComponent(d[2].replace(/\+/g," "))},preventAddressAmount:function(){var a=jQuery(".client-address-select"),b=a.find("label"),c=b.find(".new-address"),d=c.closest("label");b.length>8?(c.prop("disabled",!0),d.hide()):(c.prop("disabled",!1),d.show())}}),CROPP.init()}),jQuery(window).load(function(){showMessagesOnPopup()}),jQuery(document).ready(function(){setFullPage(),moveAdminMessages(),jQuery(window).resize(jQuery.throttle(200,function(){resizeSlider(),CROPP.errorDimensions(),fullHeightSection(),setFullPage(),CROPP.myOrdersHeight(),CROPP.storeLocatorHeight();var a=jQuery(window).width();jQuery(".category-layout").hasClass("more-cols")&&a<460&&jQuery(".less-cols").click(),a>CROPP.tablet&&jQuery(".items").removeClass("row-item-1 row-item-2 row-item-3")}))}),String.prototype.format=function(){var a=/\{\d+\}/g,b=arguments;return this.replace(a,function(a){return b[a.match(/\d+/)]})};var ExtLibWrapper={};jQuery(document).ready(function(){initAll()});var MessageBox;!function(a){a.show=function(a,b,c,d,e,f,g,h){"undefined"==typeof b&&(b=!0),"undefined"==typeof c&&(c=""),"undefined"==typeof d&&(d="message_box"),jQuery("body").append('<div id="'+d+'" class="'+c+' hidden"></div>');var i=jQuery("#message_box");if(b?i.html("<h2>"+a+"</h2>"):i.html(a),e){var j="",k=i.html();j+='<div class="buttons" style="text-align: center;">',j+='<a class="button add-to-cart cbox-confirm" data-answer="false" style="padding: 12px 30px 10px; float: none;">'+jsVars.answer_no+"</a>",j+='<a class="button add-to-cart cbox-confirm" data-answer="true" style="margin-left: 10px; padding: 12px 30px 10px; float: none;">'+jsVars.answer_yes+"</a>",j+="</div>",i.html(k+j),jQuery(".cbox-confirm").unbind("click.cbox_confirm").bind("click.cbox_confirm",function(){var a=jQuery(this);jQuery("#cboxClose").trigger("click"),a.data("answer")?"function"==typeof f&&f():"function"==typeof g&&g()})}return new Promise(function(a){setTimeout(function(){i.colorbox({width:"295px",overlayClose:!1,inline:!0,href:i,open:!0,onOpen:function(){jQuery(i).removeClass("hidden"),jQuery("body").css("overflow","hidden"),LPP.common.openSpinner({parentSelector:"#cboxContent",keepContent:!0})},onCleanup:function(){jQuery("body").css("overflow","auto")},onClosed:function(){jQuery("#message_box").remove(),a()},onComplete:function(){jQuery(this).colorbox.resize(),LPP.common.closeSpinner(),"function"==typeof h&&h()}})},500)})},a.error=function(b,c,d){return d=d?d:"",a.show(b,c,"error "+d)},a.success=function(b,c,d){return d=d?d:"",a.show(b,c,"success "+d)},a.notice=function(b,c,d){return d=d?d:"",a.show(b,c,"notice "+d)},a.confirm=function(b,c,d,e,f,g){return f=f?f:"",a.show(b,c,"confirm "+f,g,!0,d,e)}}(MessageBox||(MessageBox={})),jQuery(document).bind("cbox_complete",function(){jQuery("input[type=radio]:not(.radio), input[type=checkbox]:not(.checkbox)").uniform(),jQuery(".body .scroll").mCustomScrollbar({theme:"dark-thin"})}),LPP.cropp.spinnerTemplateUrl="/skin/frontend/cropp/default/javascript/modules/spinner/spinner.html";var baseRequest={apiVersion:2,apiVersionMinor:0},cardPaymentMethod={type:"CARD",parameters:{allowedAuthMethods:LPP.common.payments.googlepay.allowedCardAuthMethods,allowedCardNetworks:LPP.common.payments.googlepay.allowedCardNetworks},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"payu",gatewayMerchantId:LPP.common.payments.googlepay.posId}}},paymentsClient=null;LPP.common.payments.googlepay.sendRequest=function(a){a.beforeRequestCallback&&a.beforeRequestCallback();var b=getGooglePaymentDataRequest();getGoogleTransactionInfo().then(function(a){return b.transactionInfo=a,b}).then(function(b){getGooglePaymentsClient().loadPaymentData(b).then(function(b){LPP.common.payments.googlepay.submitCheckoutAsAjax(b.paymentMethodData.tokenizationData.token,a.form)}).catch(function(){a.afterRequestCallback&&a.afterRequestCallback()})})},LPP.common.payments.googlepay.submitCheckoutAsAjax=function(a,b){var c=jQuery(b).serializeArray();c.push({name:"token",value:a});var d=new Promise(function(a,b){jQuery.ajax({url:LPP.common.checkout.order.submit,data:jQuery.param(c),method:"POST"}).done(function(b){a(b)}).fail(function(a){b(a)})});return d.then(function(a){window.location.href=a.url}).catch(function(a){window.location.href=LPP.common.checkout.order.error})},LPP.common.payments.googlepay.getPriceFromQuote=function(){return fetch(LPP.common.baseUrl+"checkout/order/summary",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){return a.json()}).then(function(a){return{totalPrice:a.totalPrice,currencyCode:a.currencyCode}}).catch(function(){window.location=LPP.common.checkout.order.error})},LPP.common.payments.googlepay.isPaymentChecked=function(a){var b=document.querySelector(a);return!!b&&b.checked};var handleAccordions=function(){function a(){this.classList.toggle("active"),this.nextElementSibling.classList.toggle("show")}var b,c,d,e=document.getElementsByClassName("accordion");if(e)for(b=0;b<e.length;b++)for(c=e[b].querySelectorAll(".accordion-cat-title"),d=0;d<c.length;d++)c[d].onclick=a},handleValidatingZebraDatePicker=function(){var a=document.getElementsByClassName("Zebra_DatePicker_Icon_Wrapper");a.forEach(function(a){var b,c,d="input-wrapper",e=findParentWithClass(a,d);e&&(b=e.querySelector(".validation-icon")),b?a.appendChild(b):(c=document.createElement("span"),c.classList.add("validation-icon"),a.appendChild(c))})},handleSimpleTabs=function(){var a=document.querySelector(".nav-tabs");if(a)for(var b=a.querySelectorAll("a"),c=a.nextElementSibling,d=0;d<b.length;d++)b[0].classList.add("active"),b[d].addEventListener("click",function(b){b.preventDefault();var d=b.target;if(!d.classList.contains("active")){a.querySelector("a.active").classList.remove("active"),d.classList.add("active");for(var e=c.querySelectorAll(".tab-pane"),f=0;f<e.length;f++)e[f].classList.remove("active");document.getElementById(d.href.split("#")[1]).classList.add("active")}})};window.addEventListener("DOMContentLoaded",function(){initCustomerAccountView()}),window.onload=function(){handleAccordions(),handleValidatingZebraDatePicker(),handleSimpleTabs()};