(window.NArchWebpackJsonp=window.NArchWebpackJsonp||[]).push([[23],{"./packages/libs/mini-cart/src/legacy/reserved/minicart.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"Minicart",(function(){return o}));var r=n("./node_modules/tslib/tslib.es6.js"),a=n("./packages/libs/legacy-common/src/index.tsx"),s=n("./node_modules/react/index.js"),c=n("./node_modules/react-dom/index.js"),i=n("./packages/libs/mini-cart/src/legacy/reserved/thumbnail.tsx"),o=function(e){function Minicart(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){t.props.url&&(window.location.href=t.props.url)},t}return Object(r.d)(Minicart,e),Minicart.prototype.render=function(){return s.createElement(s.Fragment,null,this.renderCartButton(),!!this.props.count&&this.renderCountBadge(),!!this.props.count&&this.renderBasket())},Minicart.prototype.componentDidMount=function(){var e=this;this.parentNode=c.findDOMNode(this).parentNode,this.parentNode.addEventListener("click",this.onClick),this.props.fetchCartIfNeeded().then((function(t){e.toggleParentActive(!!t.count)}))},Minicart.prototype.componentWillReceiveProps=function(e){this.toggleParentActive(!!e.count)},Minicart.prototype.toggleParentActive=function(e){e?this.parentNode.classList.add("active"):this.parentNode.classList.remove("active")},Minicart.prototype.renderCartButton=function(){return s.createElement("a",{href:this.props.url,id:"basket-btn"},s.createElement("span",{className:"ico"}))},Minicart.prototype.renderCountBadge=function(){return s.createElement("div",{id:"prod_count"},this.props.count)},Minicart.prototype.renderItem=function(e,t){return s.createElement("li",{key:t},s.createElement("div",{className:"prod-image"},s.createElement(i.a,{src:e.img,alt:e.name})),s.createElement("div",{className:"prod-info"},s.createElement("span",{className:"prod-name"},s.createElement("a",{href:e.url},e.name)),s.createElement("span",{className:"prod-color"},s.createElement("span",{className:"title"},Object(a.__)("Colour")),s.createElement("span",{className:"color"},s.createElement("img",{src:e.color.photo,alt:e.color.color_name}))),s.createElement("span",{className:"prod-qty"},""+e.count+Object(a.__)("qty")+" x "+e.unit_price+" "+this.props.currency)))},Minicart.prototype.renderBasket=function(){var e=this;return s.createElement("div",{id:"small_basket_wrapper",className:"left mobile-now"},s.createElement("span",{className:"active-basket-price"},this.props.amount," ",s.createElement("span",{className:"currency"},this.props.currency)),s.createElement("div",{id:"small-basket"},s.createElement("ul",null,this.props.products.map((function(t,n){return n<2?e.renderItem(t,n):null}))),s.createElement("div",{className:"clearfix"}),s.createElement("span",{className:"border"}),s.createElement("span",{className:"basket-price-container"},Object(a.__)("Sum:")," ",s.createElement("span",{className:"basket-price"}," ",s.createElement("span",{className:"content"},this.props.amount),s.createElement("span",{className:"currency"}," ",this.props.currency))),s.createElement("a",{className:"btn grey",href:this.props.url},Object(a.__)("Checkout"))))},Minicart}(s.Component);t.default=o},"./packages/libs/mini-cart/src/legacy/reserved/thumbnail.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/tslib/tslib.es6.js"),a=n("./node_modules/classnames/index.js"),s=n.n(a),c=n("./node_modules/react/index.js"),i=function(e){function Thumbnail(t){var n=e.call(this,t)||this;return n.onLoad=function(e){var t=e.currentTarget.naturalHeight/e.currentTarget.naturalWidth;n.setState({className:s()("product-thumbnail",{"old-ratio":t<1,portrait:t>1,square:1===t})})},n.state={className:"product-thumbnail"},n}return Object(r.d)(Thumbnail,e),Thumbnail.prototype.render=function(){return c.createElement("img",{className:this.state.className,src:this.props.src,alt:this.props.alt,onLoad:this.onLoad})},Thumbnail.defaultProps={alt:""},Thumbnail}(c.Component)}}]);